<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Rust Reference</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-3865ffda.css">
        <link rel="stylesheet" href="css/general-4c35105a.css">
        <link rel="stylesheet" href="css/chrome-c0e702bf.css">
        <link rel="stylesheet" href="css/print-ad67d350.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome-799aeb25.css">
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight-56612340.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/reference-2fc27eaa.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-2f68ad61.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-7a7f8620.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>This book is the primary reference for the Rust programming language.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>For known bugs and omissions in this book, see our <a href="https://github.com/rust-lang/reference/issues">GitHub issues</a>. If you see a case where the compiler behavior and the text here do not agree, file an issue so we can think about which is correct.</p>
</blockquote>
</div>
<h2 id="rust-releases"><a class="header" href="#rust-releases">Rust releases</a></h2>
<p>Rust has a new language release every six weeks.
The first stable release of the language was Rust 1.0.0, followed by Rust 1.1.0 and so on.
Tools (<code>rustc</code>, <code>cargo</code>, etc.) and documentation (<a href="../std/index.html">Standard library</a>, this book, etc.) are released with the language release.</p>
<p>The latest release of this book, matching the latest Rust version, can always be found at <a href="https://doc.rust-lang.org/reference/">https://doc.rust-lang.org/reference/</a>.
Prior versions can be found by adding the Rust version before the “reference” directory.
For example, the Reference for Rust 1.49.0 is located at <a href="https://doc.rust-lang.org/1.49.0/reference/">https://doc.rust-lang.org/1.49.0/reference/</a>.</p>
<h2 id="what-the-reference-is-not"><a class="header" href="#what-the-reference-is-not">What <em>The Reference</em> is not</a></h2>
<p>This book does not serve as an introduction to the language.
Background familiarity with the language is assumed.
A separate <a href="../book/index.html">book</a> is available to help acquire such background familiarity.</p>
<p>This book also does not serve as a reference to the <a href="../std/index.html">standard library</a> included in the language distribution.
Those libraries are documented separately by extracting documentation attributes from their source code.
Many of the features that one might expect to be language features are library features in Rust, so what you’re looking for may be there, not here.</p>
<p>Similarly, this book does not usually document the specifics of <code>rustc</code> as a tool or of Cargo.
<code>rustc</code> has its own <a href="../rustc/index.html">book</a>.
Cargo has a <a href="../cargo/index.html">book</a> that contains a <a href="../cargo/reference/index.html">reference</a>.
There are a few pages such as <a href="linkage.html">linkage</a> that still describe how <code>rustc</code> works.</p>
<p>This book also only serves as a reference to what is available in stable Rust.
For unstable features being worked on, see the <a href="https://doc.rust-lang.org/nightly/unstable-book/">Unstable Book</a>.</p>
<p>Rust compilers, including <code>rustc</code>, will perform optimizations.
The reference does not specify what optimizations are allowed or disallowed.
Instead, think of the compiled program as a black box.
You can only probe by running it, feeding it input and observing its output.
Everything that happens that way must conform to what the reference says.</p>
<h2 id="how-to-use-this-book"><a class="header" href="#how-to-use-this-book">How to use this book</a></h2>
<p>This book does not assume you are reading this book sequentially.
Each chapter generally can be read standalone, but will cross-link to other chapters for facets of the language they refer to, but do not discuss.</p>
<p>There are two main ways to read this document.</p>
<p>The first is to answer a specific question.
If you know which chapter answers that question, you can jump to that chapter in the table of contents.
Otherwise, you can press <code>s</code> or click the magnifying glass on the top bar to search for keywords related to your question.
For example, say you wanted to know when a temporary value created in a let statement is dropped.
If you didn’t already know that the <a href="expressions.html#temporaries">lifetime of temporaries</a> is defined in the <a href="expressions.html">expressions chapter</a>, you could search “temporary let” and the first search result will take you to that section.</p>
<p>The second is to generally improve your knowledge of a facet of the language.
In that case, just browse the table of contents until you see something you want to know more about, and just start reading.
If a link looks interesting, click it, and read about that section.</p>
<p>That said, there is no wrong way to read this book. Read it however you feel helps you best.</p>
<h3 id="conventions"><a class="header" href="#conventions">Conventions</a></h3>
<p>Like all technical books, this book has certain conventions in how it displays information.
These conventions are documented here.</p>
<ul>
<li>
<p>Statements that define a term contain that term in <em>italics</em>.
Whenever that term is used outside of that chapter, it is usually a link to the section that has this definition.</p>
<p>An <em>example term</em> is an example of a term being defined.</p>
</li>
<li>
<p>The main text describes the latest stable edition. Differences to previous editions are separated in edition blocks:</p>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2018</span> Edition differences</p>
<p>Before the 2018 edition, the behavior was this. As of the 2018 edition, the behavior is that.</p>
</blockquote>
</div>
</li>
<li>
<p>Notes that contain useful information about the state of the book or point out useful, but mostly out of scope, information are in note blocks.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>This is an example note.</p>
</blockquote>
</div>
</li>
<li>
<p>Example blocks show an example that demonstrates some rule or points out some interesting aspect. Some examples may have hidden lines which can be viewed by clicking the eye icon that appears when hovering or tapping the example.</p>
<div class="alert alert-example">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p>
<p>This is a code example.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!("hello world");
<span class="boring">}</span></code></pre></pre>
</blockquote>
</div>
</li>
<li>
<p>Warnings that show unsound behavior in the language or possibly confusing interactions of language features are in a special warning box.</p>
<div class="alert alert-warning">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p>
<p>This is an example warning.</p>
</blockquote>
</div>
</li>
<li>
<p>Code snippets inline in the text are inside <code>&lt;code&gt;</code> tags.</p>
<p>Longer code examples are in a syntax highlighted box that has controls for copying, executing, and showing hidden lines in the top right corner.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">// This is a hidden line.
</span>fn main() {
    println!("This is a code example");
}</code></pre></pre>
<p>All examples are written for the latest edition unless otherwise stated.</p>
</li>
<li>
<p>The grammar and lexical productions are described in the <a href="notation.html">Notation</a> chapter.</p>
</li>
</ul>
<div class="rule" id="r-example.rule.label"><a class="rule-link" href="introduction.html#r-example.rule.label" title="example.rule.label"><span>[example<wbr>.rule<wbr>.label]</span></a>
</div>
<ul>
<li>
<p>Rule identifiers appear before each language rule enclosed in square brackets. These identifiers provide a way to refer to and link to a specific rule in the language (<a href="introduction.html#r-example.rule.label">e.g.</a>). The rule identifier uses periods to separate sections from most general to most specific (<a href="destructors.html#r-destructors.scope.nesting.function-body">destructors.scope.nesting.function-body</a> for example). On narrow screens, the rule name will collapse to display <code>[*]</code>.</p>
<p>The rule name can be clicked to link to that rule.</p>
<div class="alert alert-warning">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p>
<p>The organization of the rules is currently in flux. For the time being, these identifier names are not stable between releases, and links to these rules may fail if they are changed. We intend to stabilize these once the organization has settled so that links to the rule names will not break between releases.</p>
</blockquote>
</div>
</li>
<li>
<p>Rules that have associated tests will include a <code>Tests</code> link below them (on narrow screens, the link is <code>[T]</code>). Clicking the link will pop up a list of tests, which can be clicked to view the test. For example, see <a href="input-format.html#r-input.encoding.utf8">input.encoding.utf8</a>.</p>
<p>Linking rules to tests is an ongoing effort. See the <a href="test-summary.html">Test summary</a> chapter for an overview.</p>
</li>
</ul>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<p>We welcome contributions of all kinds.</p>
<p>You can contribute to this book by opening an issue or sending a pull request to <a href="https://github.com/rust-lang/reference/">the Rust Reference repository</a>.
If this book does not answer your question, and you think its answer is in scope of it, please do not hesitate to <a href="https://github.com/rust-lang/reference/issues">file an issue</a> or ask about it in the <code>t-lang/doc</code> stream on <a href="https://rust-lang.zulipchat.com/#narrow/stream/237824-t-lang.2Fdoc">Zulip</a>.
Knowing what people use this book for the most helps direct our attention to making those sections the best that they can be.
And of course, if you see anything that is wrong or is non-normative but not specifically called out as such, please also <a href="https://github.com/rust-lang/reference/issues">file an issue</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-notation"><a class="rule-link" href="notation.html#r-notation" title="notation"><span>[notation]</span></a>
</div>
<h1 id="notation"><a class="header" href="#notation">Notation</a></h1>
<div class="rule" id="r-notation.grammar"><a class="rule-link" href="notation.html#r-notation.grammar" title="notation.grammar"><span>[notation<wbr>.grammar]</span></a>
</div>
<h2 id="grammar"><a class="header" href="#grammar">Grammar</a></h2>
<div class="rule" id="r-notation.grammar.syntax"><a class="rule-link" href="notation.html#r-notation.grammar.syntax" title="notation.grammar.syntax"><span>[notation<wbr>.grammar<wbr>.syntax]</span></a>
</div>
<p>The following notations are used by the <em>Lexer</em> and <em>Syntax</em> grammar snippets:</p>
<div class="table-wrapper"><table><thead><tr><th>Notation</th><th>Examples</th><th>Meaning</th></tr></thead><tbody>
<tr><td>CAPITAL</td><td>KW_IF, INTEGER_LITERAL</td><td>A token produced by the lexer</td></tr>
<tr><td><em>ItalicCamelCase</em></td><td><em>LetStatement</em>, <em>Item</em></td><td>A syntactical production</td></tr>
<tr><td><code>string</code></td><td><code>x</code>, <code>while</code>, <code>*</code></td><td>The exact character(s)</td></tr>
<tr><td>x<sup>?</sup></td><td><code>pub</code><sup>?</sup></td><td>An optional item</td></tr>
<tr><td>x<sup>*</sup></td><td><em>OuterAttribute</em><sup>*</sup></td><td>0 or more of x</td></tr>
<tr><td>x<sup>+</sup></td><td><em>MacroMatch</em><sup>+</sup></td><td>1 or more of x</td></tr>
<tr><td>x<sup>a..b</sup></td><td>HEX_DIGIT<sup>1..6</sup></td><td>a to b repetitions of x</td></tr>
<tr><td>Rule1 Rule2</td><td><code>fn</code> <em>Name</em> <em>Parameters</em></td><td>Sequence of rules in order</td></tr>
<tr><td>|</td><td><code>u8</code> | <code>u16</code>, Block | Item</td><td>Either one or another</td></tr>
<tr><td>[ ]</td><td>[<code>b</code> <code>B</code>]</td><td>Any of the characters listed</td></tr>
<tr><td>[ - ]</td><td>[<code>a</code>-<code>z</code>]</td><td>Any of the characters in the range</td></tr>
<tr><td>~[ ]</td><td>~[<code>b</code> <code>B</code>]</td><td>Any characters, except those listed</td></tr>
<tr><td>~<code>string</code></td><td>~<code>\n</code>, ~<code>*/</code></td><td>Any characters, except this sequence</td></tr>
<tr><td>( )</td><td>(<code>,</code> <em>Parameter</em>)<sup>?</sup></td><td>Groups items</td></tr>
<tr><td>U+xxxx</td><td>U+0060</td><td>A single unicode character</td></tr>
<tr><td>&lt;text&gt;</td><td>&lt;any ASCII char except CR&gt;</td><td>An English description of what should be matched</td></tr>
<tr><td>Rule <sub>suffix</sub></td><td>IDENTIFIER_OR_KEYWORD <sub><em>except <code>crate</code></em></sub></td><td>A modification to the previous rule</td></tr>
<tr><td>// Comment.</td><td>// Single line comment.</td><td>A comment extending to the end of the line.</td></tr>
</tbody></table>
</div>
<p>Sequences have a higher precedence than <code>|</code> alternation.</p>
<div class="rule" id="r-notation.grammar.string-tables"><a class="rule-link" href="notation.html#r-notation.grammar.string-tables" title="notation.grammar.string-tables"><span>[notation<wbr>.grammar<wbr>.string-tables]</span></a>
</div>
<h3 id="string-table-productions"><a class="header" href="#string-table-productions">String table productions</a></h3>
<p>Some rules in the grammar — notably <a href="expressions/operator-expr.html#borrow-operators">unary operators</a>, <a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">binary
operators</a>, and <a href="keywords.html">keywords</a> — are given in a simplified form: as a listing
of printable strings. These cases form a subset of the rules regarding the
<a href="tokens.html">token</a> rule, and are assumed to be the result of a lexical-analysis
phase feeding the parser, driven by a <abbr title="Deterministic Finite
Automaton">DFA</abbr>, operating over the disjunction of all such string table
entries.</p>
<p>When such a string in <code>monospace</code> font occurs inside the grammar,
it is an implicit reference to a single member of such a string table
production. See <a href="tokens.html">tokens</a> for more information.</p>
<div class="rule" id="r-notation.grammar.visualizations"><a class="rule-link" href="notation.html#r-notation.grammar.visualizations" title="notation.grammar.visualizations"><span>[notation<wbr>.grammar<wbr>.visualizations]</span></a>
</div>
<h3 id="grammar-visualizations"><a class="header" href="#grammar-visualizations">Grammar visualizations</a></h3>
<p>Below each grammar block is a button to toggle the display of a <a href="https://en.wikipedia.org/wiki/Syntax_diagram">syntax diagram</a>. A square element is a non-terminal rule, and a rounded rectangle is a terminal.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lexical-structure"><a class="header" href="#lexical-structure">Lexical structure</a></h1>
<!-- Editor Note: Oh, there's nothing here -->
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-input"><a class="rule-link" href="input-format.html#r-input" title="input"><span>[input]</span></a>
</div>
<h1 id="input-format"><a class="header" href="#input-format">Input format</a></h1>
<div class="rule" id="r-input.syntax"><a class="rule-link" href="input-format.html#r-input.syntax" title="input.syntax"><span>[input<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-CHAR" onclick="show_railroad()"><a href="input-format.html#railroad-CHAR">CHAR</a></span> → <span class="grammar-text">&lt;a Unicode scalar value&gt;</span></p>
<p><span class="grammar-text grammar-production" id="grammar-NUL" onclick="show_railroad()"><a href="input-format.html#railroad-NUL">NUL</a></span> → U+0000</p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 274px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CHAR"><svg class="railroad" viewBox="0 0 274 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="input-format.html#grammar-CHAR">
<text class="comment" x="29" y="25">
CHAR</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="204" x="35" y="42"/>
<text x="137" y="58">
a Unicode scalar value</text>
</g>
<path d=" M 249 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 239 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 138px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-NUL"><svg class="railroad" viewBox="0 0 138 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="input-format.html#grammar-NUL">
<text class="comment" x="25" y="25">
NUL</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="35" y="42"/>
<text x="69" y="58">
U+0000</text>
</g>
<path d=" M 113 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 103 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-input.intro"><a class="rule-link" href="input-format.html#r-input.intro" title="input.intro"><span>[input<wbr>.intro]</span></a>
</div>
<p>This chapter describes how a source file is interpreted as a sequence of tokens.</p>
<p>See <a href="crates-and-source-files.html">Crates and source files</a> for a description of how programs are organised into files.</p>
<div class="rule" id="r-input.encoding"><a class="rule-link" href="input-format.html#r-input.encoding" title="input.encoding"><span>[input<wbr>.encoding]</span></a>
</div>
<h2 id="source-encoding"><a class="header" href="#source-encoding">Source encoding</a></h2>
<div class="rule" id="r-input.encoding.utf8"><a class="rule-link" href="input-format.html#r-input.encoding.utf8" title="input.encoding.utf8"><span>[input<wbr>.encoding<wbr>.utf8]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('input.encoding.utf8');"><span>Tests</span></a></div>
</div>
<div id="tests-input.encoding.utf8" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/macros/not-utf8.rs">tests/ui/macros/not-utf8.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/utf16-be-without-bom.rs">tests/ui/parser/utf16-be-without-bom.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/utf16-le-without-bom.rs">tests/ui/parser/utf16-le-without-bom.rs</a></li>
</ul></div>
<p>Each source file is interpreted as a sequence of Unicode characters encoded in UTF-8.</p>
<div class="rule" id="r-input.encoding.invalid"><a class="rule-link" href="input-format.html#r-input.encoding.invalid" title="input.encoding.invalid"><span>[input<wbr>.encoding<wbr>.invalid]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('input.encoding.invalid');"><span>Tests</span></a></div>
</div>
<div id="tests-input.encoding.invalid" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/macros/not-utf8.rs">tests/ui/macros/not-utf8.rs</a></li>
</ul></div>
<p>It is an error if the file is not valid UTF-8.</p>
<div class="rule" id="r-input.byte-order-mark"><a class="rule-link" href="input-format.html#r-input.byte-order-mark" title="input.byte-order-mark"><span>[input<wbr>.byte-order-mark]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('input.byte-order-mark');"><span>Tests</span></a></div>
</div>
<div id="tests-input.byte-order-mark" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/codemap_tests/utf8-bom.rs">tests/ui/codemap_tests/utf8-bom.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/json/json-bom-plus-crlf-multifile.rs">tests/ui/json/json-bom-plus-crlf-multifile.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/json/json-bom-plus-crlf.rs">tests/ui/json/json-bom-plus-crlf.rs</a></li>
</ul></div>
<h2 id="byte-order-mark-removal"><a class="header" href="#byte-order-mark-removal">Byte order mark removal</a></h2>
<p>If the first character in the sequence is <code>U+FEFF</code> (<a href="https://en.wikipedia.org/wiki/Byte_order_mark#UTF-8">BYTE ORDER MARK</a>), it is removed.</p>
<div class="rule" id="r-input.crlf"><a class="rule-link" href="input-format.html#r-input.crlf" title="input.crlf"><span>[input<wbr>.crlf]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('input.crlf');"><span>Tests</span></a></div>
</div>
<div id="tests-input.crlf" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/json/json-bom-plus-crlf-multifile.rs">tests/ui/json/json-bom-plus-crlf-multifile.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/json/json-bom-plus-crlf.rs">tests/ui/json/json-bom-plus-crlf.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/lexer/lexer-crlf-line-endings-string-literal-doc-comment.rs">tests/ui/lexer/lexer-crlf-line-endings-string-literal-doc-comment.rs</a></li>
</ul></div>
<h2 id="crlf-normalization"><a class="header" href="#crlf-normalization">CRLF normalization</a></h2>
<p>Each pair of characters <code>U+000D</code> (CR) immediately followed by <code>U+000A</code> (LF) is replaced by a single <code>U+000A</code> (LF).
This happens once, not repeatedly, so after the normalization, there can still exist <code>U+000D</code> (CR) immediately followed by <code>U+000A</code> (LF) in the input (e.g. if the raw input contained “CR CR LF LF”).</p>
<p>Other occurrences of the character <code>U+000D</code> (CR) are left in place (they are treated as <a href="whitespace.html">whitespace</a>).</p>
<div class="rule" id="r-input.shebang"><a class="rule-link" href="input-format.html#r-input.shebang" title="input.shebang"><span>[input<wbr>.shebang]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('input.shebang');"><span>Tests</span></a></div>
</div>
<div id="tests-input.shebang" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/issue-71471-ignore-tidy.rs">tests/ui/parser/shebang/issue-71471-ignore-tidy.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/shebang-comment.rs">tests/ui/parser/shebang/shebang-comment.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/shebang-empty.rs">tests/ui/parser/shebang/shebang-empty.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/shebang-must-start-file.rs">tests/ui/parser/shebang/shebang-must-start-file.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/shebang-space.rs">tests/ui/parser/shebang/shebang-space.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/valid-shebang.rs">tests/ui/parser/shebang/valid-shebang.rs</a></li>
</ul></div>
<h2 id="shebang-removal"><a class="header" href="#shebang-removal">Shebang removal</a></h2>
<div class="rule" id="r-input.shebang.intro"><a class="rule-link" href="input-format.html#r-input.shebang.intro" title="input.shebang.intro"><span>[input<wbr>.shebang<wbr>.intro]</span></a>
</div>
<p>If the remaining sequence begins with the characters <code>#!</code>, the characters up to and including the first <code>U+000A</code> (LF) are removed from the sequence.</p>
<p>For example, the first line of the following file would be ignored:</p>
<!-- ignore: tests don't like shebang -->
<pre><code class="language-rust ignore">#!/usr/bin/env rustx

fn main() {
    println!("Hello!");
}</code></pre>
<div class="rule" id="r-input.shebang.inner-attribute"><a class="rule-link" href="input-format.html#r-input.shebang.inner-attribute" title="input.shebang.inner-attribute"><span>[input<wbr>.shebang<wbr>.inner-attribute]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('input.shebang.inner-attribute');"><span>Tests</span></a></div>
</div>
<div id="tests-input.shebang.inner-attribute" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/multiline-attrib.rs">tests/ui/parser/shebang/multiline-attrib.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/regular-attrib.rs">tests/ui/parser/shebang/regular-attrib.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/shebang-and-attrib.rs">tests/ui/parser/shebang/shebang-and-attrib.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/shebang-doc-comment.rs">tests/ui/parser/shebang/shebang-doc-comment.rs</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui/parser/shebang/sneaky-attrib.rs">tests/ui/parser/shebang/sneaky-attrib.rs</a></li>
</ul></div>
<p>As an exception, if the <code>#!</code> characters are followed (ignoring intervening <a href="comments.html">comments</a> or <a href="whitespace.html">whitespace</a>) by a <code>[</code> token, nothing is removed.
This prevents an <a href="attributes.html">inner attribute</a> at the start of a source file being removed.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>The standard library <a href="../core/macro.include.html"><code>include!</code></a> macro applies byte order mark removal, CRLF normalization, and shebang removal to the file it reads. The <a href="../core/macro.include_str.html"><code>include_str!</code></a> and <a href="../core/macro.include_bytes.html"><code>include_bytes!</code></a> macros do not.</p>
</blockquote>
</div>
<div class="rule" id="r-input.tokenization"><a class="rule-link" href="input-format.html#r-input.tokenization" title="input.tokenization"><span>[input<wbr>.tokenization]</span></a>
</div>
<h2 id="tokenization"><a class="header" href="#tokenization">Tokenization</a></h2>
<p>The resulting sequence of characters is then converted into tokens as described in the remainder of this chapter.</p>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-lex.keywords"><a class="rule-link" href="keywords.html#r-lex.keywords" title="lex.keywords"><span>[lex<wbr>.keywords]</span></a>
</div>
<h1 id="keywords"><a class="header" href="#keywords">Keywords</a></h1>
<p>Rust divides keywords into three categories:</p>
<ul>
<li><a href="keywords.html#strict-keywords">strict</a></li>
<li><a href="keywords.html#reserved-keywords">reserved</a></li>
<li><a href="keywords.html#weak-keywords">weak</a></li>
</ul>
<div class="rule" id="r-lex.keywords.strict"><a class="rule-link" href="keywords.html#r-lex.keywords.strict" title="lex.keywords.strict"><span>[lex<wbr>.keywords<wbr>.strict]</span></a>
</div>
<h2 id="strict-keywords"><a class="header" href="#strict-keywords">Strict keywords</a></h2>
<div class="rule" id="r-lex.keywords.strict.intro"><a class="rule-link" href="keywords.html#r-lex.keywords.strict.intro" title="lex.keywords.strict.intro"><span>[lex<wbr>.keywords<wbr>.strict<wbr>.intro]</span></a>
</div>
<p>These keywords can only be used in their correct contexts. They cannot
be used as the names of:</p>
<ul>
<li><a href="items.html">Items</a></li>
<li><a href="variables.html">Variables</a> and function parameters</li>
<li>Fields and <a href="items/enumerations.html">variants</a></li>
<li><a href="types/parameters.html">Type parameters</a></li>
<li>Lifetime parameters or <a href="expressions/loop-expr.html#loop-labels">loop labels</a></li>
<li><a href="macros.html">Macros</a> or <a href="attributes.html">attributes</a></li>
<li><a href="macros-by-example.html">Macro placeholders</a></li>
<li><a href="crates-and-source-files.html">Crates</a></li>
</ul>
<div class="rule" id="r-lex.keywords.strict.list"><a class="rule-link" href="keywords.html#r-lex.keywords.strict.list" title="lex.keywords.strict.list"><span>[lex<wbr>.keywords<wbr>.strict<wbr>.list]</span></a>
</div>
<p>The following keywords are in all editions:</p>
<ul>
<li><code>as</code></li>
<li><code>async</code></li>
<li><code>await</code></li>
<li><code>break</code></li>
<li><code>const</code></li>
<li><code>continue</code></li>
<li><code>crate</code></li>
<li><code>dyn</code></li>
<li><code>else</code></li>
<li><code>enum</code></li>
<li><code>extern</code></li>
<li><code>false</code></li>
<li><code>fn</code></li>
<li><code>for</code></li>
<li><code>if</code></li>
<li><code>impl</code></li>
<li><code>in</code></li>
<li><code>let</code></li>
<li><code>loop</code></li>
<li><code>match</code></li>
<li><code>mod</code></li>
<li><code>move</code></li>
<li><code>mut</code></li>
<li><code>pub</code></li>
<li><code>ref</code></li>
<li><code>return</code></li>
<li><code>self</code></li>
<li><code>Self</code></li>
<li><code>static</code></li>
<li><code>struct</code></li>
<li><code>super</code></li>
<li><code>trait</code></li>
<li><code>true</code></li>
<li><code>type</code></li>
<li><code>unsafe</code></li>
<li><code>use</code></li>
<li><code>where</code></li>
<li><code>while</code></li>
</ul>
<div class="rule" id="r-lex.keywords.strict.edition2018"><a class="rule-link" href="keywords.html#r-lex.keywords.strict.edition2018" title="lex.keywords.strict.edition2018"><span>[lex<wbr>.keywords<wbr>.strict<wbr>.edition2018]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2018</span> Edition differences</p>
<p>The following keywords were added in the 2018 edition:</p>
<ul>
<li><code>async</code></li>
<li><code>await</code></li>
<li><code>dyn</code></li>
</ul>
</blockquote>
</div>
<div class="rule" id="r-lex.keywords.reserved"><a class="rule-link" href="keywords.html#r-lex.keywords.reserved" title="lex.keywords.reserved"><span>[lex<wbr>.keywords<wbr>.reserved]</span></a>
</div>
<h2 id="reserved-keywords"><a class="header" href="#reserved-keywords">Reserved keywords</a></h2>
<div class="rule" id="r-lex.keywords.reserved.intro"><a class="rule-link" href="keywords.html#r-lex.keywords.reserved.intro" title="lex.keywords.reserved.intro"><span>[lex<wbr>.keywords<wbr>.reserved<wbr>.intro]</span></a>
</div>
<p>These keywords aren’t used yet, but they are reserved for future use. They have
the same restrictions as strict keywords. The reasoning behind this is to make
current programs forward compatible with future versions of Rust by forbidding
them to use these keywords.</p>
<div class="rule" id="r-lex.keywords.reserved.list"><a class="rule-link" href="keywords.html#r-lex.keywords.reserved.list" title="lex.keywords.reserved.list"><span>[lex<wbr>.keywords<wbr>.reserved<wbr>.list]</span></a>
</div>
<ul>
<li><code>abstract</code></li>
<li><code>become</code></li>
<li><code>box</code></li>
<li><code>do</code></li>
<li><code>final</code></li>
<li><code>gen</code></li>
<li><code>macro</code></li>
<li><code>override</code></li>
<li><code>priv</code></li>
<li><code>try</code></li>
<li><code>typeof</code></li>
<li><code>unsized</code></li>
<li><code>virtual</code></li>
<li><code>yield</code></li>
</ul>
<div class="rule" id="r-lex.keywords.reserved.edition2018"><a class="rule-link" href="keywords.html#r-lex.keywords.reserved.edition2018" title="lex.keywords.reserved.edition2018"><span>[lex<wbr>.keywords<wbr>.reserved<wbr>.edition2018]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2018</span> Edition differences</p>
<p>The <code>try</code> keyword was added as a reserved keyword in the 2018 edition.</p>
</blockquote>
</div>
<div class="rule" id="r-lex.keywords.reserved.edition2024"><a class="rule-link" href="keywords.html#r-lex.keywords.reserved.edition2024" title="lex.keywords.reserved.edition2024"><span>[lex<wbr>.keywords<wbr>.reserved<wbr>.edition2024]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>
<p>The <code>gen</code> keyword was added as a reserved keyword in the 2024 edition.</p>
</blockquote>
</div>
<div class="rule" id="r-lex.keywords.weak"><a class="rule-link" href="keywords.html#r-lex.keywords.weak" title="lex.keywords.weak"><span>[lex<wbr>.keywords<wbr>.weak]</span></a>
</div>
<h2 id="weak-keywords"><a class="header" href="#weak-keywords">Weak keywords</a></h2>
<div class="rule" id="r-lex.keywords.weak.intro"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.intro" title="lex.keywords.weak.intro"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.intro]</span></a>
</div>
<p>These keywords have special meaning only in certain contexts. For example, it
is possible to declare a variable or method with the name <code>union</code>.</p>
<ul>
<li><code>'static</code></li>
<li><code>macro_rules</code></li>
<li><code>raw</code></li>
<li><code>safe</code></li>
<li><code>union</code></li>
</ul>
<div class="rule" id="r-lex.keywords.weak.macro_rules"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.macro_rules" title="lex.keywords.weak.macro_rules"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.macro_rules]</span></a>
</div>
<ul>
<li><code>macro_rules</code> is used to create custom <a href="macros.html">macros</a>.</li>
</ul>
<div class="rule" id="r-lex.keywords.weak.union"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.union" title="lex.keywords.weak.union"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.union]</span></a>
</div>
<ul>
<li><code>union</code> is used to declare a <a href="items/unions.html">union</a> and is only a keyword when used in a
union declaration.</li>
</ul>
<div class="rule" id="r-lex.keywords.weak.lifetime-static"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.lifetime-static" title="lex.keywords.weak.lifetime-static"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.lifetime-static]</span></a>
</div>
<ul>
<li>
<p><code>'static</code> is used for the static lifetime and cannot be used as a <a href="items/generics.html">generic
lifetime parameter</a> or <a href="expressions/loop-expr.html#loop-labels">loop label</a></p>
<pre><code class="language-compile_fail">// error[E0262]: invalid lifetime parameter name: `'static`
fn invalid_lifetime_parameter&lt;'static&gt;(s: &amp;'static str) -&gt; &amp;'static str { s }
</code></pre>
</li>
</ul>
<div class="rule" id="r-lex.keywords.weak.safe"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.safe" title="lex.keywords.weak.safe"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.safe]</span></a>
</div>
<ul>
<li><code>safe</code> is used for functions and statics, which has meaning in <a href="items/external-blocks.html">external blocks</a>.</li>
</ul>
<div class="rule" id="r-lex.keywords.weak.raw"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.raw" title="lex.keywords.weak.raw"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.raw]</span></a>
</div>
<ul>
<li><code>raw</code> is used for <a href="expressions/operator-expr.html#raw-borrow-operators">raw borrow operators</a>, and is only a keyword when matching a raw borrow operator form (such as <code>&amp;raw const expr</code> or <code>&amp;raw mut expr</code>).</li>
</ul>
<div class="rule" id="r-lex.keywords.weak.dyn.edition2018"><a class="rule-link" href="keywords.html#r-lex.keywords.weak.dyn.edition2018" title="lex.keywords.weak.dyn.edition2018"><span>[lex<wbr>.keywords<wbr>.weak<wbr>.dyn<wbr>.edition2018]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2018</span> Edition differences</p>
<p>In the 2015 edition, <a href="types/trait-object.html"><code>dyn</code></a> is a keyword when used in a type position followed by a path that does not start with <code>::</code> or <code>&lt;</code>, a lifetime, a question mark, a <code>for</code> keyword or an opening parenthesis.</p>
<p>Beginning in the 2018 edition, <code>dyn</code> has been promoted to a strict keyword.</p>
</blockquote>
</div>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-ident"><a class="rule-link" href="identifiers.html#r-ident" title="ident"><span>[ident]</span></a>
</div>
<h1 id="identifiers"><a class="header" href="#identifiers">Identifiers</a></h1>
<div class="rule" id="r-ident.syntax"><a class="rule-link" href="identifiers.html#r-ident.syntax" title="ident.syntax"><span>[ident<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-IDENTIFIER_OR_KEYWORD" onclick="show_railroad()"><a href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span> → <br />
      <span class="grammar-text"><a href="identifiers.html#grammar-XID_Start">XID_Start</a></span> <span class="grammar-text"><a href="identifiers.html#grammar-XID_Continue">XID_Continue</a></span><sup>*</sup> <br />
    | <span class="grammar-literal">_</span> <span class="grammar-text"><a href="identifiers.html#grammar-XID_Continue">XID_Continue</a></span><sup>+</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-XID_Start" onclick="show_railroad()"><a href="identifiers.html#railroad-XID_Start">XID_Start</a></span> → <span class="grammar-text">&lt;<code>XID_Start</code> defined by Unicode&gt;</span></p>
<p><span class="grammar-text grammar-production" id="grammar-XID_Continue" onclick="show_railroad()"><a href="identifiers.html#railroad-XID_Continue">XID_Continue</a></span> → <span class="grammar-text">&lt;<code>XID_Continue</code> defined by Unicode&gt;</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RAW_IDENTIFIER" onclick="show_railroad()"><a href="identifiers.html#railroad-RAW_IDENTIFIER">RAW_IDENTIFIER</a></span> → <span class="grammar-literal">r#</span> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>crate</code>, <code>self</code>, <code>super</code>, <code>Self</code></sub></p>
<p><span class="grammar-text grammar-production" id="grammar-NON_KEYWORD_IDENTIFIER" onclick="show_railroad()"><a href="identifiers.html#railroad-NON_KEYWORD_IDENTIFIER">NON_KEYWORD_IDENTIFIER</a></span> → <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except a <a href="keywords.html#r-lex.keywords.strict">strict</a> or <a href="keywords.html#r-lex.keywords.reserved">reserved</a> keyword</sub></p>
<p><span class="grammar-text grammar-production" id="grammar-IDENTIFIER" onclick="show_railroad()"><a href="identifiers.html#railroad-IDENTIFIER">IDENTIFIER</a></span> → <span class="grammar-text"><a href="identifiers.html#grammar-NON_KEYWORD_IDENTIFIER">NON_KEYWORD_IDENTIFIER</a></span> | <span class="grammar-text"><a href="identifiers.html#grammar-RAW_IDENTIFIER">RAW_IDENTIFIER</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RESERVED_RAW_IDENTIFIER" onclick="show_railroad()"><a href="identifiers.html#railroad-RESERVED_RAW_IDENTIFIER">RESERVED_RAW_IDENTIFIER</a></span> → <span class="grammar-literal">r#_</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 408px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-IDENTIFIER_OR_KEYWORD"><svg class="railroad" viewBox="0 0 408 146" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">
<text class="comment" x="92" y="25">
IDENTIFIER_OR_KEYWORD</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 66 h 24 m 290 0 h 24"/>
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-XID_Start">
<g class="nonterminal">
<rect height="22" width="92" x="59" y="55"/>
<text x="105" y="71">
XID_Start</text>
</g>
</a>
<g class="optional">
<path d=" M 161 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 140 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 185 66 h 12 m 116 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -116 m 61 0 l 5 -5 m 0 10 l -5 -5 m -61 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="identifiers.html#railroad-XID_Continue">
<g class="nonterminal">
<rect height="22" width="116" x="197" y="55"/>
<text x="255" y="71">
XID_Continue</text>
</g>
</a>
</g>
</g>
<path d=" M 151 66 h 10"/>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 22 m 314 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 100 v 0 a 12 12 0 0 0 12 12 m 178 0 h 112 m -53 0 l -5 -5 m 0 10 l 5 -5 m 53 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="101"/>
<text x="73" y="117">
_</text>
</g>
<g class="repeat">
<path d=" M 97 112 h 12 m 116 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -116 m 61 0 l 5 -5 m 0 10 l -5 -5 m -61 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="identifiers.html#railroad-XID_Continue">
<g class="nonterminal">
<rect height="22" width="116" x="109" y="101"/>
<text x="167" y="117">
XID_Continue</text>
</g>
</a>
</g>
<path d=" M 87 112 h 10"/>
</g>
</g>
<path d=" M 383 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 373 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 338px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-XID_Start"><svg class="railroad" viewBox="0 0 338 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-XID_Start">
<text class="comment" x="46" y="25">
XID_Start</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="268" x="35" y="42"/>
<text x="169" y="58">
`XID_Start` defined by Unicode</text>
</g>
<path d=" M 313 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 303 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 362px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-XID_Continue"><svg class="railroad" viewBox="0 0 362 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-XID_Continue">
<text class="comment" x="57" y="25">
XID_Continue</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="292" x="35" y="42"/>
<text x="181" y="58">
`XID_Continue` defined by Unicode</text>
</g>
<path d=" M 337 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 327 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 422px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_IDENTIFIER"><svg class="railroad" viewBox="0 0 422 118" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-RAW_IDENTIFIER">
<text class="comment" x="64" y="25">
RAW_IDENTIFIER</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="78"/>
<text x="53" y="94">
r#</text>
</g>
<g class="labeledbox">
<rect height="66" width="306" x="81" y="42"/>
<path d=" M 81 89 h 8 m 196 0 h 102 m -48 0 l -5 -5 m 0 10 l 5 -5 m 48 0"/>
<text class="comment" x="234" y="65">
except `crate`, `self`, `super`, `Self`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="89" y="78"/>
<text x="187" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 71 89 h 10"/>
</g>
<path d=" M 397 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 387 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 348px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-NON_KEYWORD_IDENTIFIER"><svg class="railroad" viewBox="0 0 348 118" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-NON_KEYWORD_IDENTIFIER">
<text class="comment" x="95" y="25">
NON_KEYWORD_IDENTIFIER</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="labeledbox">
<rect height="66" width="278" x="35" y="42"/>
<path d=" M 35 89 h 8 m 196 0 h 74 m -34 0 l -5 -5 m 0 10 l 5 -5 m 34 0"/>
<text class="comment" x="174" y="65">
except a strict or reserved keyword</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="43" y="78"/>
<text x="141" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 323 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 313 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 322px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-IDENTIFIER"><svg class="railroad" viewBox="0 0 322 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-IDENTIFIER">
<text class="comment" x="50" y="25">
IDENTIFIER</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 204 0 h 24"/>
<a class="link" xlink:href="identifiers.html#railroad-NON_KEYWORD_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="204" x="59" y="42"/>
<text x="161" y="58">
NON_KEYWORD_IDENTIFIER</text>
</g>
</a>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 228 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 132 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="identifiers.html#railroad-RAW_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="75"/>
<text x="125" y="91">
RAW_IDENTIFIER</text>
</g>
</a>
</g>
<path d=" M 297 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 287 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 198px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_RAW_IDENTIFIER"><svg class="railroad" viewBox="0 0 198 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="identifiers.html#grammar-RESERVED_RAW_IDENTIFIER">
<text class="comment" x="99" y="25">
RESERVED_RAW_IDENTIFIER</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42"/>
<text x="57" y="58">
r#_</text>
</g>
<path d=" M 89 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 79 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<!-- When updating the version, update the UAX links, too. -->
<div class="rule" id="r-ident.unicode"><a class="rule-link" href="identifiers.html#r-ident.unicode" title="ident.unicode"><span>[ident<wbr>.unicode]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('ident.unicode');"><span>Tests</span></a></div>
</div>
<div id="tests-ident.unicode" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui-fulldeps/lexer/unicode-version.rs">tests/ui-fulldeps/lexer/unicode-version.rs</a></li>
</ul></div>
<p>Identifiers follow the specification in <a href="https://www.unicode.org/reports/tr31/tr31-41.html">Unicode Standard Annex #31</a> for Unicode version 16.0, with the additions described below. Some examples of identifiers:</p>
<ul>
<li><code>foo</code></li>
<li><code>_identifier</code></li>
<li><code>r#true</code></li>
<li><code>Москва</code></li>
<li><code>東京</code></li>
</ul>
<div class="rule" id="r-ident.profile"><a class="rule-link" href="identifiers.html#r-ident.profile" title="ident.profile"><span>[ident<wbr>.profile]</span></a>
</div>
<p>The profile used from UAX #31 is:</p>
<ul>
<li>Start := <a href="http://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3AXID_Start%3A%5D&amp;abb=on&amp;g=&amp;i="><code>XID_Start</code></a>, plus the underscore character (U+005F)</li>
<li>Continue := <a href="http://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3AXID_Continue%3A%5D&amp;abb=on&amp;g=&amp;i="><code>XID_Continue</code></a></li>
<li>Medial := empty</li>
</ul>
<p>with the additional constraint that a single underscore character is not an identifier.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>Identifiers starting with an underscore are typically used to indicate an identifier that is intentionally unused, and will silence the unused warning in <code>rustc</code>.</p>
</blockquote>
</div>
<div class="rule" id="r-ident.keyword"><a class="rule-link" href="identifiers.html#r-ident.keyword" title="ident.keyword"><span>[ident<wbr>.keyword]</span></a>
</div>
<p>Identifiers may not be a <a href="keywords.html#strict-keywords">strict</a> or <a href="keywords.html#reserved-keywords">reserved</a> keyword without the <code>r#</code> prefix described below in <a href="identifiers.html#raw-identifiers">raw identifiers</a>.</p>
<div class="rule" id="r-ident.zero-width-chars"><a class="rule-link" href="identifiers.html#r-ident.zero-width-chars" title="ident.zero-width-chars"><span>[ident<wbr>.zero-width-chars]</span></a>
</div>
<p>Zero width non-joiner (ZWNJ U+200C) and zero width joiner (ZWJ U+200D) characters are not allowed in identifiers.</p>
<div class="rule" id="r-ident.ascii-limitations"><a class="rule-link" href="identifiers.html#r-ident.ascii-limitations" title="ident.ascii-limitations"><span>[ident<wbr>.ascii-limitations]</span></a>
</div>
<p>Identifiers are restricted to the ASCII subset of <a href="http://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3AXID_Start%3A%5D&amp;abb=on&amp;g=&amp;i="><code>XID_Start</code></a> and <a href="http://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3AXID_Continue%3A%5D&amp;abb=on&amp;g=&amp;i="><code>XID_Continue</code></a> in the following situations:</p>
<ul>
<li><a href="items/extern-crates.html"><code>extern crate</code></a> declarations (except the <a href="items/extern-crates.html#grammar-AsClause">AsClause</a> identifier)</li>
<li>External crate names referenced in a <a href="paths.html">path</a></li>
<li><a href="items/modules.html">Module</a> names loaded from the filesystem without a <a href="items/modules.html#the-path-attribute"><code>path</code> attribute</a></li>
<li><a href="abi.html#the-no_mangle-attribute"><code>no_mangle</code></a> attributed items</li>
<li>Item names in <a href="items/external-blocks.html">external blocks</a></li>
</ul>
<div class="rule" id="r-ident.normalization"><a class="rule-link" href="identifiers.html#r-ident.normalization" title="ident.normalization"><span>[ident<wbr>.normalization]</span></a>
<br><div class="test-link">
<a href="javascript:void(0)" onclick="spec_toggle_tests('ident.normalization');"><span>Tests</span></a></div>
</div>
<div id="tests-ident.normalization" class="tests-popup popup-hidden">
Tests with this rule:
<ul><li><a href="https://github.com/rust-lang/rust/blob/1.92.0/tests/ui-fulldeps/lexer/unicode-version.rs">tests/ui-fulldeps/lexer/unicode-version.rs</a></li>
</ul></div>
<h2 id="normalization"><a class="header" href="#normalization">Normalization</a></h2>
<p>Identifiers are normalized using Normalization Form C (NFC) as defined in <a href="https://www.unicode.org/reports/tr15/tr15-56.html">Unicode Standard Annex #15</a>. Two identifiers are equal if their NFC forms are equal.</p>
<p><a href="procedural-macros.html">Procedural</a> and <a href="macros-by-example.html">declarative</a> macros receive normalized identifiers in their input.</p>
<div class="rule" id="r-ident.raw"><a class="rule-link" href="identifiers.html#r-ident.raw" title="ident.raw"><span>[ident<wbr>.raw]</span></a>
</div>
<h2 id="raw-identifiers"><a class="header" href="#raw-identifiers">Raw identifiers</a></h2>
<div class="rule" id="r-ident.raw.intro"><a class="rule-link" href="identifiers.html#r-ident.raw.intro" title="ident.raw.intro"><span>[ident<wbr>.raw<wbr>.intro]</span></a>
</div>
<p>A raw identifier is like a normal identifier, but prefixed by <code>r#</code>. (Note that
the <code>r#</code> prefix is not included as part of the actual identifier.)</p>
<div class="rule" id="r-ident.raw.allowed"><a class="rule-link" href="identifiers.html#r-ident.raw.allowed" title="ident.raw.allowed"><span>[ident<wbr>.raw<wbr>.allowed]</span></a>
</div>
<p>Unlike a normal identifier, a raw identifier may be any strict or reserved
keyword except the ones listed above for <code>RAW_IDENTIFIER</code>.</p>
<div class="rule" id="r-ident.raw.reserved"><a class="rule-link" href="identifiers.html#r-ident.raw.reserved" title="ident.raw.reserved"><span>[ident<wbr>.raw<wbr>.reserved]</span></a>
</div>
<p>It is an error to use the <a href="identifiers.html#grammar-RESERVED_RAW_IDENTIFIER">RESERVED_RAW_IDENTIFIER</a> token <code>r#_</code> in order to avoid confusion with the <a href="patterns.html#grammar-WildcardPattern">WildcardPattern</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-comments"><a class="rule-link" href="comments.html#r-comments" title="comments"><span>[comments]</span></a>
</div>
<h1 id="comments"><a class="header" href="#comments">Comments</a></h1>
<div class="rule" id="r-comments.syntax"><a class="rule-link" href="comments.html#r-comments.syntax" title="comments.syntax"><span>[comments<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-LINE_COMMENT" onclick="show_railroad()"><a href="comments.html#railroad-LINE_COMMENT">LINE_COMMENT</a></span> → <br />
      <span class="grammar-literal">//</span> ( ~[<span class="grammar-literal">/</span> <span class="grammar-literal">!</span> <a href="whitespace.html#grammar-LF">LF</a>] | <span class="grammar-literal">//</span> ) ~<span class="grammar-text"><a href="whitespace.html#grammar-LF">LF</a></span><sup>*</sup> <br />
    | <span class="grammar-literal">//</span></p>
<p><span class="grammar-text grammar-production" id="grammar-BLOCK_COMMENT" onclick="show_railroad()"><a href="comments.html#railroad-BLOCK_COMMENT">BLOCK_COMMENT</a></span> → <br />
      <span class="grammar-literal">/*</span> <br />
        ( ~[<span class="grammar-literal">*</span> <span class="grammar-literal">!</span>] | <span class="grammar-literal">**</span> | <span class="grammar-text"><a href="comments.html#grammar-BLOCK_COMMENT_OR_DOC">BLOCK_COMMENT_OR_DOC</a></span> ) <br />
        ( <span class="grammar-text"><a href="comments.html#grammar-BLOCK_COMMENT_OR_DOC">BLOCK_COMMENT_OR_DOC</a></span> | ~<span class="grammar-literal">*/</span> )<sup>*</sup> <br />
      <span class="grammar-literal">*/</span> <br />
    | <span class="grammar-literal">/**/</span> <br />
    | <span class="grammar-literal">/***/</span></p>
<p><span class="grammar-text grammar-production" id="grammar-INNER_LINE_DOC" onclick="show_railroad()"><a href="comments.html#railroad-INNER_LINE_DOC">INNER_LINE_DOC</a></span> → <br />
    <span class="grammar-literal">//!</span> ~[<a href="whitespace.html#grammar-LF">LF</a> <a href="whitespace.html#grammar-CR">CR</a>]<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-INNER_BLOCK_DOC" onclick="show_railroad()"><a href="comments.html#railroad-INNER_BLOCK_DOC">INNER_BLOCK_DOC</a></span> → <br />
    <span class="grammar-literal">/*!</span> ( <span class="grammar-text"><a href="comments.html#grammar-BLOCK_COMMENT_OR_DOC">BLOCK_COMMENT_OR_DOC</a></span> | ~[<span class="grammar-literal">*/</span> <a href="whitespace.html#grammar-CR">CR</a>] )<sup>*</sup> <span class="grammar-literal">*/</span></p>
<p><span class="grammar-text grammar-production" id="grammar-OUTER_LINE_DOC" onclick="show_railroad()"><a href="comments.html#railroad-OUTER_LINE_DOC">OUTER_LINE_DOC</a></span> → <br />
    <span class="grammar-literal">///</span> ( ~<span class="grammar-literal">/</span> ~[<a href="whitespace.html#grammar-LF">LF</a> <a href="whitespace.html#grammar-CR">CR</a>]<sup>*</sup> )<sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-OUTER_BLOCK_DOC" onclick="show_railroad()"><a href="comments.html#railroad-OUTER_BLOCK_DOC">OUTER_BLOCK_DOC</a></span> → <br />
    <span class="grammar-literal">/**</span> <br />
      ( ~<span class="grammar-literal">*</span> | <span class="grammar-text"><a href="comments.html#grammar-BLOCK_COMMENT_OR_DOC">BLOCK_COMMENT_OR_DOC</a></span> ) <br />
      ( <span class="grammar-text"><a href="comments.html#grammar-BLOCK_COMMENT_OR_DOC">BLOCK_COMMENT_OR_DOC</a></span> | ~[<span class="grammar-literal">*/</span> <a href="whitespace.html#grammar-CR">CR</a>] )<sup>*</sup> <br />
    <span class="grammar-literal">*/</span></p>
<p><span class="grammar-text grammar-production" id="grammar-BLOCK_COMMENT_OR_DOC" onclick="show_railroad()"><a href="comments.html#railroad-BLOCK_COMMENT_OR_DOC">BLOCK_COMMENT_OR_DOC</a></span> → <br />
      <span class="grammar-text"><a href="comments.html#grammar-BLOCK_COMMENT">BLOCK_COMMENT</a></span> <br />
    | <span class="grammar-text"><a href="comments.html#grammar-OUTER_BLOCK_DOC">OUTER_BLOCK_DOC</a></span> <br />
    | <span class="grammar-text"><a href="comments.html#grammar-INNER_BLOCK_DOC">INNER_BLOCK_DOC</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 696px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LINE_COMMENT"><svg class="railroad" viewBox="0 0 696 284" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-LINE_COMMENT">
<text class="comment" x="57" y="25">
LINE_COMMENT</text>
</a>
<g class="sequence">
<path d=" M 10 189 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 189 h 24 m 578 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="178"/>
<text x="77" y="194">
//</text>
</g>
<g class="choice">
<path d=" M 105 189 h 24 m 201 0 h 24"/>
<g class="labeledbox exceptbox">
<rect height="166" width="201" x="129" y="42"/>
<path d=" M 129 189 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="229" y="65">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 137 93 h 24 m 28 0 h 32"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="82"/>
<text x="175" y="98">
/</text>
</g>
<path d=" M 137 93 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 149 114 v 33 m 60 0 v -33"/>
<path d=" M 149 114 v 0 a 12 12 0 0 0 12 12 m 28 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="115"/>
<text x="175" y="131">
!</text>
</g>
<path d=" M 149 147 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-LF">
<g class="nonterminal">
<rect height="22" width="36" x="161" y="148"/>
<text x="179" y="164">
LF</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="137" y="178"/>
<text x="163" y="194">
CHAR</text>
</g>
</a>
</g>
<path d=" M 105 189 a 12 12 0 0 1 12 12 v 17 m 225 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 117 218 v 0 a 12 12 0 0 0 12 12 m 36 0 h 165 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="129" y="219"/>
<text x="147" y="235">
//</text>
</g>
</g>
<g class="optional">
<path d=" M 364 189 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -69 m 0 37 l -5 5 m 10 0 l -5 -5 m 0 -37 a 12 12 0 0 1 12 -12 h 225 m -109 0 l -5 -5 m 0 10 l 5 -5 m 109 0 a 12 12 0 0 1 12 12 v 69 m 0 -31 l -5 -5 m 10 0 l -5 5 m 0 31 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 388 189 h 12 m 201 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -201 m 103 0 l 5 -5 m 0 10 l -5 -5 m -103 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="labeledbox exceptbox">
<rect height="100" width="201" x="400" y="108"/>
<path d=" M 400 189 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="500" y="131">
⚠️ with the exception of</text>
<a class="link" xlink:href="whitespace.html#railroad-LF">
<g class="nonterminal">
<rect height="22" width="36" x="408" y="148"/>
<text x="426" y="164">
LF</text>
</g>
</a>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="408" y="178"/>
<text x="434" y="194">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
<path d=" M 95 189 h 10"/>
<path d=" M 354 189 h 10"/>
</g>
<path d=" M 35 189 a 12 12 0 0 1 12 12 v 50 m 602 0 v -50 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 251 v 0 a 12 12 0 0 0 12 12 m 36 0 h 542 m -268 0 l -5 -5 m 0 10 l 5 -5 m 268 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="252"/>
<text x="77" y="268">
//</text>
</g>
</g>
<path d=" M 671 189 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 189 h 10"/>
<path d=" M 661 189 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 790px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BLOCK_COMMENT"><svg class="railroad" viewBox="0 0 790 363" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-BLOCK_COMMENT">
<text class="comment" x="60" y="25">
BLOCK_COMMENT</text>
</a>
<g class="sequence">
<path d=" M 10 156 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 156 h 24 m 672 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="145"/>
<text x="77" y="161">
/*</text>
</g>
<g class="choice">
<path d=" M 105 156 h 24 m 201 0 h 24"/>
<g class="labeledbox exceptbox">
<rect height="133" width="201" x="129" y="42"/>
<path d=" M 129 156 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="229" y="65">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 137 93 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="82"/>
<text x="175" y="98">
*</text>
</g>
<path d=" M 137 93 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 149 114 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="115"/>
<text x="175" y="131">
!</text>
</g>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="137" y="145"/>
<text x="163" y="161">
CHAR</text>
</g>
</a>
</g>
<path d=" M 105 156 a 12 12 0 0 1 12 12 v 17 m 225 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 117 185 v 33 m 225 0 v -33"/>
<path d=" M 117 185 v 0 a 12 12 0 0 0 12 12 m 36 0 h 165 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="129" y="186"/>
<text x="147" y="202">
**</text>
</g>
<path d=" M 117 218 v 0 a 12 12 0 0 0 12 12 m 188 0 h 13 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="comments.html#railroad-BLOCK_COMMENT_OR_DOC">
<g class="nonterminal">
<rect height="22" width="188" x="129" y="219"/>
<text x="223" y="235">
BLOCK_COMMENT_OR_DOC</text>
</g>
</a>
</g>
<g class="optional">
<path d=" M 364 156 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 273 m -133 0 l -5 -5 m 0 10 l 5 -5 m 133 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 388 156 h 12 m 249 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 107 m 0 -50 l -5 -5 m 10 0 l -5 5 m 0 50 a 12 12 0 0 1 -12 12 m 0 0 h -249 m 127 0 l 5 -5 m 0 10 l -5 -5 m -127 0 a 12 12 0 0 1 -12 -12 v -107 m 0 56 l -5 5 m 10 0 l -5 -5 m 0 -56 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 400 156 h 24 m 188 0 h 37"/>
<a class="link" xlink:href="comments.html#railroad-BLOCK_COMMENT_OR_DOC">
<g class="nonterminal">
<rect height="22" width="188" x="424" y="145"/>
<text x="518" y="161">
BLOCK_COMMENT_OR_DOC</text>
</g>
</a>
<path d=" M 400 156 a 12 12 0 0 1 12 12 v 9 m 225 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 412 177 v 69 m 0 -31 l -5 -5 m 10 0 l -5 5 m 0 31 a 12 12 0 0 0 12 12 m 201 0 h 0 a 12 12 0 0 0 12 -12 v -69 m 0 37 l -5 5 m 10 0 l -5 -5 m 0 -37"/>
<g class="labeledbox exceptbox">
<rect height="100" width="201" x="424" y="177"/>
<path d=" M 424 258 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="524" y="200">
⚠️ with the exception of</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="432" y="217"/>
<text x="450" y="233">
*/</text>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="432" y="247"/>
<text x="458" y="263">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="695" y="145"/>
<text x="713" y="161">
*/</text>
</g>
<path d=" M 95 156 h 10"/>
<path d=" M 354 156 h 10"/>
<path d=" M 685 156 h 10"/>
</g>
<path d=" M 35 156 a 12 12 0 0 1 12 12 v 129 m 0 -61 l -5 -5 m 10 0 l -5 5 m 0 61 m 696 0 v -129 m 0 67 l -5 5 m 10 0 l -5 -5 m 0 -67 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 297 v 33 m 696 0 v -33"/>
<path d=" M 47 297 v 0 a 12 12 0 0 0 12 12 m 52 0 h 620 m -307 0 l -5 -5 m 0 10 l 5 -5 m 307 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="298"/>
<text x="85" y="314">
/**/</text>
</g>
</g>
<path d=" M 47 330 v 0 a 12 12 0 0 0 12 12 m 60 0 h 612 m -303 0 l -5 -5 m 0 10 l 5 -5 m 303 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="331"/>
<text x="89" y="347">
/***/</text>
</g>
</g>
<path d=" M 765 156 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 156 h 10"/>
<path d=" M 755 156 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 397px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-INNER_LINE_DOC"><svg class="railroad" viewBox="0 0 397 207" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-INNER_LINE_DOC">
<text class="comment" x="64" y="25">
INNER_LINE_DOC</text>
</a>
<g class="sequence">
<path d=" M 10 168 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="157"/>
<text x="57" y="173">
//!</text>
</g>
<g class="optional">
<path d=" M 89 168 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -102 m 0 54 l -5 5 m 10 0 l -5 -5 m 0 -54 a 12 12 0 0 1 12 -12 h 225 m -109 0 l -5 -5 m 0 10 l 5 -5 m 109 0 a 12 12 0 0 1 12 12 v 102 m 0 -48 l -5 -5 m 10 0 l -5 5 m 0 48 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 113 168 h 12 m 201 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -201 m 103 0 l 5 -5 m 0 10 l -5 -5 m -103 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="labeledbox exceptbox">
<rect height="133" width="201" x="125" y="54"/>
<path d=" M 125 168 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="225" y="77">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 133 105 h 24 m 36 0 h 24"/>
<a class="link" xlink:href="whitespace.html#railroad-LF">
<g class="nonterminal">
<rect height="22" width="36" x="157" y="94"/>
<text x="175" y="110">
LF</text>
</g>
</a>
<path d=" M 133 105 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 145 126 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="157" y="127"/>
<text x="175" y="143">
CR</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="133" y="157"/>
<text x="159" y="173">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
<path d=" M 79 168 h 10"/>
</g>
<path d=" M 372 168 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 168 h 10"/>
<path d=" M 362 168 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 491px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-INNER_BLOCK_DOC"><svg class="railroad" viewBox="0 0 491 240" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-INNER_BLOCK_DOC">
<text class="comment" x="67" y="25">
INNER_BLOCK_DOC</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="55"/>
<text x="57" y="71">
/*!</text>
</g>
<g class="optional">
<path d=" M 89 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 273 m -133 0 l -5 -5 m 0 10 l 5 -5 m 133 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 113 66 h 12 m 249 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 140 m 0 -67 l -5 -5 m 10 0 l -5 5 m 0 67 a 12 12 0 0 1 -12 12 m 0 0 h -249 m 127 0 l 5 -5 m 0 10 l -5 -5 m -127 0 a 12 12 0 0 1 -12 -12 v -140 m 0 73 l -5 5 m 10 0 l -5 -5 m 0 -73 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 125 66 h 24 m 188 0 h 37"/>
<a class="link" xlink:href="comments.html#railroad-BLOCK_COMMENT_OR_DOC">
<g class="nonterminal">
<rect height="22" width="188" x="149" y="55"/>
<text x="243" y="71">
BLOCK_COMMENT_OR_DOC</text>
</g>
</a>
<path d=" M 125 66 a 12 12 0 0 1 12 12 v 9 m 225 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 137 87 v 102 m 0 -48 l -5 -5 m 10 0 l -5 5 m 0 48 a 12 12 0 0 0 12 12 m 201 0 h 0 a 12 12 0 0 0 12 -12 v -102 m 0 54 l -5 5 m 10 0 l -5 -5 m 0 -54"/>
<g class="labeledbox exceptbox">
<rect height="133" width="201" x="149" y="87"/>
<path d=" M 149 201 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="249" y="110">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 157 138 h 24 m 36 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="181" y="127"/>
<text x="199" y="143">
*/</text>
</g>
<path d=" M 157 138 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 169 159 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="181" y="160"/>
<text x="199" y="176">
CR</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="157" y="190"/>
<text x="183" y="206">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="420" y="55"/>
<text x="438" y="71">
*/</text>
</g>
<path d=" M 79 66 h 10"/>
<path d=" M 410 66 h 10"/>
</g>
<path d=" M 466 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 456 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 656px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-OUTER_LINE_DOC"><svg class="railroad" viewBox="0 0 656 219" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-OUTER_LINE_DOC">
<text class="comment" x="64" y="25">
OUTER_LINE_DOC</text>
</a>
<g class="sequence">
<path d=" M 10 180 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="169"/>
<text x="57" y="185">
///</text>
</g>
<g class="optional">
<path d=" M 89 180 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -114 m 0 60 l -5 5 m 10 0 l -5 -5 m 0 -60 a 12 12 0 0 1 12 -12 h 484 m -239 0 l -5 -5 m 0 10 l 5 -5 m 239 0 a 12 12 0 0 1 12 12 v 114 m 0 -54 l -5 -5 m 10 0 l -5 5 m 0 54 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="labeledbox exceptbox">
<rect height="100" width="201" x="113" y="99"/>
<path d=" M 113 180 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="213" y="122">
⚠️ with the exception of</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="139"/>
<text x="135" y="155">
/</text>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="121" y="169"/>
<text x="147" y="185">
CHAR</text>
</g>
</a>
</g>
<g class="optional">
<path d=" M 324 180 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -102 m 0 54 l -5 5 m 10 0 l -5 -5 m 0 -54 a 12 12 0 0 1 12 -12 h 225 m -109 0 l -5 -5 m 0 10 l 5 -5 m 109 0 a 12 12 0 0 1 12 12 v 102 m 0 -48 l -5 -5 m 10 0 l -5 5 m 0 48 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 348 180 h 12 m 201 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -201 m 103 0 l 5 -5 m 0 10 l -5 -5 m -103 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="labeledbox exceptbox">
<rect height="133" width="201" x="360" y="66"/>
<path d=" M 360 180 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="460" y="89">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 368 117 h 24 m 36 0 h 24"/>
<a class="link" xlink:href="whitespace.html#railroad-LF">
<g class="nonterminal">
<rect height="22" width="36" x="392" y="106"/>
<text x="410" y="122">
LF</text>
</g>
</a>
<path d=" M 368 117 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 380 138 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="392" y="139"/>
<text x="410" y="155">
CR</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="368" y="169"/>
<text x="394" y="185">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
<path d=" M 314 180 h 10"/>
</g>
</g>
<path d=" M 79 180 h 10"/>
</g>
<path d=" M 631 180 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 180 h 10"/>
<path d=" M 621 180 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 750px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-OUTER_BLOCK_DOC"><svg class="railroad" viewBox="0 0 750 297" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-OUTER_BLOCK_DOC">
<text class="comment" x="67" y="25">
OUTER_BLOCK_DOC</text>
</a>
<g class="sequence">
<path d=" M 10 123 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="112"/>
<text x="57" y="128">
/**</text>
</g>
<g class="choice">
<path d=" M 89 123 h 24 m 201 0 h 24"/>
<g class="labeledbox exceptbox">
<rect height="100" width="201" x="113" y="42"/>
<path d=" M 113 123 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="213" y="65">
⚠️ with the exception of</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="82"/>
<text x="135" y="98">
*</text>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="121" y="112"/>
<text x="147" y="128">
CHAR</text>
</g>
</a>
</g>
<path d=" M 89 123 a 12 12 0 0 1 12 12 v 17 m 225 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 101 152 v 0 a 12 12 0 0 0 12 12 m 188 0 h 13 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="comments.html#railroad-BLOCK_COMMENT_OR_DOC">
<g class="nonterminal">
<rect height="22" width="188" x="113" y="153"/>
<text x="207" y="169">
BLOCK_COMMENT_OR_DOC</text>
</g>
</a>
</g>
<g class="optional">
<path d=" M 348 123 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 273 m -133 0 l -5 -5 m 0 10 l 5 -5 m 133 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 372 123 h 12 m 249 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 140 m 0 -67 l -5 -5 m 10 0 l -5 5 m 0 67 a 12 12 0 0 1 -12 12 m 0 0 h -249 m 127 0 l 5 -5 m 0 10 l -5 -5 m -127 0 a 12 12 0 0 1 -12 -12 v -140 m 0 73 l -5 5 m 10 0 l -5 -5 m 0 -73 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 384 123 h 24 m 188 0 h 37"/>
<a class="link" xlink:href="comments.html#railroad-BLOCK_COMMENT_OR_DOC">
<g class="nonterminal">
<rect height="22" width="188" x="408" y="112"/>
<text x="502" y="128">
BLOCK_COMMENT_OR_DOC</text>
</g>
</a>
<path d=" M 384 123 a 12 12 0 0 1 12 12 v 9 m 225 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 396 144 v 102 m 0 -48 l -5 -5 m 10 0 l -5 5 m 0 48 a 12 12 0 0 0 12 12 m 201 0 h 0 a 12 12 0 0 0 12 -12 v -102 m 0 54 l -5 5 m 10 0 l -5 -5 m 0 -54"/>
<g class="labeledbox exceptbox">
<rect height="133" width="201" x="408" y="144"/>
<path d=" M 408 258 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="508" y="167">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 416 195 h 24 m 36 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="440" y="184"/>
<text x="458" y="200">
*/</text>
</g>
<path d=" M 416 195 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 428 216 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="440" y="217"/>
<text x="458" y="233">
CR</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="416" y="247"/>
<text x="442" y="263">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="679" y="112"/>
<text x="697" y="128">
*/</text>
</g>
<path d=" M 79 123 h 10"/>
<path d=" M 338 123 h 10"/>
<path d=" M 669 123 h 10"/>
</g>
<path d=" M 725 123 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 123 h 10"/>
<path d=" M 715 123 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 258px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BLOCK_COMMENT_OR_DOC"><svg class="railroad" viewBox="0 0 258 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="comments.html#grammar-BLOCK_COMMENT_OR_DOC">
<text class="comment" x="88" y="25">
BLOCK_COMMENT_OR_DOC</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 124 0 h 40"/>
<g class="sequence">
<a class="link" xlink:href="comments.html#railroad-BLOCK_COMMENT">
<g class="nonterminal">
<rect height="22" width="124" x="59" y="42"/>
<text x="121" y="58">
BLOCK_COMMENT</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 164 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 164 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 140 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="comments.html#railroad-OUTER_BLOCK_DOC">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="75"/>
<text x="129" y="91">
OUTER_BLOCK_DOC</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 140 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="comments.html#railroad-INNER_BLOCK_DOC">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="108"/>
<text x="129" y="124">
INNER_BLOCK_DOC</text>
</g>
</a>
</g>
<path d=" M 233 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 223 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-comments.normal"><a class="rule-link" href="comments.html#r-comments.normal" title="comments.normal"><span>[comments<wbr>.normal]</span></a>
</div>
<h2 id="non-doc-comments"><a class="header" href="#non-doc-comments">Non-doc comments</a></h2>
<p>Comments follow the general C++ style of line (<code>//</code>) and
block (<code>/* ... */</code>) comment forms. Nested block comments are supported.</p>
<div class="rule" id="r-comments.normal.tokenization"><a class="rule-link" href="comments.html#r-comments.normal.tokenization" title="comments.normal.tokenization"><span>[comments<wbr>.normal<wbr>.tokenization]</span></a>
</div>
<p>Non-doc comments are interpreted as a form of whitespace.</p>
<div class="rule" id="r-comments.doc"><a class="rule-link" href="comments.html#r-comments.doc" title="comments.doc"><span>[comments<wbr>.doc]</span></a>
</div>
<h2 id="doc-comments"><a class="header" href="#doc-comments">Doc comments</a></h2>
<div class="rule" id="r-comments.doc.syntax"><a class="rule-link" href="comments.html#r-comments.doc.syntax" title="comments.doc.syntax"><span>[comments<wbr>.doc<wbr>.syntax]</span></a>
</div>
<p>Line doc comments beginning with exactly <em>three</em> slashes (<code>///</code>), and block
doc comments (<code>/** ... */</code>), both outer doc comments, are interpreted as a
special syntax for <a href="../rustdoc/the-doc-attribute.html"><code>doc</code> attributes</a>.</p>
<div class="rule" id="r-comments.doc.attributes"><a class="rule-link" href="comments.html#r-comments.doc.attributes" title="comments.doc.attributes"><span>[comments<wbr>.doc<wbr>.attributes]</span></a>
</div>
<p>That is, they are equivalent to writing
<code>#[doc="..."]</code> around the body of the comment, i.e., <code>/// Foo</code> turns into
<code>#[doc="Foo"]</code> and <code>/** Bar */</code> turns into <code>#[doc="Bar"]</code>. They must therefore
appear before something that accepts an outer attribute.</p>
<div class="rule" id="r-comments.doc.inner-syntax"><a class="rule-link" href="comments.html#r-comments.doc.inner-syntax" title="comments.doc.inner-syntax"><span>[comments<wbr>.doc<wbr>.inner-syntax]</span></a>
</div>
<p>Line comments beginning with <code>//!</code> and block comments <code>/*! ... */</code> are
doc comments that apply to the parent of the comment, rather than the item
that follows.</p>
<div class="rule" id="r-comments.doc.inner-attributes"><a class="rule-link" href="comments.html#r-comments.doc.inner-attributes" title="comments.doc.inner-attributes"><span>[comments<wbr>.doc<wbr>.inner-attributes]</span></a>
</div>
<p>That is, they are equivalent to writing <code>#![doc="..."]</code> around
the body of the comment. <code>//!</code> comments are usually used to document
modules that occupy a source file.</p>
<div class="rule" id="r-comments.doc.bare-crs"><a class="rule-link" href="comments.html#r-comments.doc.bare-crs" title="comments.doc.bare-crs"><span>[comments<wbr>.doc<wbr>.bare-crs]</span></a>
</div>
<p>The character <code>U+000D</code> (CR) is not allowed in doc comments.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>It is conventional for doc comments to contain Markdown, as expected by <code>rustdoc</code>. However, the comment syntax does not respect any internal Markdown. <code>/** `glob = "*/*.rs";` */</code> terminates the comment at the first <code>*/</code>, and the remaining code would cause a syntax error. This slightly limits the content of block doc comments compared to line doc comments.</p>
</blockquote>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>The sequence <code>U+000D</code> (CR) immediately followed by <code>U+000A</code> (LF) would have been previously transformed into a single <code>U+000A</code> (LF).</p>
</blockquote>
</div>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>//! A doc comment that applies to the implicit anonymous module of this crate

pub mod outer_module {

    //!  - Inner line doc
    //!! - Still an inner line doc (but with a bang at the beginning)

    /*!  - Inner block doc */
    /*!! - Still an inner block doc (but with a bang at the beginning) */

    //   - Only a comment
    ///  - Outer line doc (exactly 3 slashes)
    //// - Only a comment

    /*   - Only a comment */
    /**  - Outer block doc (exactly) 2 asterisks */
    /*** - Only a comment */

    pub mod inner_module {}

    pub mod nested_comments {
        /* In Rust /* we can /* nest comments */ */ */

        // All three types of block comments can contain or be nested inside
        // any other type:

        /*   /* */  /** */  /*! */  */
        /*!  /* */  /** */  /*! */  */
        /**  /* */  /** */  /*! */  */
        pub mod dummy_item {}
    }

    pub mod degenerate_cases {
        // empty inner line doc
        //!

        // empty inner block doc
        /*!*/

        // empty line comment
        //

        // empty outer line doc
        ///

        // empty block comment
        /**/

        pub mod dummy_item {}

        // empty 2-asterisk block isn't a doc block, it is a block comment
        /***/

    }

    /* The next one isn't allowed because outer doc comments
       require an item that will receive the doc */

    /// Where is my item?
<span class="boring">  mod boo {}
</span>}
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-lex.whitespace"><a class="rule-link" href="whitespace.html#r-lex.whitespace" title="lex.whitespace"><span>[lex<wbr>.whitespace]</span></a>
</div>
<h1 id="whitespace"><a class="header" href="#whitespace">Whitespace</a></h1>
<div class="rule" id="r-whitespace.syntax"><a class="rule-link" href="whitespace.html#r-whitespace.syntax" title="whitespace.syntax"><span>[whitespace<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-WHITESPACE" onclick="show_railroad()"><a href="whitespace.html#railroad-WHITESPACE">WHITESPACE</a></span> → <br />
      U+0009 <span class="grammar-comment">//  Horizontal tab, <code>'\t'</code></span> <br />
    | U+000A <span class="grammar-comment">//  Line feed, <code>'\n'</code></span> <br />
    | U+000B <span class="grammar-comment">//  Vertical tab</span> <br />
    | U+000C <span class="grammar-comment">//  Form feed</span> <br />
    | U+000D <span class="grammar-comment">//  Carriage return, <code>'\r'</code></span> <br />
    | U+0020 <span class="grammar-comment">//  Space, <code>' '</code></span> <br />
    | U+0085 <span class="grammar-comment">//  Next line</span> <br />
    | U+200E <span class="grammar-comment">//  Left-to-right mark</span> <br />
    | U+200F <span class="grammar-comment">//  Right-to-left mark</span> <br />
    | U+2028 <span class="grammar-comment">//  Line separator</span> <br />
    | U+2029 <span class="grammar-comment">//  Paragraph separator</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TAB" onclick="show_railroad()"><a href="whitespace.html#railroad-TAB">TAB</a></span> → U+0009 <span class="grammar-comment">//  Horizontal tab, <code>'\t'</code></span></p>
<p><span class="grammar-text grammar-production" id="grammar-LF" onclick="show_railroad()"><a href="whitespace.html#railroad-LF">LF</a></span> → U+000A <span class="grammar-comment">//  Line feed, <code>'\n'</code></span></p>
<p><span class="grammar-text grammar-production" id="grammar-CR" onclick="show_railroad()"><a href="whitespace.html#railroad-CR">CR</a></span> → U+000D <span class="grammar-comment">//  Carriage return, <code>'\r'</code></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 186px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-WHITESPACE"><svg class="railroad" viewBox="0 0 186 404" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="whitespace.html#grammar-WHITESPACE">
<text class="comment" x="50" y="25">
WHITESPACE</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 68 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="42"/>
<text x="93" y="58">
U+0009</text>
</g>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 92 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 92 0 v -33"/>
<path d=" M 47 107 v 33 m 92 0 v -33"/>
<path d=" M 47 140 v 33 m 92 0 v -33"/>
<path d=" M 47 173 v 33 m 92 0 v -33"/>
<path d=" M 47 206 v 33 m 92 0 v -33"/>
<path d=" M 47 239 v 33 m 92 0 v -33"/>
<path d=" M 47 272 v 33 m 92 0 v -33"/>
<path d=" M 47 305 v 33 m 92 0 v -33"/>
<path d=" M 47 338 v 33 m 92 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="75"/>
<text x="93" y="91">
U+000A</text>
</g>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="108"/>
<text x="93" y="124">
U+000B</text>
</g>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="141"/>
<text x="93" y="157">
U+000C</text>
</g>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="174"/>
<text x="93" y="190">
U+000D</text>
</g>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="207"/>
<text x="93" y="223">
U+0020</text>
</g>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="240"/>
<text x="93" y="256">
U+0085</text>
</g>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="273"/>
<text x="93" y="289">
U+200E</text>
</g>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="306"/>
<text x="93" y="322">
U+200F</text>
</g>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="339"/>
<text x="93" y="355">
U+2028</text>
</g>
</g>
<path d=" M 47 371 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="372"/>
<text x="93" y="388">
U+2029</text>
</g>
</g>
</g>
<path d=" M 161 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 151 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 138px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TAB"><svg class="railroad" viewBox="0 0 138 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="whitespace.html#grammar-TAB">
<text class="comment" x="25" y="25">
TAB</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="35" y="42"/>
<text x="69" y="58">
U+0009</text>
</g>
</g>
<path d=" M 113 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 103 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 138px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LF"><svg class="railroad" viewBox="0 0 138 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="whitespace.html#grammar-LF">
<text class="comment" x="22" y="25">
LF</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="35" y="42"/>
<text x="69" y="58">
U+000A</text>
</g>
</g>
<path d=" M 113 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 103 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 138px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CR"><svg class="railroad" viewBox="0 0 138 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="whitespace.html#grammar-CR">
<text class="comment" x="22" y="25">
CR</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="35" y="42"/>
<text x="69" y="58">
U+000D</text>
</g>
</g>
<path d=" M 113 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 103 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.whitespace.intro"><a class="rule-link" href="whitespace.html#r-lex.whitespace.intro" title="lex.whitespace.intro"><span>[lex<wbr>.whitespace<wbr>.intro]</span></a>
</div>
<p>Whitespace is any non-empty string containing only characters that have the
<a href="https://www.unicode.org/reports/tr31/"><code>Pattern_White_Space</code></a> Unicode property.</p>
<div class="rule" id="r-lex.whitespace.token-sep"><a class="rule-link" href="whitespace.html#r-lex.whitespace.token-sep" title="lex.whitespace.token-sep"><span>[lex<wbr>.whitespace<wbr>.token-sep]</span></a>
</div>
<p>Rust is a “free-form” language, meaning that all forms of whitespace serve only
to separate <em>tokens</em> in the grammar, and have no semantic significance.</p>
<div class="rule" id="r-lex.whitespace.replacement"><a class="rule-link" href="whitespace.html#r-lex.whitespace.replacement" title="lex.whitespace.replacement"><span>[lex<wbr>.whitespace<wbr>.replacement]</span></a>
</div>
<p>A Rust program has identical meaning if each whitespace element is replaced
with any other legal whitespace element, such as a single space character.</p>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-lex.token"><a class="rule-link" href="tokens.html#r-lex.token" title="lex.token"><span>[lex<wbr>.token]</span></a>
</div>
<h1 id="tokens"><a class="header" href="#tokens">Tokens</a></h1>
<div class="rule" id="r-lex.token.syntax"><a class="rule-link" href="tokens.html#r-lex.token.syntax" title="lex.token.syntax"><span>[lex<wbr>.token<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-Token" onclick="show_railroad()"><a href="tokens.html#railroad-Token">Token</a></span> → <br />
      <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span> <br />
    | <span class="grammar-text"><a href="identifiers.html#grammar-RAW_IDENTIFIER">RAW_IDENTIFIER</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-CHAR_LITERAL">CHAR_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RAW_STRING_LITERAL">RAW_STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-BYTE_LITERAL">BYTE_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-BYTE_STRING_LITERAL">BYTE_STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RAW_BYTE_STRING_LITERAL">RAW_BYTE_STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-C_STRING_LITERAL">C_STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RAW_C_STRING_LITERAL">RAW_C_STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-INTEGER_LITERAL">INTEGER_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-FLOAT_LITERAL">FLOAT_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-LIFETIME_TOKEN">LIFETIME_TOKEN</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-PUNCTUATION">PUNCTUATION</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_TOKEN">RESERVED_TOKEN</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 330px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Token"><svg class="railroad" viewBox="0 0 330 536" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-Token">
<text class="comment" x="32" y="25">
Token</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 196 0 h 40"/>
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="42"/>
<text x="157" y="58">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 236 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 236 0 v -33"/>
<path d=" M 47 107 v 33 m 236 0 v -33"/>
<path d=" M 47 140 v 33 m 236 0 v -33"/>
<path d=" M 47 173 v 33 m 236 0 v -33"/>
<path d=" M 47 206 v 33 m 236 0 v -33"/>
<path d=" M 47 239 v 33 m 236 0 v -33"/>
<path d=" M 47 272 v 33 m 236 0 v -33"/>
<path d=" M 47 305 v 33 m 236 0 v -33"/>
<path d=" M 47 338 v 33 m 236 0 v -33"/>
<path d=" M 47 371 v 33 m 236 0 v -33"/>
<path d=" M 47 404 v 33 m 236 0 v -33"/>
<path d=" M 47 437 v 33 m 236 0 v -33"/>
<path d=" M 47 470 v 33 m 236 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 132 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-RAW_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="75"/>
<text x="125" y="91">
RAW_IDENTIFIER</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 116 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-CHAR_LITERAL">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="108"/>
<text x="117" y="124">
CHAR_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 132 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="141"/>
<text x="125" y="157">
STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 164 0 h 48 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RAW_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="174"/>
<text x="141" y="190">
RAW_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 116 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-BYTE_LITERAL">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="207"/>
<text x="117" y="223">
BYTE_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 172 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-BYTE_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="172" x="59" y="240"/>
<text x="145" y="256">
BYTE_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 212 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RAW_BYTE_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="273"/>
<text x="165" y="289">
RAW_BYTE_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 148 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-C_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="306"/>
<text x="133" y="322">
C_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 188 0 h 24 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RAW_C_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="188" x="59" y="339"/>
<text x="153" y="355">
RAW_C_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 371 v 0 a 12 12 0 0 0 12 12 m 140 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-INTEGER_LITERAL">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="372"/>
<text x="129" y="388">
INTEGER_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 404 v 0 a 12 12 0 0 0 12 12 m 124 0 h 88 m -41 0 l -5 -5 m 0 10 l 5 -5 m 41 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-FLOAT_LITERAL">
<g class="nonterminal">
<rect height="22" width="124" x="59" y="405"/>
<text x="121" y="421">
FLOAT_LITERAL</text>
</g>
</a>
</g>
<path d=" M 47 437 v 0 a 12 12 0 0 0 12 12 m 132 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-LIFETIME_TOKEN">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="438"/>
<text x="125" y="454">
LIFETIME_TOKEN</text>
</g>
</a>
</g>
<path d=" M 47 470 v 0 a 12 12 0 0 0 12 12 m 108 0 h 104 m -49 0 l -5 -5 m 0 10 l 5 -5 m 49 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-PUNCTUATION">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="471"/>
<text x="113" y="487">
PUNCTUATION</text>
</g>
</a>
</g>
<path d=" M 47 503 v 0 a 12 12 0 0 0 12 12 m 132 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-RESERVED_TOKEN">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="504"/>
<text x="125" y="520">
RESERVED_TOKEN</text>
</g>
</a>
</g>
<path d=" M 305 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 295 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.intro"><a class="rule-link" href="tokens.html#r-lex.token.intro" title="lex.token.intro"><span>[lex<wbr>.token<wbr>.intro]</span></a>
</div>
<p>Tokens are primitive productions in the grammar defined by regular
(non-recursive) languages.  Rust source input can be broken down
into the following kinds of tokens:</p>
<ul>
<li><a href="keywords.html">Keywords</a></li>
<li><a href="identifiers.html">Identifiers</a></li>
<li><a href="tokens.html#literals">Literals</a></li>
<li><a href="tokens.html#lifetimes-and-loop-labels">Lifetimes</a></li>
<li><a href="tokens.html#punctuation">Punctuation</a></li>
<li><a href="tokens.html#delimiters">Delimiters</a></li>
</ul>
<p>Within this documentation’s grammar, “simple” tokens are given in <a href="notation.html#string-table-productions">string
table production</a> form, and appear in <code>monospace</code> font.</p>
<div class="rule" id="r-lex.token.literal"><a class="rule-link" href="tokens.html#r-lex.token.literal" title="lex.token.literal"><span>[lex<wbr>.token<wbr>.literal]</span></a>
</div>
<h2 id="literals"><a class="header" href="#literals">Literals</a></h2>
<p>Literals are tokens used in <a href="expressions/literal-expr.html">literal expressions</a>.</p>
<h3 id="examples-1"><a class="header" href="#examples-1">Examples</a></h3>
<h4 id="characters-and-strings"><a class="header" href="#characters-and-strings">Characters and strings</a></h4>
<div class="table-wrapper"><table><thead><tr><th></th><th>Example</th><th><code>#</code> sets<sup class="footnote-reference" id="fr-nsets-1"><a href="#footnote-nsets">1</a></sup></th><th>Characters</th><th>Escapes</th></tr></thead><tbody>
<tr><td><a href="tokens.html#character-literals">Character</a></td><td><code>'H'</code></td><td>0</td><td>All Unicode</td><td><a href="tokens.html#quote-escapes">Quote</a> &amp; <a href="tokens.html#ascii-escapes">ASCII</a> &amp; <a href="tokens.html#unicode-escapes">Unicode</a></td></tr>
<tr><td><a href="tokens.html#string-literals">String</a></td><td><code>"hello"</code></td><td>0</td><td>All Unicode</td><td><a href="tokens.html#quote-escapes">Quote</a> &amp; <a href="tokens.html#ascii-escapes">ASCII</a> &amp; <a href="tokens.html#unicode-escapes">Unicode</a></td></tr>
<tr><td><a href="tokens.html#raw-string-literals">Raw string</a></td><td><code>r#"hello"#</code></td><td>&lt;256</td><td>All Unicode</td><td><code>N/A</code></td></tr>
<tr><td><a href="tokens.html#byte-literals">Byte</a></td><td><code>b'H'</code></td><td>0</td><td>All ASCII</td><td><a href="tokens.html#quote-escapes">Quote</a> &amp; <a href="tokens.html#byte-escapes">Byte</a></td></tr>
<tr><td><a href="tokens.html#byte-string-literals">Byte string</a></td><td><code>b"hello"</code></td><td>0</td><td>All ASCII</td><td><a href="tokens.html#quote-escapes">Quote</a> &amp; <a href="tokens.html#byte-escapes">Byte</a></td></tr>
<tr><td><a href="tokens.html#raw-byte-string-literals">Raw byte string</a></td><td><code>br#"hello"#</code></td><td>&lt;256</td><td>All ASCII</td><td><code>N/A</code></td></tr>
<tr><td><a href="tokens.html#c-string-literals">C string</a></td><td><code>c"hello"</code></td><td>0</td><td>All Unicode</td><td><a href="tokens.html#quote-escapes">Quote</a> &amp; <a href="tokens.html#byte-escapes">Byte</a> &amp; <a href="tokens.html#unicode-escapes">Unicode</a></td></tr>
<tr><td><a href="tokens.html#raw-c-string-literals">Raw C string</a></td><td><code>cr#"hello"#</code></td><td>&lt;256</td><td>All Unicode</td><td><code>N/A</code></td></tr>
</tbody></table>
</div>
<h4 id="ascii-escapes"><a class="header" href="#ascii-escapes">ASCII escapes</a></h4>
<div class="table-wrapper"><table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><code>\x41</code></td><td>7-bit character code (exactly 2 digits, up to 0x7F)</td></tr>
<tr><td><code>\n</code></td><td>Newline</td></tr>
<tr><td><code>\r</code></td><td>Carriage return</td></tr>
<tr><td><code>\t</code></td><td>Tab</td></tr>
<tr><td><code>\\</code></td><td>Backslash</td></tr>
<tr><td><code>\0</code></td><td>Null</td></tr>
</tbody></table>
</div>
<h4 id="byte-escapes"><a class="header" href="#byte-escapes">Byte escapes</a></h4>
<div class="table-wrapper"><table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><code>\x7F</code></td><td>8-bit character code (exactly 2 digits)</td></tr>
<tr><td><code>\n</code></td><td>Newline</td></tr>
<tr><td><code>\r</code></td><td>Carriage return</td></tr>
<tr><td><code>\t</code></td><td>Tab</td></tr>
<tr><td><code>\\</code></td><td>Backslash</td></tr>
<tr><td><code>\0</code></td><td>Null</td></tr>
</tbody></table>
</div>
<h4 id="unicode-escapes"><a class="header" href="#unicode-escapes">Unicode escapes</a></h4>
<div class="table-wrapper"><table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><code>\u{7FFF}</code></td><td>24-bit Unicode character code (up to 6 digits)</td></tr>
</tbody></table>
</div>
<h4 id="quote-escapes"><a class="header" href="#quote-escapes">Quote escapes</a></h4>
<div class="table-wrapper"><table><thead><tr><th></th><th>Name</th></tr></thead><tbody>
<tr><td><code>\'</code></td><td>Single quote</td></tr>
<tr><td><code>\"</code></td><td>Double quote</td></tr>
</tbody></table>
</div>
<h4 id="numbers"><a class="header" href="#numbers">Numbers</a></h4>
<div class="table-wrapper"><table><thead><tr><th><a href="tokens.html#number-literals">Number literals</a><sup class="footnote-reference" id="fr-nl-1"><a href="#footnote-nl">2</a></sup></th><th>Example</th><th>Exponentiation</th></tr></thead><tbody>
<tr><td>Decimal integer</td><td><code>98_222</code></td><td><code>N/A</code></td></tr>
<tr><td>Hex integer</td><td><code>0xff</code></td><td><code>N/A</code></td></tr>
<tr><td>Octal integer</td><td><code>0o77</code></td><td><code>N/A</code></td></tr>
<tr><td>Binary integer</td><td><code>0b1111_0000</code></td><td><code>N/A</code></td></tr>
<tr><td>Floating-point</td><td><code>123.0E+77</code></td><td><code>Optional</code></td></tr>
</tbody></table>
</div><div class="rule" id="r-lex.token.literal.suffix"><a class="rule-link" href="tokens.html#r-lex.token.literal.suffix" title="lex.token.literal.suffix"><span>[lex<wbr>.token<wbr>.literal<wbr>.suffix]</span></a>
</div>
<h4 id="suffixes"><a class="header" href="#suffixes">Suffixes</a></h4>
<div class="rule" id="r-lex.token.literal.literal.suffix.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.literal.suffix.intro" title="lex.token.literal.literal.suffix.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.literal<wbr>.suffix<wbr>.intro]</span></a>
</div>
<p>A suffix is a sequence of characters following the primary part of a literal (without intervening whitespace), of the same form as a non-raw identifier or keyword.</p>
<div class="rule" id="r-lex.token.literal.suffix.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.suffix.syntax" title="lex.token.literal.suffix.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.suffix<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-SUFFIX" onclick="show_railroad()"><a href="tokens.html#railroad-SUFFIX">SUFFIX</a></span> → <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-SUFFIX_NO_E" onclick="show_railroad()"><a href="tokens.html#railroad-SUFFIX_NO_E">SUFFIX_NO_E</a></span> → <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sub class="grammar-text">not beginning with <code>e</code> or <code>E</code></sub></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 266px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SUFFIX"><svg class="railroad" viewBox="0 0 266 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-SUFFIX">
<text class="comment" x="36" y="25">
SUFFIX</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="35" y="42"/>
<text x="133" y="58">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
<path d=" M 241 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 231 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 306px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SUFFIX_NO_E"><svg class="railroad" viewBox="0 0 306 118" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-SUFFIX_NO_E">
<text class="comment" x="53" y="25">
SUFFIX_NO_E</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="labeledbox">
<rect height="66" width="236" x="35" y="42"/>
<path d=" M 35 89 h 8 m 68 0 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0"/>
<text class="comment" x="153" y="65">
not beginning with `e` or `E`</text>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="43" y="78"/>
<text x="77" y="94">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 281 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 271 89 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.suffix.validity"><a class="rule-link" href="tokens.html#r-lex.token.literal.suffix.validity" title="lex.token.literal.suffix.validity"><span>[lex<wbr>.token<wbr>.literal<wbr>.suffix<wbr>.validity]</span></a>
</div>
<p>Any kind of literal (string, integer, etc) with any suffix is valid as a token.</p>
<p>A literal token with any suffix can be passed to a macro without producing an error.
The macro itself will decide how to interpret such a token and whether to produce an error or not.
In particular, the <code>literal</code> fragment specifier for by-example macros matches literal tokens with arbitrary suffixes.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! blackhole { ($tt:tt) =&gt; () }
macro_rules! blackhole_lit { ($l:literal) =&gt; () }

blackhole!("string"suffix); // OK
blackhole_lit!(1suffix); // OK
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.literal.suffix.parse"><a class="rule-link" href="tokens.html#r-lex.token.literal.suffix.parse" title="lex.token.literal.suffix.parse"><span>[lex<wbr>.token<wbr>.literal<wbr>.suffix<wbr>.parse]</span></a>
</div>
<p>However, suffixes on literal tokens which are interpreted as literal expressions or patterns are restricted.
Any suffixes are rejected on non-numeric literal tokens,
and numeric literal tokens are accepted only with suffixes from the list below.</p>
<div class="table-wrapper"><table><thead><tr><th>Integer</th><th>Floating-point</th></tr></thead><tbody>
<tr><td><code>u8</code>, <code>i8</code>, <code>u16</code>, <code>i16</code>, <code>u32</code>, <code>i32</code>, <code>u64</code>, <code>i64</code>, <code>u128</code>, <code>i128</code>, <code>usize</code>, <code>isize</code></td><td><code>f32</code>, <code>f64</code></td></tr>
</tbody></table>
</div>
<h3 id="character-and-string-literals"><a class="header" href="#character-and-string-literals">Character and string literals</a></h3>
<div class="rule" id="r-lex.token.literal.char"><a class="rule-link" href="tokens.html#r-lex.token.literal.char" title="lex.token.literal.char"><span>[lex<wbr>.token<wbr>.literal<wbr>.char]</span></a>
</div>
<h4 id="character-literals"><a class="header" href="#character-literals">Character literals</a></h4>
<div class="rule" id="r-lex.token.literal.char.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.char.syntax" title="lex.token.literal.char.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.char<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-CHAR_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-CHAR_LITERAL">CHAR_LITERAL</a></span> → <br />
    <span class="grammar-literal">'</span> <br />
        ( ~[<span class="grammar-literal">'</span> <span class="grammar-literal">\</span> <a href="whitespace.html#grammar-LF">LF</a> <a href="whitespace.html#grammar-CR">CR</a> <a href="whitespace.html#grammar-TAB">TAB</a>] | <span class="grammar-text"><a href="tokens.html#grammar-QUOTE_ESCAPE">QUOTE_ESCAPE</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-ASCII_ESCAPE">ASCII_ESCAPE</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-UNICODE_ESCAPE">UNICODE_ESCAPE</a></span> ) <br />
    <span class="grammar-literal">'</span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-QUOTE_ESCAPE" onclick="show_railroad()"><a href="tokens.html#railroad-QUOTE_ESCAPE">QUOTE_ESCAPE</a></span> → <span class="grammar-literal">\'</span> | <span class="grammar-literal">\"</span></p>
<p><span class="grammar-text grammar-production" id="grammar-ASCII_ESCAPE" onclick="show_railroad()"><a href="tokens.html#railroad-ASCII_ESCAPE">ASCII_ESCAPE</a></span> → <br />
      <span class="grammar-literal">\x</span> <span class="grammar-text"><a href="tokens.html#grammar-OCT_DIGIT">OCT_DIGIT</a></span> <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> <br />
    | <span class="grammar-literal">\n</span> | <span class="grammar-literal">\r</span> | <span class="grammar-literal">\t</span> | <span class="grammar-literal">\\</span> | <span class="grammar-literal">\0</span></p>
<p><span class="grammar-text grammar-production" id="grammar-UNICODE_ESCAPE" onclick="show_railroad()"><a href="tokens.html#railroad-UNICODE_ESCAPE">UNICODE_ESCAPE</a></span> → <br />
    <span class="grammar-literal">\u{</span> ( <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> <span class="grammar-literal">_</span><sup>*</sup> )<sup>1..6</sup> <span class="grammar-literal">}</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 521px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CHAR_LITERAL"><svg class="railroad" viewBox="0 0 521 383" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-CHAR_LITERAL">
<text class="comment" x="57" y="25">
CHAR_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 255 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="244"/>
<text x="49" y="260">
&#x27;</text>
</g>
<g class="choice">
<path d=" M 73 255 h 24 m 201 0 h 24"/>
<g class="labeledbox exceptbox">
<rect height="232" width="201" x="97" y="42"/>
<path d=" M 97 255 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="197" y="65">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 105 93 h 24 m 28 0 h 40"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="82"/>
<text x="143" y="98">
&#x27;</text>
</g>
<path d=" M 105 93 a 12 12 0 0 1 12 12 v 9 m 68 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 117 114 v 33 m 68 0 v -33"/>
<path d=" M 117 147 v 33 m 68 0 v -33"/>
<path d=" M 117 180 v 33 m 68 0 v -33"/>
<path d=" M 117 114 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="115"/>
<text x="143" y="131">
\</text>
</g>
<path d=" M 117 147 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-LF">
<g class="nonterminal">
<rect height="22" width="36" x="129" y="148"/>
<text x="147" y="164">
LF</text>
</g>
</a>
<path d=" M 117 180 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="129" y="181"/>
<text x="147" y="197">
CR</text>
</g>
</a>
<path d=" M 117 213 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-TAB">
<g class="nonterminal">
<rect height="22" width="44" x="129" y="214"/>
<text x="151" y="230">
TAB</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="105" y="244"/>
<text x="131" y="260">
CHAR</text>
</g>
</a>
</g>
<path d=" M 73 255 a 12 12 0 0 1 12 12 v 17 m 225 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 85 284 v 33 m 225 0 v -33"/>
<path d=" M 85 317 v 33 m 225 0 v -33"/>
<path d=" M 85 284 v 0 a 12 12 0 0 0 12 12 m 116 0 h 85 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-QUOTE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="116" x="97" y="285"/>
<text x="155" y="301">
QUOTE_ESCAPE</text>
</g>
</a>
<path d=" M 85 317 v 0 a 12 12 0 0 0 12 12 m 116 0 h 85 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-ASCII_ESCAPE">
<g class="nonterminal">
<rect height="22" width="116" x="97" y="318"/>
<text x="155" y="334">
ASCII_ESCAPE</text>
</g>
</a>
<path d=" M 85 350 v 0 a 12 12 0 0 0 12 12 m 132 0 h 69 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-UNICODE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="132" x="97" y="351"/>
<text x="163" y="367">
UNICODE_ESCAPE</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="332" y="244"/>
<text x="346" y="260">
&#x27;</text>
</g>
<g class="optional">
<path d=" M 370 255 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="394" y="244"/>
<text x="428" y="260">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 63 255 h 10"/>
<path d=" M 322 255 h 10"/>
<path d=" M 360 255 h 10"/>
</g>
<path d=" M 496 255 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 255 h 10"/>
<path d=" M 486 255 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 154px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-QUOTE_ESCAPE"><svg class="railroad" viewBox="0 0 154 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-QUOTE_ESCAPE">
<text class="comment" x="57" y="25">
QUOTE_ESCAPE</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 36 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="42"/>
<text x="77" y="58">
\&#x27;</text>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="75"/>
<text x="77" y="91">
\&quot;</text>
</g>
</g>
<path d=" M 129 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 119 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 358px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ASCII_ESCAPE"><svg class="railroad" viewBox="0 0 358 239" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-ASCII_ESCAPE">
<text class="comment" x="57" y="25">
ASCII_ESCAPE</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 240 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="42"/>
<text x="77" y="58">
\x</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-OCT_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="105" y="42"/>
<text x="151" y="58">
OCT_DIGIT</text>
</g>
</a>
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="207" y="42"/>
<text x="253" y="58">
HEX_DIGIT</text>
</g>
</a>
<path d=" M 95 53 h 10"/>
<path d=" M 197 53 h 10"/>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 264 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 264 0 v -33"/>
<path d=" M 47 107 v 33 m 264 0 v -33"/>
<path d=" M 47 140 v 33 m 264 0 v -33"/>
<path d=" M 47 173 v 33 m 264 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="75"/>
<text x="77" y="91">
\n</text>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="108"/>
<text x="77" y="124">
\r</text>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="141"/>
<text x="77" y="157">
\t</text>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="174"/>
<text x="77" y="190">
\\</text>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="207"/>
<text x="77" y="223">
\0</text>
</g>
</g>
<path d=" M 333 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 323 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 388px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-UNICODE_ESCAPE"><svg class="railroad" viewBox="0 0 388 130" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-UNICODE_ESCAPE">
<text class="comment" x="64" y="25">
UNICODE_ESCAPE</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="55"/>
<text x="57" y="71">
\u{</text>
</g>
<g class="repeat">
<path d=" M 89 66 h 12 m 202 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 20 a 12 12 0 0 1 -12 12 m -157 0 h -45 a 12 12 0 0 1 -12 -12 v -20 a 12 12 0 0 1 12 -12"/>
<text class="comment" x="224" y="115">
at most 5 more times</text>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="101" y="55"/>
<text x="147" y="71">
HEX_DIGIT</text>
</g>
</a>
<g class="optional">
<path d=" M 203 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 227 66 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -28 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="239" y="55"/>
<text x="253" y="71">
_</text>
</g>
</g>
</g>
<path d=" M 193 66 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="325" y="55"/>
<text x="339" y="71">
}</text>
</g>
<path d=" M 79 66 h 10"/>
<path d=" M 315 66 h 10"/>
</g>
<path d=" M 363 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 353 66 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.char.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.char.intro" title="lex.token.literal.char.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.char<wbr>.intro]</span></a>
</div>
<p>A <em>character literal</em> is a single Unicode character enclosed within two
<code>U+0027</code> (single-quote) characters, with the exception of <code>U+0027</code> itself,
which must be <em>escaped</em> by a preceding <code>U+005C</code> character (<code>\</code>).</p>
<div class="rule" id="r-lex.token.literal.str"><a class="rule-link" href="tokens.html#r-lex.token.literal.str" title="lex.token.literal.str"><span>[lex<wbr>.token<wbr>.literal<wbr>.str]</span></a>
</div>
<h4 id="string-literals"><a class="header" href="#string-literals">String literals</a></h4>
<div class="rule" id="r-lex.token.literal.str.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.str.syntax" title="lex.token.literal.str.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.str<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-STRING_LITERAL">STRING_LITERAL</a></span> → <br />
    <span class="grammar-literal">"</span> ( <br />
        ~[<span class="grammar-literal">"</span> <span class="grammar-literal">\</span> <a href="whitespace.html#grammar-CR">CR</a>] <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-QUOTE_ESCAPE">QUOTE_ESCAPE</a></span> <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-ASCII_ESCAPE">ASCII_ESCAPE</a></span> <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-UNICODE_ESCAPE">UNICODE_ESCAPE</a></span> <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-STRING_CONTINUE">STRING_CONTINUE</a></span> <br />
    )<sup>*</sup> <span class="grammar-literal">"</span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-STRING_CONTINUE" onclick="show_railroad()"><a href="tokens.html#railroad-STRING_CONTINUE">STRING_CONTINUE</a></span> → <span class="grammar-literal">\</span> <span class="grammar-text"><a href="whitespace.html#grammar-LF">LF</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 593px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-STRING_LITERAL"><svg class="railroad" viewBox="0 0 593 372" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-STRING_LITERAL">
<text class="comment" x="64" y="25">
STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 201 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="190"/>
<text x="49" y="206">
&quot;</text>
</g>
<g class="optional">
<path d=" M 73 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -135 m 0 70 l -5 5 m 10 0 l -5 -5 m 0 -70 a 12 12 0 0 1 12 -12 h 273 m -133 0 l -5 -5 m 0 10 l 5 -5 m 133 0 a 12 12 0 0 1 12 12 v 135 m 0 -64 l -5 -5 m 10 0 l -5 5 m 0 64 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 97 201 h 12 m 249 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 137 m 0 -65 l -5 -5 m 10 0 l -5 5 m 0 65 a 12 12 0 0 1 -12 12 m 0 0 h -249 m 127 0 l 5 -5 m 0 10 l -5 -5 m -127 0 a 12 12 0 0 1 -12 -12 v -137 m 0 71 l -5 5 m 10 0 l -5 -5 m 0 -71 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 109 201 h 24 m 201 0 h 24"/>
<g class="sequence">
<g class="labeledbox exceptbox">
<rect height="166" width="201" x="133" y="54"/>
<path d=" M 133 201 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="233" y="77">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 141 105 h 24 m 28 0 h 32"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="165" y="94"/>
<text x="179" y="110">
&quot;</text>
</g>
<path d=" M 141 105 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 153 126 v 33 m 60 0 v -33"/>
<path d=" M 153 126 v 0 a 12 12 0 0 0 12 12 m 28 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="165" y="127"/>
<text x="179" y="143">
\</text>
</g>
<path d=" M 153 159 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="165" y="160"/>
<text x="183" y="176">
CR</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="141" y="190"/>
<text x="167" y="206">
CHAR</text>
</g>
</a>
</g>
</g>
<path d=" M 109 201 a 12 12 0 0 1 12 12 v 17 m 225 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 121 230 v 33 m 225 0 v -33"/>
<path d=" M 121 263 v 33 m 225 0 v -33"/>
<path d=" M 121 296 v 33 m 225 0 v -33"/>
<path d=" M 121 230 v 0 a 12 12 0 0 0 12 12 m 116 0 h 85 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-QUOTE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="116" x="133" y="231"/>
<text x="191" y="247">
QUOTE_ESCAPE</text>
</g>
</a>
</g>
<path d=" M 121 263 v 0 a 12 12 0 0 0 12 12 m 116 0 h 85 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-ASCII_ESCAPE">
<g class="nonterminal">
<rect height="22" width="116" x="133" y="264"/>
<text x="191" y="280">
ASCII_ESCAPE</text>
</g>
</a>
</g>
<path d=" M 121 296 v 0 a 12 12 0 0 0 12 12 m 132 0 h 69 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-UNICODE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="132" x="133" y="297"/>
<text x="199" y="313">
UNICODE_ESCAPE</text>
</g>
</a>
</g>
<path d=" M 121 329 v 0 a 12 12 0 0 0 12 12 m 140 0 h 61 m -27 0 l -5 -5 m 0 10 l 5 -5 m 27 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-STRING_CONTINUE">
<g class="nonterminal">
<rect height="22" width="140" x="133" y="330"/>
<text x="203" y="346">
STRING_CONTINUE</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="404" y="190"/>
<text x="418" y="206">
&quot;</text>
</g>
<g class="optional">
<path d=" M 442 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="466" y="190"/>
<text x="500" y="206">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 63 201 h 10"/>
<path d=" M 394 201 h 10"/>
<path d=" M 432 201 h 10"/>
</g>
<path d=" M 568 201 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 201 h 10"/>
<path d=" M 558 201 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 144px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-STRING_CONTINUE"><svg class="railroad" viewBox="0 0 144 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-STRING_CONTINUE">
<text class="comment" x="67" y="25">
STRING_CONTINUE</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42"/>
<text x="49" y="58">
\</text>
</g>
<a class="link" xlink:href="whitespace.html#railroad-LF">
<g class="nonterminal">
<rect height="22" width="36" x="73" y="42"/>
<text x="91" y="58">
LF</text>
</g>
</a>
<path d=" M 63 53 h 10"/>
</g>
<path d=" M 119 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 109 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.str.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.str.intro" title="lex.token.literal.str.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.str<wbr>.intro]</span></a>
</div>
<p>A <em>string literal</em> is a sequence of any Unicode characters enclosed within two
<code>U+0022</code> (double-quote) characters, with the exception of <code>U+0022</code> itself,
which must be <em>escaped</em> by a preceding <code>U+005C</code> character (<code>\</code>).</p>
<div class="rule" id="r-lex.token.literal.str.linefeed"><a class="rule-link" href="tokens.html#r-lex.token.literal.str.linefeed" title="lex.token.literal.str.linefeed"><span>[lex<wbr>.token<wbr>.literal<wbr>.str<wbr>.linefeed]</span></a>
</div>
<p>Line-breaks, represented by the  character <code>U+000A</code> (LF), are allowed in string literals.
The character <code>U+000D</code> (CR) may not appear in a string literal.
When an unescaped <code>U+005C</code> character (<code>\</code>) occurs immediately before a line break, the line break does not appear in the string represented by the token.
See <a href="expressions/literal-expr.html#string-continuation-escapes">String continuation escapes</a> for details.</p>
<div class="rule" id="r-lex.token.literal.char-escape"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape" title="lex.token.literal.char-escape"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape]</span></a>
</div>
<h4 id="character-escapes"><a class="header" href="#character-escapes">Character escapes</a></h4>
<div class="rule" id="r-lex.token.literal.char-escape.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape.intro" title="lex.token.literal.char-escape.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape<wbr>.intro]</span></a>
</div>
<p>Some additional <em>escapes</em> are available in either character or non-raw string
literals. An escape starts with a <code>U+005C</code> (<code>\</code>) and continues with one of the
following forms:</p>
<div class="rule" id="r-lex.token.literal.char-escape.ascii"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape.ascii" title="lex.token.literal.char-escape.ascii"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape<wbr>.ascii]</span></a>
</div>
<ul>
<li>A <em>7-bit code point escape</em> starts with <code>U+0078</code> (<code>x</code>) and is
followed by exactly two <em>hex digits</em> with value up to <code>0x7F</code>. It denotes the
ASCII character with value equal to the provided hex value. Higher values are
not permitted because it is ambiguous whether they mean Unicode code points or
byte values.</li>
</ul>
<div class="rule" id="r-lex.token.literal.char-escape.unicode"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape.unicode" title="lex.token.literal.char-escape.unicode"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape<wbr>.unicode]</span></a>
</div>
<ul>
<li>A <em>24-bit code point escape</em> starts with <code>U+0075</code> (<code>u</code>) and is followed
by up to six <em>hex digits</em> surrounded by braces <code>U+007B</code> (<code>{</code>) and <code>U+007D</code>
(<code>}</code>). It denotes the Unicode code point equal to the provided hex value.</li>
</ul>
<div class="rule" id="r-lex.token.literal.char-escape.whitespace"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape.whitespace" title="lex.token.literal.char-escape.whitespace"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape<wbr>.whitespace]</span></a>
</div>
<ul>
<li>A <em>whitespace escape</em> is one of the characters <code>U+006E</code> (<code>n</code>), <code>U+0072</code>
(<code>r</code>), or <code>U+0074</code> (<code>t</code>), denoting the Unicode values <code>U+000A</code> (LF),
<code>U+000D</code> (CR) or <code>U+0009</code> (HT) respectively.</li>
</ul>
<div class="rule" id="r-lex.token.literal.char-escape.null"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape.null" title="lex.token.literal.char-escape.null"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape<wbr>.null]</span></a>
</div>
<ul>
<li>The <em>null escape</em> is the character <code>U+0030</code> (<code>0</code>) and denotes the Unicode
value <code>U+0000</code> (NUL).</li>
</ul>
<div class="rule" id="r-lex.token.literal.char-escape.slash"><a class="rule-link" href="tokens.html#r-lex.token.literal.char-escape.slash" title="lex.token.literal.char-escape.slash"><span>[lex<wbr>.token<wbr>.literal<wbr>.char-escape<wbr>.slash]</span></a>
</div>
<ul>
<li>The <em>backslash escape</em> is the character <code>U+005C</code> (<code>\</code>) which must be
escaped in order to denote itself.</li>
</ul>
<div class="rule" id="r-lex.token.literal.str-raw"><a class="rule-link" href="tokens.html#r-lex.token.literal.str-raw" title="lex.token.literal.str-raw"><span>[lex<wbr>.token<wbr>.literal<wbr>.str-raw]</span></a>
</div>
<h4 id="raw-string-literals"><a class="header" href="#raw-string-literals">Raw string literals</a></h4>
<div class="rule" id="r-lex.token.literal.str-raw.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.str-raw.syntax" title="lex.token.literal.str-raw.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.str-raw<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RAW_STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_STRING_LITERAL">RAW_STRING_LITERAL</a></span> → <span class="grammar-literal">r</span> <span class="grammar-text"><a href="tokens.html#grammar-RAW_STRING_CONTENT">RAW_STRING_CONTENT</a></span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-RAW_STRING_CONTENT" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_STRING_CONTENT">RAW_STRING_CONTENT</a></span> → <br />
      <span class="grammar-literal">"</span> ( ~<span class="grammar-text"><a href="whitespace.html#grammar-CR">CR</a></span> )<sup>* (non-greedy)</sup> <span class="grammar-literal">"</span> <br />
    | <span class="grammar-literal">#</span> <span class="grammar-text"><a href="tokens.html#grammar-RAW_STRING_CONTENT">RAW_STRING_CONTENT</a></span> <span class="grammar-literal">#</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 398px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_STRING_LITERAL"><svg class="railroad" viewBox="0 0 398 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_STRING_LITERAL">
<text class="comment" x="78" y="25">
RAW_STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="55"/>
<text x="49" y="71">
r</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-RAW_STRING_CONTENT">
<g class="nonterminal">
<rect height="22" width="164" x="73" y="55"/>
<text x="155" y="71">
RAW_STRING_CONTENT</text>
</g>
</a>
<g class="optional">
<path d=" M 247 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="271" y="55"/>
<text x="305" y="71">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 63 66 h 10"/>
<path d=" M 237 66 h 10"/>
</g>
<path d=" M 373 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 363 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 483px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_STRING_CONTENT"><svg class="railroad" viewBox="0 0 483 251" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_STRING_CONTENT">
<text class="comment" x="78" y="25">
RAW_STRING_CONTENT</text>
</a>
<g class="sequence">
<path d=" M 10 171 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 171 h 24 m 365 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="160"/>
<text x="73" y="176">
&quot;</text>
</g>
<g class="labeledbox">
<rect height="166" width="289" x="97" y="42"/>
<path d=" M 97 171 h 8 m 273 0 h 8"/>
<text class="comment" x="145" y="65">
non-greedy</text>
<g class="optional">
<path d=" M 105 171 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -69 m 0 37 l -5 5 m 10 0 l -5 -5 m 0 -37 a 12 12 0 0 1 12 -12 h 225 m -109 0 l -5 -5 m 0 10 l 5 -5 m 109 0 a 12 12 0 0 1 12 12 v 69 m 0 -31 l -5 -5 m 10 0 l -5 5 m 0 31 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 129 171 h 12 m 201 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -201 m 103 0 l 5 -5 m 0 10 l -5 -5 m -103 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="labeledbox exceptbox">
<rect height="100" width="201" x="141" y="90"/>
<path d=" M 141 171 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="241" y="113">
⚠️ with the exception of</text>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="149" y="130"/>
<text x="167" y="146">
CR</text>
</g>
</a>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="149" y="160"/>
<text x="175" y="176">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="396" y="160"/>
<text x="410" y="176">
&quot;</text>
</g>
<path d=" M 87 171 h 10"/>
<path d=" M 386 171 h 10"/>
</g>
<path d=" M 35 171 a 12 12 0 0 1 12 12 v 35 m 389 0 v -35 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 218 v 0 a 12 12 0 0 0 12 12 m 240 0 h 125 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="219"/>
<text x="73" y="235">
#</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-RAW_STRING_CONTENT">
<g class="nonterminal">
<rect height="22" width="164" x="97" y="219"/>
<text x="179" y="235">
RAW_STRING_CONTENT</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="219"/>
<text x="285" y="235">
#</text>
</g>
<path d=" M 87 230 h 10"/>
<path d=" M 261 230 h 10"/>
</g>
</g>
<path d=" M 458 171 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 171 h 10"/>
<path d=" M 448 171 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.str-raw.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.str-raw.intro" title="lex.token.literal.str-raw.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.str-raw<wbr>.intro]</span></a>
</div>
<p>Raw string literals do not process any escapes. They start with the character
<code>U+0072</code> (<code>r</code>), followed by fewer than 256 of the character <code>U+0023</code> (<code>#</code>) and a
<code>U+0022</code> (double-quote) character.</p>
<div class="rule" id="r-lex.token.literal.str-raw.body"><a class="rule-link" href="tokens.html#r-lex.token.literal.str-raw.body" title="lex.token.literal.str-raw.body"><span>[lex<wbr>.token<wbr>.literal<wbr>.str-raw<wbr>.body]</span></a>
</div>
<p>The <em>raw string body</em> can contain any sequence of Unicode characters other than <code>U+000D</code> (CR).
It is terminated only by another <code>U+0022</code> (double-quote) character, followed by the same number of <code>U+0023</code> (<code>#</code>) characters that preceded the opening <code>U+0022</code> (double-quote) character.</p>
<div class="rule" id="r-lex.token.literal.str-raw.content"><a class="rule-link" href="tokens.html#r-lex.token.literal.str-raw.content" title="lex.token.literal.str-raw.content"><span>[lex<wbr>.token<wbr>.literal<wbr>.str-raw<wbr>.content]</span></a>
</div>
<p>All Unicode characters contained in the raw string body represent themselves,
the characters <code>U+0022</code> (double-quote) (except when followed by at least as
many <code>U+0023</code> (<code>#</code>) characters as were used to start the raw string literal) or
<code>U+005C</code> (<code>\</code>) do not have any special meaning.</p>
<p>Examples for string literals:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>"foo"; r"foo";                     // foo
"\"foo\""; r#""foo""#;             // "foo"

"foo #\"# bar";
r##"foo #"# bar"##;                // foo #"# bar

"\x52"; "R"; r"R";                 // R
"\\x52"; r"\x52";                  // \x52
<span class="boring">}</span></code></pre></pre>
<h3 id="byte-and-byte-string-literals"><a class="header" href="#byte-and-byte-string-literals">Byte and byte string literals</a></h3>
<div class="rule" id="r-lex.token.byte"><a class="rule-link" href="tokens.html#r-lex.token.byte" title="lex.token.byte"><span>[lex<wbr>.token<wbr>.byte]</span></a>
</div>
<h4 id="byte-literals"><a class="header" href="#byte-literals">Byte literals</a></h4>
<div class="rule" id="r-lex.token.byte.syntax"><a class="rule-link" href="tokens.html#r-lex.token.byte.syntax" title="lex.token.byte.syntax"><span>[lex<wbr>.token<wbr>.byte<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-BYTE_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-BYTE_LITERAL">BYTE_LITERAL</a></span> → <br />
    <span class="grammar-literal">b'</span> ( <span class="grammar-text"><a href="tokens.html#grammar-ASCII_FOR_CHAR">ASCII_FOR_CHAR</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-BYTE_ESCAPE">BYTE_ESCAPE</a></span> ) <span class="grammar-literal">'</span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-ASCII_FOR_CHAR" onclick="show_railroad()"><a href="tokens.html#railroad-ASCII_FOR_CHAR">ASCII_FOR_CHAR</a></span> → <br />
    <span class="grammar-text">&lt;any ASCII (i.e. 0x00 to 0x7F) except <code>'</code>, <code>\</code>, LF, CR, or TAB&gt;</span></p>
<p><span class="grammar-text grammar-production" id="grammar-BYTE_ESCAPE" onclick="show_railroad()"><a href="tokens.html#railroad-BYTE_ESCAPE">BYTE_ESCAPE</a></span> → <br />
      <span class="grammar-literal">\x</span> <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> <br />
    | <span class="grammar-literal">\n</span> | <span class="grammar-literal">\r</span> | <span class="grammar-literal">\t</span> | <span class="grammar-literal">\\</span> | <span class="grammar-literal">\0</span> | <span class="grammar-literal">\'</span> | <span class="grammar-literal">\"</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 460px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BYTE_LITERAL"><svg class="railroad" viewBox="0 0 460 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-BYTE_LITERAL">
<text class="comment" x="57" y="25">
BYTE_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
b&#x27;</text>
</g>
<g class="choice">
<path d=" M 81 66 h 24 m 132 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-ASCII_FOR_CHAR">
<g class="nonterminal">
<rect height="22" width="132" x="105" y="55"/>
<text x="171" y="71">
ASCII_FOR_CHAR</text>
</g>
</a>
<path d=" M 81 66 a 12 12 0 0 1 12 12 v 9 m 156 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 93 87 v 0 a 12 12 0 0 0 12 12 m 108 0 h 24 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-BYTE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="108" x="105" y="88"/>
<text x="159" y="104">
BYTE_ESCAPE</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="55"/>
<text x="285" y="71">
&#x27;</text>
</g>
<g class="optional">
<path d=" M 309 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="333" y="55"/>
<text x="367" y="71">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 261 66 h 10"/>
<path d=" M 299 66 h 10"/>
</g>
<path d=" M 435 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 425 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 602px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ASCII_FOR_CHAR"><svg class="railroad" viewBox="0 0 602 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-ASCII_FOR_CHAR">
<text class="comment" x="64" y="25">
ASCII_FOR_CHAR</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="532" x="35" y="42"/>
<text x="301" y="58">
any ASCII (i.e. 0x00 to 0x7F) except `&#x27;`, `\`, LF, CR, or TAB</text>
</g>
</g>
<path d=" M 577 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 567 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 358px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BYTE_ESCAPE"><svg class="railroad" viewBox="0 0 358 305" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-BYTE_ESCAPE">
<text class="comment" x="53" y="25">
BYTE_ESCAPE</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 240 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="42"/>
<text x="77" y="58">
\x</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="105" y="42"/>
<text x="151" y="58">
HEX_DIGIT</text>
</g>
</a>
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="207" y="42"/>
<text x="253" y="58">
HEX_DIGIT</text>
</g>
</a>
<path d=" M 95 53 h 10"/>
<path d=" M 197 53 h 10"/>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 264 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 264 0 v -33"/>
<path d=" M 47 107 v 33 m 264 0 v -33"/>
<path d=" M 47 140 v 33 m 264 0 v -33"/>
<path d=" M 47 173 v 33 m 264 0 v -33"/>
<path d=" M 47 206 v 33 m 264 0 v -33"/>
<path d=" M 47 239 v 33 m 264 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="75"/>
<text x="77" y="91">
\n</text>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="108"/>
<text x="77" y="124">
\r</text>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="141"/>
<text x="77" y="157">
\t</text>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="174"/>
<text x="77" y="190">
\\</text>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="207"/>
<text x="77" y="223">
\0</text>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="240"/>
<text x="77" y="256">
\&#x27;</text>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 36 0 h 204 m -99 0 l -5 -5 m 0 10 l 5 -5 m 99 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="273"/>
<text x="77" y="289">
\&quot;</text>
</g>
</g>
<path d=" M 333 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 323 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.byte.intro"><a class="rule-link" href="tokens.html#r-lex.token.byte.intro" title="lex.token.byte.intro"><span>[lex<wbr>.token<wbr>.byte<wbr>.intro]</span></a>
</div>
<p>A <em>byte literal</em> is a single ASCII character (in the <code>U+0000</code> to <code>U+007F</code>
range) or a single <em>escape</em> preceded by the characters <code>U+0062</code> (<code>b</code>) and
<code>U+0027</code> (single-quote), and followed by the character <code>U+0027</code>. If the character
<code>U+0027</code> is present within the literal, it must be <em>escaped</em> by a preceding
<code>U+005C</code> (<code>\</code>) character. It is equivalent to a <code>u8</code> unsigned 8-bit integer
<em>number literal</em>.</p>
<div class="rule" id="r-lex.token.str-byte"><a class="rule-link" href="tokens.html#r-lex.token.str-byte" title="lex.token.str-byte"><span>[lex<wbr>.token<wbr>.str-byte]</span></a>
</div>
<h4 id="byte-string-literals"><a class="header" href="#byte-string-literals">Byte string literals</a></h4>
<div class="rule" id="r-lex.token.str-byte.syntax"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.syntax" title="lex.token.str-byte.syntax"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-BYTE_STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-BYTE_STRING_LITERAL">BYTE_STRING_LITERAL</a></span> → <br />
    <span class="grammar-literal">b"</span> ( <span class="grammar-text"><a href="tokens.html#grammar-ASCII_FOR_STRING">ASCII_FOR_STRING</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-BYTE_ESCAPE">BYTE_ESCAPE</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-STRING_CONTINUE">STRING_CONTINUE</a></span> )<sup>*</sup> <span class="grammar-literal">"</span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-ASCII_FOR_STRING" onclick="show_railroad()"><a href="tokens.html#railroad-ASCII_FOR_STRING">ASCII_FOR_STRING</a></span> → <br />
    <span class="grammar-text">&lt;any ASCII (i.e 0x00 to 0x7F) except <code>"</code>, <code>\</code>, or CR&gt;</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 548px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BYTE_STRING_LITERAL"><svg class="railroad" viewBox="0 0 548 163" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-BYTE_STRING_LITERAL">
<text class="comment" x="81" y="25">
BYTE_STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
b&quot;</text>
</g>
<g class="optional">
<path d=" M 81 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 220 m -107 0 l -5 -5 m 0 10 l 5 -5 m 107 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 105 66 h 12 m 196 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 63 m 0 -28 l -5 -5 m 10 0 l -5 5 m 0 28 a 12 12 0 0 1 -12 12 m 0 0 h -196 m 101 0 l 5 -5 m 0 10 l -5 -5 m -101 0 a 12 12 0 0 1 -12 -12 v -63 m 0 34 l -5 5 m 10 0 l -5 -5 m 0 -34 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 117 66 h 24 m 148 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-ASCII_FOR_STRING">
<g class="nonterminal">
<rect height="22" width="148" x="141" y="55"/>
<text x="215" y="71">
ASCII_FOR_STRING</text>
</g>
</a>
<path d=" M 117 66 a 12 12 0 0 1 12 12 v 9 m 172 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 129 87 v 33 m 172 0 v -33"/>
<path d=" M 129 87 v 0 a 12 12 0 0 0 12 12 m 108 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-BYTE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="108" x="141" y="88"/>
<text x="195" y="104">
BYTE_ESCAPE</text>
</g>
</a>
<path d=" M 129 120 v 0 a 12 12 0 0 0 12 12 m 140 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-STRING_CONTINUE">
<g class="nonterminal">
<rect height="22" width="140" x="141" y="121"/>
<text x="211" y="137">
STRING_CONTINUE</text>
</g>
</a>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="55"/>
<text x="373" y="71">
&quot;</text>
</g>
<g class="optional">
<path d=" M 397 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="421" y="55"/>
<text x="455" y="71">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 349 66 h 10"/>
<path d=" M 387 66 h 10"/>
</g>
<path d=" M 523 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 513 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 514px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ASCII_FOR_STRING"><svg class="railroad" viewBox="0 0 514 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-ASCII_FOR_STRING">
<text class="comment" x="71" y="25">
ASCII_FOR_STRING</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="444" x="35" y="42"/>
<text x="257" y="58">
any ASCII (i.e 0x00 to 0x7F) except `&quot;`, `\`, or CR</text>
</g>
</g>
<path d=" M 489 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 479 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.str-byte.intro"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.intro" title="lex.token.str-byte.intro"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.intro]</span></a>
</div>
<p>A non-raw <em>byte string literal</em> is a sequence of ASCII characters and <em>escapes</em>,
preceded by the characters <code>U+0062</code> (<code>b</code>) and <code>U+0022</code> (double-quote), and
followed by the character <code>U+0022</code>. If the character <code>U+0022</code> is present within
the literal, it must be <em>escaped</em> by a preceding <code>U+005C</code> (<code>\</code>) character.
Alternatively, a byte string literal can be a <em>raw byte string literal</em>, defined
below.</p>
<div class="rule" id="r-lex.token.str-byte.linefeed"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.linefeed" title="lex.token.str-byte.linefeed"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.linefeed]</span></a>
</div>
<p>Line-breaks, represented by the  character <code>U+000A</code> (LF), are allowed in byte string literals.
The character <code>U+000D</code> (CR) may not appear in a byte string literal.
When an unescaped <code>U+005C</code> character (<code>\</code>) occurs immediately before a line break, the line break does not appear in the string represented by the token.
See <a href="expressions/literal-expr.html#string-continuation-escapes">String continuation escapes</a> for details.</p>
<div class="rule" id="r-lex.token.str-byte.escape"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.escape" title="lex.token.str-byte.escape"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.escape]</span></a>
</div>
<p>Some additional <em>escapes</em> are available in either byte or non-raw byte string
literals. An escape starts with a <code>U+005C</code> (<code>\</code>) and continues with one of the
following forms:</p>
<div class="rule" id="r-lex.token.str-byte.escape-byte"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.escape-byte" title="lex.token.str-byte.escape-byte"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.escape-byte]</span></a>
</div>
<ul>
<li>A <em>byte escape</em> escape starts with <code>U+0078</code> (<code>x</code>) and is
followed by exactly two <em>hex digits</em>. It denotes the byte
equal to the provided hex value.</li>
</ul>
<div class="rule" id="r-lex.token.str-byte.escape-whitespace"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.escape-whitespace" title="lex.token.str-byte.escape-whitespace"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.escape-whitespace]</span></a>
</div>
<ul>
<li>A <em>whitespace escape</em> is one of the characters <code>U+006E</code> (<code>n</code>), <code>U+0072</code>
(<code>r</code>), or <code>U+0074</code> (<code>t</code>), denoting the bytes values <code>0x0A</code> (ASCII LF),
<code>0x0D</code> (ASCII CR) or <code>0x09</code> (ASCII HT) respectively.</li>
</ul>
<div class="rule" id="r-lex.token.str-byte.escape-null"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.escape-null" title="lex.token.str-byte.escape-null"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.escape-null]</span></a>
</div>
<ul>
<li>The <em>null escape</em> is the character <code>U+0030</code> (<code>0</code>) and denotes the byte
value <code>0x00</code> (ASCII NUL).</li>
</ul>
<div class="rule" id="r-lex.token.str-byte.escape-slash"><a class="rule-link" href="tokens.html#r-lex.token.str-byte.escape-slash" title="lex.token.str-byte.escape-slash"><span>[lex<wbr>.token<wbr>.str-byte<wbr>.escape-slash]</span></a>
</div>
<ul>
<li>The <em>backslash escape</em> is the character <code>U+005C</code> (<code>\</code>) which must be
escaped in order to denote its ASCII encoding <code>0x5C</code>.</li>
</ul>
<div class="rule" id="r-lex.token.str-byte-raw"><a class="rule-link" href="tokens.html#r-lex.token.str-byte-raw" title="lex.token.str-byte-raw"><span>[lex<wbr>.token<wbr>.str-byte-raw]</span></a>
</div>
<h4 id="raw-byte-string-literals"><a class="header" href="#raw-byte-string-literals">Raw byte string literals</a></h4>
<div class="rule" id="r-lex.token.str-byte-raw.syntax"><a class="rule-link" href="tokens.html#r-lex.token.str-byte-raw.syntax" title="lex.token.str-byte-raw.syntax"><span>[lex<wbr>.token<wbr>.str-byte-raw<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RAW_BYTE_STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_BYTE_STRING_LITERAL">RAW_BYTE_STRING_LITERAL</a></span> → <br />
    <span class="grammar-literal">br</span> <span class="grammar-text"><a href="tokens.html#grammar-RAW_BYTE_STRING_CONTENT">RAW_BYTE_STRING_CONTENT</a></span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-RAW_BYTE_STRING_CONTENT" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_BYTE_STRING_CONTENT">RAW_BYTE_STRING_CONTENT</a></span> → <br />
      <span class="grammar-literal">"</span> <span class="grammar-text"><a href="tokens.html#grammar-ASCII_FOR_RAW">ASCII_FOR_RAW</a></span><sup>* (non-greedy)</sup> <span class="grammar-literal">"</span> <br />
    | <span class="grammar-literal">#</span> <span class="grammar-text"><a href="tokens.html#grammar-RAW_BYTE_STRING_CONTENT">RAW_BYTE_STRING_CONTENT</a></span> <span class="grammar-literal">#</span></p>
<p><span class="grammar-text grammar-production" id="grammar-ASCII_FOR_RAW" onclick="show_railroad()"><a href="tokens.html#railroad-ASCII_FOR_RAW">ASCII_FOR_RAW</a></span> → <br />
    <span class="grammar-text">&lt;any ASCII (i.e. 0x00 to 0x7F) except CR&gt;</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 454px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_BYTE_STRING_LITERAL"><svg class="railroad" viewBox="0 0 454 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_BYTE_STRING_LITERAL">
<text class="comment" x="99" y="25">
RAW_BYTE_STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
br</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-RAW_BYTE_STRING_CONTENT">
<g class="nonterminal">
<rect height="22" width="212" x="81" y="55"/>
<text x="187" y="71">
RAW_BYTE_STRING_CONTENT</text>
</g>
</a>
<g class="optional">
<path d=" M 303 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="327" y="55"/>
<text x="361" y="71">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 293 66 h 10"/>
</g>
<path d=" M 429 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 419 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 406px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_BYTE_STRING_CONTENT"><svg class="railroad" viewBox="0 0 406 177" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_BYTE_STRING_CONTENT">
<text class="comment" x="99" y="25">
RAW_BYTE_STRING_CONTENT</text>
</a>
<g class="sequence">
<path d=" M 10 102 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 102 h 24 m 288 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="91"/>
<text x="73" y="107">
&quot;</text>
</g>
<g class="labeledbox">
<rect height="92" width="212" x="97" y="42"/>
<path d=" M 97 102 h 8 m 196 0 h 8"/>
<text class="comment" x="145" y="65">
non-greedy</text>
<g class="optional">
<path d=" M 105 102 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 148 m -71 0 l -5 -5 m 0 10 l 5 -5 m 71 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 129 102 h 12 m 124 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -124 m 65 0 l 5 -5 m 0 10 l -5 -5 m -65 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="tokens.html#railroad-ASCII_FOR_RAW">
<g class="nonterminal">
<rect height="22" width="124" x="141" y="91"/>
<text x="203" y="107">
ASCII_FOR_RAW</text>
</g>
</a>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="319" y="91"/>
<text x="333" y="107">
&quot;</text>
</g>
<path d=" M 87 102 h 10"/>
<path d=" M 309 102 h 10"/>
</g>
<path d=" M 35 102 a 12 12 0 0 1 12 12 v 30 m 312 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 144 v 0 a 12 12 0 0 0 12 12 m 288 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="145"/>
<text x="73" y="161">
#</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-RAW_BYTE_STRING_CONTENT">
<g class="nonterminal">
<rect height="22" width="212" x="97" y="145"/>
<text x="203" y="161">
RAW_BYTE_STRING_CONTENT</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="319" y="145"/>
<text x="333" y="161">
#</text>
</g>
<path d=" M 87 156 h 10"/>
<path d=" M 309 156 h 10"/>
</g>
</g>
<path d=" M 381 102 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 102 h 10"/>
<path d=" M 371 102 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 410px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ASCII_FOR_RAW"><svg class="railroad" viewBox="0 0 410 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-ASCII_FOR_RAW">
<text class="comment" x="60" y="25">
ASCII_FOR_RAW</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="340" x="35" y="42"/>
<text x="205" y="58">
any ASCII (i.e. 0x00 to 0x7F) except CR</text>
</g>
</g>
<path d=" M 385 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 375 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.str-byte-raw.intro"><a class="rule-link" href="tokens.html#r-lex.token.str-byte-raw.intro" title="lex.token.str-byte-raw.intro"><span>[lex<wbr>.token<wbr>.str-byte-raw<wbr>.intro]</span></a>
</div>
<p>Raw byte string literals do not process any escapes. They start with the
character <code>U+0062</code> (<code>b</code>), followed by <code>U+0072</code> (<code>r</code>), followed by fewer than 256
of the character <code>U+0023</code> (<code>#</code>), and a <code>U+0022</code> (double-quote) character.</p>
<div class="rule" id="r-lex.token.str-byte-raw.body"><a class="rule-link" href="tokens.html#r-lex.token.str-byte-raw.body" title="lex.token.str-byte-raw.body"><span>[lex<wbr>.token<wbr>.str-byte-raw<wbr>.body]</span></a>
</div>
<p>The <em>raw string body</em> can contain any sequence of ASCII characters other than <code>U+000D</code> (CR).
It is terminated only by another <code>U+0022</code> (double-quote) character, followed by the same number of <code>U+0023</code> (<code>#</code>) characters that preceded the opening <code>U+0022</code> (double-quote) character.
A raw byte string literal can not contain any non-ASCII byte.</p>
<div class="rule" id="r-lex.token.literal.str-byte-raw.content"><a class="rule-link" href="tokens.html#r-lex.token.literal.str-byte-raw.content" title="lex.token.literal.str-byte-raw.content"><span>[lex<wbr>.token<wbr>.literal<wbr>.str-byte-raw<wbr>.content]</span></a>
</div>
<p>All characters contained in the raw string body represent their ASCII encoding,
the characters <code>U+0022</code> (double-quote) (except when followed by at least as
many <code>U+0023</code> (<code>#</code>) characters as were used to start the raw string literal) or
<code>U+005C</code> (<code>\</code>) do not have any special meaning.</p>
<p>Examples for byte string literals:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>b"foo"; br"foo";                     // foo
b"\"foo\""; br#""foo""#;             // "foo"

b"foo #\"# bar";
br##"foo #"# bar"##;                 // foo #"# bar

b"\x52"; b"R"; br"R";                // R
b"\\x52"; br"\x52";                  // \x52
<span class="boring">}</span></code></pre></pre>
<h3 id="c-string-and-raw-c-string-literals"><a class="header" href="#c-string-and-raw-c-string-literals">C string and raw C string literals</a></h3>
<div class="rule" id="r-lex.token.str-c"><a class="rule-link" href="tokens.html#r-lex.token.str-c" title="lex.token.str-c"><span>[lex<wbr>.token<wbr>.str-c]</span></a>
</div>
<h4 id="c-string-literals"><a class="header" href="#c-string-literals">C string literals</a></h4>
<div class="rule" id="r-lex.token.str-c.syntax"><a class="rule-link" href="tokens.html#r-lex.token.str-c.syntax" title="lex.token.str-c.syntax"><span>[lex<wbr>.token<wbr>.str-c<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-C_STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-C_STRING_LITERAL">C_STRING_LITERAL</a></span> → <br />
    <span class="grammar-literal">c"</span> ( <br />
        ~[<span class="grammar-literal">"</span> <span class="grammar-literal">\</span> <a href="whitespace.html#grammar-CR">CR</a> <a href="input-format.html#grammar-NUL">NUL</a>] <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-BYTE_ESCAPE">BYTE_ESCAPE</a></span><sub class="grammar-text">except <code>\0</code> or <code>\x00</code></sub> <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-UNICODE_ESCAPE">UNICODE_ESCAPE</a></span><sub class="grammar-text">except <code>\u{0}</code>, <code>\u{00}</code>, …, <code>\u{000000}</code></sub> <br />
      | <span class="grammar-text"><a href="tokens.html#grammar-STRING_CONTINUE">STRING_CONTINUE</a></span> <br />
    )<sup>*</sup> <span class="grammar-literal">"</span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 727px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-C_STRING_LITERAL"><svg class="railroad" viewBox="0 0 727 458" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-C_STRING_LITERAL">
<text class="comment" x="71" y="25">
C_STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 234 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="223"/>
<text x="53" y="239">
c&quot;</text>
</g>
<g class="optional">
<path d=" M 81 234 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -168 m 0 87 l -5 5 m 10 0 l -5 -5 m 0 -87 a 12 12 0 0 1 12 -12 h 399 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 1 12 12 v 168 m 0 -81 l -5 -5 m 10 0 l -5 5 m 0 81 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 105 234 h 12 m 375 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 190 m 0 -92 l -5 -5 m 10 0 l -5 5 m 0 92 a 12 12 0 0 1 -12 12 m 0 0 h -375 m 190 0 l 5 -5 m 0 10 l -5 -5 m -190 0 a 12 12 0 0 1 -12 -12 v -190 m 0 98 l -5 5 m 10 0 l -5 -5 m 0 -98 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 117 234 h 24 m 201 0 h 150 m -72 0 l -5 -5 m 0 10 l 5 -5 m 72 0"/>
<g class="sequence">
<g class="labeledbox exceptbox">
<rect height="199" width="201" x="141" y="54"/>
<path d=" M 141 234 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="241" y="77">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 149 105 h 24 m 28 0 h 40"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="94"/>
<text x="187" y="110">
&quot;</text>
</g>
<path d=" M 149 105 a 12 12 0 0 1 12 12 v 9 m 68 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 161 126 v 33 m 68 0 v -33"/>
<path d=" M 161 159 v 33 m 68 0 v -33"/>
<path d=" M 161 126 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="127"/>
<text x="187" y="143">
\</text>
</g>
<path d=" M 161 159 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="173" y="160"/>
<text x="191" y="176">
CR</text>
</g>
</a>
<path d=" M 161 192 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="input-format.html#railroad-NUL">
<g class="nonterminal">
<rect height="22" width="44" x="173" y="193"/>
<text x="195" y="209">
NUL</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="149" y="223"/>
<text x="175" y="239">
CHAR</text>
</g>
</a>
</g>
</g>
<path d=" M 117 234 a 12 12 0 0 1 12 12 v 17 m 351 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 129 298 v 41 m 351 0 v -41"/>
<path d=" M 129 374 v 41 m 351 0 v -41"/>
<path d=" M 129 263 v 35 a 12 12 0 0 0 12 12 m 180 0 h 147 m -70 0 l -5 -5 m 0 10 l 5 -5 m 70 0 a 12 12 0 0 0 12 -12 v -35"/>
<g class="sequence">
<g class="labeledbox">
<rect height="66" width="180" x="141" y="263"/>
<path d=" M 141 310 h 8 m 108 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0"/>
<text class="comment" x="231" y="286">
except `\0` or `\x00`</text>
<a class="link" xlink:href="tokens.html#railroad-BYTE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="108" x="149" y="299"/>
<text x="203" y="315">
BYTE_ESCAPE</text>
</g>
</a>
</g>
</g>
<path d=" M 129 339 v 35 a 12 12 0 0 0 12 12 m 327 0 h 0 a 12 12 0 0 0 12 -12 v -35"/>
<g class="sequence">
<g class="labeledbox">
<rect height="66" width="327" x="141" y="339"/>
<path d=" M 141 386 h 8 m 132 0 h 187 m -90 0 l -5 -5 m 0 10 l 5 -5 m 90 0"/>
<text class="comment" x="304" y="362">
except `\u{0}`, `\u{00}`, …, `\u{000000}`</text>
<a class="link" xlink:href="tokens.html#railroad-UNICODE_ESCAPE">
<g class="nonterminal">
<rect height="22" width="132" x="149" y="375"/>
<text x="215" y="391">
UNICODE_ESCAPE</text>
</g>
</a>
</g>
</g>
<path d=" M 129 415 v 0 a 12 12 0 0 0 12 12 m 140 0 h 187 m -90 0 l -5 -5 m 0 10 l 5 -5 m 90 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-STRING_CONTINUE">
<g class="nonterminal">
<rect height="22" width="140" x="141" y="416"/>
<text x="211" y="432">
STRING_CONTINUE</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="538" y="223"/>
<text x="552" y="239">
&quot;</text>
</g>
<g class="optional">
<path d=" M 576 234 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="600" y="223"/>
<text x="634" y="239">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 71 234 h 10"/>
<path d=" M 528 234 h 10"/>
<path d=" M 566 234 h 10"/>
</g>
<path d=" M 702 234 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 234 h 10"/>
<path d=" M 692 234 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.str-c.intro"><a class="rule-link" href="tokens.html#r-lex.token.str-c.intro" title="lex.token.str-c.intro"><span>[lex<wbr>.token<wbr>.str-c<wbr>.intro]</span></a>
</div>
<p>A <em>C string literal</em> is a sequence of Unicode characters and <em>escapes</em>,
preceded by the characters <code>U+0063</code> (<code>c</code>) and <code>U+0022</code> (double-quote), and
followed by the character <code>U+0022</code>. If the character <code>U+0022</code> is present within
the literal, it must be <em>escaped</em> by a preceding <code>U+005C</code> (<code>\</code>) character.
Alternatively, a C string literal can be a <em>raw C string literal</em>, defined below.</p>
<div class="rule" id="r-lex.token.str-c.null"><a class="rule-link" href="tokens.html#r-lex.token.str-c.null" title="lex.token.str-c.null"><span>[lex<wbr>.token<wbr>.str-c<wbr>.null]</span></a>
</div>
<p>C strings are implicitly terminated by byte <code>0x00</code>, so the C string literal
<code>c""</code> is equivalent to manually constructing a <code>&amp;CStr</code> from the byte string
literal <code>b"\x00"</code>. Other than the implicit terminator, byte <code>0x00</code> is not
permitted within a C string.</p>
<div class="rule" id="r-lex.token.str-c.linefeed"><a class="rule-link" href="tokens.html#r-lex.token.str-c.linefeed" title="lex.token.str-c.linefeed"><span>[lex<wbr>.token<wbr>.str-c<wbr>.linefeed]</span></a>
</div>
<p>Line-breaks, represented by the  character <code>U+000A</code> (LF), are allowed in C string literals.
The character <code>U+000D</code> (CR) may not appear in a C string literal.
When an unescaped <code>U+005C</code> character (<code>\</code>) occurs immediately before a line break, the line break does not appear in the string represented by the token.
See <a href="expressions/literal-expr.html#string-continuation-escapes">String continuation escapes</a> for details.</p>
<div class="rule" id="r-lex.token.str-c.escape"><a class="rule-link" href="tokens.html#r-lex.token.str-c.escape" title="lex.token.str-c.escape"><span>[lex<wbr>.token<wbr>.str-c<wbr>.escape]</span></a>
</div>
<p>Some additional <em>escapes</em> are available in non-raw C string literals. An escape
starts with a <code>U+005C</code> (<code>\</code>) and continues with one of the following forms:</p>
<div class="rule" id="r-lex.token.str-c.escape-byte"><a class="rule-link" href="tokens.html#r-lex.token.str-c.escape-byte" title="lex.token.str-c.escape-byte"><span>[lex<wbr>.token<wbr>.str-c<wbr>.escape-byte]</span></a>
</div>
<ul>
<li>A <em>byte escape</em> escape starts with <code>U+0078</code> (<code>x</code>) and is followed by exactly
two <em>hex digits</em>. It denotes the byte equal to the provided hex value.</li>
</ul>
<div class="rule" id="r-lex.token.str-c.escape-unicode"><a class="rule-link" href="tokens.html#r-lex.token.str-c.escape-unicode" title="lex.token.str-c.escape-unicode"><span>[lex<wbr>.token<wbr>.str-c<wbr>.escape-unicode]</span></a>
</div>
<ul>
<li>A <em>24-bit code point escape</em> starts with <code>U+0075</code> (<code>u</code>) and is followed
by up to six <em>hex digits</em> surrounded by braces <code>U+007B</code> (<code>{</code>) and <code>U+007D</code>
(<code>}</code>). It denotes the Unicode code point equal to the provided hex value,
encoded as UTF-8.</li>
</ul>
<div class="rule" id="r-lex.token.str-c.escape-whitespace"><a class="rule-link" href="tokens.html#r-lex.token.str-c.escape-whitespace" title="lex.token.str-c.escape-whitespace"><span>[lex<wbr>.token<wbr>.str-c<wbr>.escape-whitespace]</span></a>
</div>
<ul>
<li>A <em>whitespace escape</em> is one of the characters <code>U+006E</code> (<code>n</code>), <code>U+0072</code>
(<code>r</code>), or <code>U+0074</code> (<code>t</code>), denoting the bytes values <code>0x0A</code> (ASCII LF),
<code>0x0D</code> (ASCII CR) or <code>0x09</code> (ASCII HT) respectively.</li>
</ul>
<div class="rule" id="r-lex.token.str-c.escape-slash"><a class="rule-link" href="tokens.html#r-lex.token.str-c.escape-slash" title="lex.token.str-c.escape-slash"><span>[lex<wbr>.token<wbr>.str-c<wbr>.escape-slash]</span></a>
</div>
<ul>
<li>The <em>backslash escape</em> is the character <code>U+005C</code> (<code>\</code>) which must be
escaped in order to denote its ASCII encoding <code>0x5C</code>.</li>
</ul>
<div class="rule" id="r-lex.token.str-c.char-unicode"><a class="rule-link" href="tokens.html#r-lex.token.str-c.char-unicode" title="lex.token.str-c.char-unicode"><span>[lex<wbr>.token<wbr>.str-c<wbr>.char-unicode]</span></a>
</div>
<p>A C string represents bytes with no defined encoding, but a C string literal
may contain Unicode characters above <code>U+007F</code>. Such characters will be replaced
with the bytes of that character’s UTF-8 representation.</p>
<p>The following C string literals are equivalent:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>c"æ";        // LATIN SMALL LETTER AE (U+00E6)
c"\u{00E6}";
c"\xC3\xA6";
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.str-c.edition2021"><a class="rule-link" href="tokens.html#r-lex.token.str-c.edition2021" title="lex.token.str-c.edition2021"><span>[lex<wbr>.token<wbr>.str-c<wbr>.edition2021]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>
<p>C string literals are accepted in the 2021 edition or later. In earlier editions the token <code>c""</code> is lexed as <code>c ""</code>.</p>
</blockquote>
</div>
<div class="rule" id="r-lex.token.str-c-raw"><a class="rule-link" href="tokens.html#r-lex.token.str-c-raw" title="lex.token.str-c-raw"><span>[lex<wbr>.token<wbr>.str-c-raw]</span></a>
</div>
<h4 id="raw-c-string-literals"><a class="header" href="#raw-c-string-literals">Raw C string literals</a></h4>
<div class="rule" id="r-lex.token.str-c-raw.syntax"><a class="rule-link" href="tokens.html#r-lex.token.str-c-raw.syntax" title="lex.token.str-c-raw.syntax"><span>[lex<wbr>.token<wbr>.str-c-raw<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RAW_C_STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_C_STRING_LITERAL">RAW_C_STRING_LITERAL</a></span> → <br />
    <span class="grammar-literal">cr</span> <span class="grammar-text"><a href="tokens.html#grammar-RAW_C_STRING_CONTENT">RAW_C_STRING_CONTENT</a></span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-RAW_C_STRING_CONTENT" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_C_STRING_CONTENT">RAW_C_STRING_CONTENT</a></span> → <br />
      <span class="grammar-literal">"</span> ( ~[<a href="whitespace.html#grammar-CR">CR</a> <a href="input-format.html#grammar-NUL">NUL</a>] )<sup>* (non-greedy)</sup> <span class="grammar-literal">"</span> <br />
    | <span class="grammar-literal">#</span> <span class="grammar-text"><a href="tokens.html#grammar-RAW_C_STRING_CONTENT">RAW_C_STRING_CONTENT</a></span> <span class="grammar-literal">#</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 430px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_C_STRING_LITERAL"><svg class="railroad" viewBox="0 0 430 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_C_STRING_LITERAL">
<text class="comment" x="88" y="25">
RAW_C_STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
cr</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-RAW_C_STRING_CONTENT">
<g class="nonterminal">
<rect height="22" width="188" x="81" y="55"/>
<text x="175" y="71">
RAW_C_STRING_CONTENT</text>
</g>
</a>
<g class="optional">
<path d=" M 279 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="303" y="55"/>
<text x="337" y="71">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 269 66 h 10"/>
</g>
<path d=" M 405 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 395 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 483px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_C_STRING_CONTENT"><svg class="railroad" viewBox="0 0 483 284" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_C_STRING_CONTENT">
<text class="comment" x="88" y="25">
RAW_C_STRING_CONTENT</text>
</a>
<g class="sequence">
<path d=" M 10 204 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 204 h 24 m 365 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="193"/>
<text x="73" y="209">
&quot;</text>
</g>
<g class="labeledbox">
<rect height="199" width="289" x="97" y="42"/>
<path d=" M 97 204 h 8 m 273 0 h 8"/>
<text class="comment" x="145" y="65">
non-greedy</text>
<g class="optional">
<path d=" M 105 204 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -102 m 0 54 l -5 5 m 10 0 l -5 -5 m 0 -54 a 12 12 0 0 1 12 -12 h 225 m -109 0 l -5 -5 m 0 10 l 5 -5 m 109 0 a 12 12 0 0 1 12 12 v 102 m 0 -48 l -5 -5 m 10 0 l -5 5 m 0 48 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 129 204 h 12 m 201 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -201 m 103 0 l 5 -5 m 0 10 l -5 -5 m -103 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="labeledbox exceptbox">
<rect height="133" width="201" x="141" y="90"/>
<path d=" M 141 204 h 8 m 52 0 h 141 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<g class="verticalgrid">
<text class="comment" x="241" y="113">
⚠️ with the exception of</text>
<g class="choice">
<path d=" M 149 141 h 24 m 36 0 h 32"/>
<a class="link" xlink:href="whitespace.html#railroad-CR">
<g class="nonterminal">
<rect height="22" width="36" x="173" y="130"/>
<text x="191" y="146">
CR</text>
</g>
</a>
<path d=" M 149 141 a 12 12 0 0 1 12 12 v 9 m 68 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 161 162 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="input-format.html#railroad-NUL">
<g class="nonterminal">
<rect height="22" width="44" x="173" y="163"/>
<text x="195" y="179">
NUL</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="input-format.html#railroad-CHAR">
<g class="nonterminal">
<rect height="22" width="52" x="149" y="193"/>
<text x="175" y="209">
CHAR</text>
</g>
</a>
</g>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="396" y="193"/>
<text x="410" y="209">
&quot;</text>
</g>
<path d=" M 87 204 h 10"/>
<path d=" M 386 204 h 10"/>
</g>
<path d=" M 35 204 a 12 12 0 0 1 12 12 v 35 m 389 0 v -35 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 251 v 0 a 12 12 0 0 0 12 12 m 264 0 h 101 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="252"/>
<text x="73" y="268">
#</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-RAW_C_STRING_CONTENT">
<g class="nonterminal">
<rect height="22" width="188" x="97" y="252"/>
<text x="191" y="268">
RAW_C_STRING_CONTENT</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="295" y="252"/>
<text x="309" y="268">
#</text>
</g>
<path d=" M 87 263 h 10"/>
<path d=" M 285 263 h 10"/>
</g>
</g>
<path d=" M 458 204 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 204 h 10"/>
<path d=" M 448 204 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.str-c-raw.intro"><a class="rule-link" href="tokens.html#r-lex.token.str-c-raw.intro" title="lex.token.str-c-raw.intro"><span>[lex<wbr>.token<wbr>.str-c-raw<wbr>.intro]</span></a>
</div>
<p>Raw C string literals do not process any escapes. They start with the
character <code>U+0063</code> (<code>c</code>), followed by <code>U+0072</code> (<code>r</code>), followed by fewer than 256
of the character <code>U+0023</code> (<code>#</code>), and a <code>U+0022</code> (double-quote) character.</p>
<div class="rule" id="r-lex.token.str-c-raw.body"><a class="rule-link" href="tokens.html#r-lex.token.str-c-raw.body" title="lex.token.str-c-raw.body"><span>[lex<wbr>.token<wbr>.str-c-raw<wbr>.body]</span></a>
</div>
<p>The <em>raw C string body</em> can contain any sequence of Unicode characters other than <code>U+0000</code> (NUL) and <code>U+000D</code> (CR).
It is terminated only by another <code>U+0022</code> (double-quote) character, followed by the same number of <code>U+0023</code> (<code>#</code>) characters that preceded the opening <code>U+0022</code> (double-quote) character.</p>
<div class="rule" id="r-lex.token.str-c-raw.content"><a class="rule-link" href="tokens.html#r-lex.token.str-c-raw.content" title="lex.token.str-c-raw.content"><span>[lex<wbr>.token<wbr>.str-c-raw<wbr>.content]</span></a>
</div>
<p>All characters contained in the raw C string body represent themselves in UTF-8
encoding. The characters <code>U+0022</code> (double-quote) (except when followed by at
least as many <code>U+0023</code> (<code>#</code>) characters as were used to start the raw C string
literal) or <code>U+005C</code> (<code>\</code>) do not have any special meaning.</p>
<div class="rule" id="r-lex.token.str-c-raw.edition2021"><a class="rule-link" href="tokens.html#r-lex.token.str-c-raw.edition2021" title="lex.token.str-c-raw.edition2021"><span>[lex<wbr>.token<wbr>.str-c-raw<wbr>.edition2021]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>
<p>Raw C string literals are accepted in the 2021 edition or later. In earlier editions the token <code>cr""</code> is lexed as <code>cr ""</code>, and <code>cr#""#</code> is lexed as <code>cr #""#</code> (which is non-grammatical).</p>
</blockquote>
</div>
<h4 id="examples-for-c-string-and-raw-c-string-literals"><a class="header" href="#examples-for-c-string-and-raw-c-string-literals">Examples for C string and raw C string literals</a></h4>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>c"foo"; cr"foo";                     // foo
c"\"foo\""; cr#""foo""#;             // "foo"

c"foo #\"# bar";
cr##"foo #"# bar"##;                 // foo #"# bar

c"\x52"; c"R"; cr"R";                // R
c"\\x52"; cr"\x52";                  // \x52
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.literal.num"><a class="rule-link" href="tokens.html#r-lex.token.literal.num" title="lex.token.literal.num"><span>[lex<wbr>.token<wbr>.literal<wbr>.num]</span></a>
</div>
<h3 id="number-literals"><a class="header" href="#number-literals">Number literals</a></h3>
<p>A <em>number literal</em> is either an <em>integer literal</em> or a <em>floating-point
literal</em>. The grammar for recognizing the two kinds of literals is mixed.</p>
<div class="rule" id="r-lex.token.literal.int"><a class="rule-link" href="tokens.html#r-lex.token.literal.int" title="lex.token.literal.int"><span>[lex<wbr>.token<wbr>.literal<wbr>.int]</span></a>
</div>
<h4 id="integer-literals"><a class="header" href="#integer-literals">Integer literals</a></h4>
<div class="rule" id="r-lex.token.literal.int.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.syntax" title="lex.token.literal.int.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-INTEGER_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-INTEGER_LITERAL">INTEGER_LITERAL</a></span> → <br />
    ( <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-BIN_LITERAL">BIN_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-OCT_LITERAL">OCT_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-HEX_LITERAL">HEX_LITERAL</a></span> ) <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX_NO_E">SUFFIX_NO_E</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-DEC_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-DEC_LITERAL">DEC_LITERAL</a></span> → <span class="grammar-text"><a href="tokens.html#grammar-DEC_DIGIT">DEC_DIGIT</a></span> ( <span class="grammar-text"><a href="tokens.html#grammar-DEC_DIGIT">DEC_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-BIN_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-BIN_LITERAL">BIN_LITERAL</a></span> → <span class="grammar-literal">0b</span> ( <span class="grammar-text"><a href="tokens.html#grammar-BIN_DIGIT">BIN_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup> <span class="grammar-text"><a href="tokens.html#grammar-BIN_DIGIT">BIN_DIGIT</a></span> ( <span class="grammar-text"><a href="tokens.html#grammar-BIN_DIGIT">BIN_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-OCT_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-OCT_LITERAL">OCT_LITERAL</a></span> → <span class="grammar-literal">0o</span> ( <span class="grammar-text"><a href="tokens.html#grammar-OCT_DIGIT">OCT_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup> <span class="grammar-text"><a href="tokens.html#grammar-OCT_DIGIT">OCT_DIGIT</a></span> ( <span class="grammar-text"><a href="tokens.html#grammar-OCT_DIGIT">OCT_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-HEX_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-HEX_LITERAL">HEX_LITERAL</a></span> → <span class="grammar-literal">0x</span> ( <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup> <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> ( <span class="grammar-text"><a href="tokens.html#grammar-HEX_DIGIT">HEX_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-BIN_DIGIT" onclick="show_railroad()"><a href="tokens.html#railroad-BIN_DIGIT">BIN_DIGIT</a></span> → [<span class="grammar-literal">0</span>-<span class="grammar-literal">1</span>]</p>
<p><span class="grammar-text grammar-production" id="grammar-OCT_DIGIT" onclick="show_railroad()"><a href="tokens.html#railroad-OCT_DIGIT">OCT_DIGIT</a></span> → [<span class="grammar-literal">0</span>-<span class="grammar-literal">7</span>]</p>
<p><span class="grammar-text grammar-production" id="grammar-DEC_DIGIT" onclick="show_railroad()"><a href="tokens.html#railroad-DEC_DIGIT">DEC_DIGIT</a></span> → [<span class="grammar-literal">0</span>-<span class="grammar-literal">9</span>]</p>
<p><span class="grammar-text grammar-production" id="grammar-HEX_DIGIT" onclick="show_railroad()"><a href="tokens.html#railroad-HEX_DIGIT">HEX_DIGIT</a></span> → [<span class="grammar-literal">0</span>-<span class="grammar-literal">9</span> <span class="grammar-literal">a</span>-<span class="grammar-literal">f</span> <span class="grammar-literal">A</span>-<span class="grammar-literal">F</span>]</p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 392px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-INTEGER_LITERAL"><svg class="railroad" viewBox="0 0 392 186" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-INTEGER_LITERAL">
<text class="comment" x="67" y="25">
INTEGER_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="choice">
<path d=" M 35 66 h 24 m 108 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="55"/>
<text x="113" y="71">
DEC_LITERAL</text>
</g>
</a>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 9 m 132 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 87 v 33 m 132 0 v -33"/>
<path d=" M 47 120 v 33 m 132 0 v -33"/>
<path d=" M 47 87 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-BIN_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="88"/>
<text x="113" y="104">
BIN_LITERAL</text>
</g>
</a>
<path d=" M 47 120 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-OCT_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="121"/>
<text x="113" y="137">
OCT_LITERAL</text>
</g>
</a>
<path d=" M 47 153 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-HEX_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="154"/>
<text x="113" y="170">
HEX_LITERAL</text>
</g>
</a>
</g>
<g class="optional">
<path d=" M 201 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX_NO_E">
<g class="nonterminal">
<rect height="22" width="108" x="225" y="55"/>
<text x="279" y="71">
SUFFIX_NO_E</text>
</g>
</a>
</g>
<path d=" M 191 66 h 10"/>
</g>
<path d=" M 367 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 357 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 384px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DEC_LITERAL"><svg class="railroad" viewBox="0 0 384 130" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-DEC_LITERAL">
<text class="comment" x="53" y="25">
DEC_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-DEC_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="35" y="55"/>
<text x="81" y="71">
DEC_DIGIT</text>
</g>
</a>
<g class="optional">
<path d=" M 137 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 161 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 173 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-DEC_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="197" y="55"/>
<text x="243" y="71">
DEC_DIGIT</text>
</g>
</a>
<path d=" M 173 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 185 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="88"/>
<text x="211" y="104">
_</text>
</g>
</g>
</g>
</g>
<path d=" M 127 66 h 10"/>
</g>
<path d=" M 359 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 349 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 652px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BIN_LITERAL"><svg class="railroad" viewBox="0 0 652 130" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-BIN_LITERAL">
<text class="comment" x="53" y="25">
BIN_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
0b</text>
</g>
<g class="optional">
<path d=" M 81 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 105 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 117 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-BIN_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="141" y="55"/>
<text x="187" y="71">
BIN_DIGIT</text>
</g>
</a>
<path d=" M 117 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 129 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="88"/>
<text x="155" y="104">
_</text>
</g>
</g>
</g>
</g>
<a class="link" xlink:href="tokens.html#railroad-BIN_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="303" y="55"/>
<text x="349" y="71">
BIN_DIGIT</text>
</g>
</a>
<g class="optional">
<path d=" M 405 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 429 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 441 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-BIN_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="465" y="55"/>
<text x="511" y="71">
BIN_DIGIT</text>
</g>
</a>
<path d=" M 441 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 453 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="465" y="88"/>
<text x="479" y="104">
_</text>
</g>
</g>
</g>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 293 66 h 10"/>
<path d=" M 395 66 h 10"/>
</g>
<path d=" M 627 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 617 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 652px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-OCT_LITERAL"><svg class="railroad" viewBox="0 0 652 130" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-OCT_LITERAL">
<text class="comment" x="53" y="25">
OCT_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
0o</text>
</g>
<g class="optional">
<path d=" M 81 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 105 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 117 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-OCT_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="141" y="55"/>
<text x="187" y="71">
OCT_DIGIT</text>
</g>
</a>
<path d=" M 117 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 129 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="88"/>
<text x="155" y="104">
_</text>
</g>
</g>
</g>
</g>
<a class="link" xlink:href="tokens.html#railroad-OCT_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="303" y="55"/>
<text x="349" y="71">
OCT_DIGIT</text>
</g>
</a>
<g class="optional">
<path d=" M 405 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 429 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 441 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-OCT_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="465" y="55"/>
<text x="511" y="71">
OCT_DIGIT</text>
</g>
</a>
<path d=" M 441 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 453 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="465" y="88"/>
<text x="479" y="104">
_</text>
</g>
</g>
</g>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 293 66 h 10"/>
<path d=" M 395 66 h 10"/>
</g>
<path d=" M 627 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 617 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 652px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-HEX_LITERAL"><svg class="railroad" viewBox="0 0 652 130" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-HEX_LITERAL">
<text class="comment" x="53" y="25">
HEX_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="55"/>
<text x="53" y="71">
0x</text>
</g>
<g class="optional">
<path d=" M 81 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 105 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 117 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="141" y="55"/>
<text x="187" y="71">
HEX_DIGIT</text>
</g>
</a>
<path d=" M 117 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 129 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="88"/>
<text x="155" y="104">
_</text>
</g>
</g>
</g>
</g>
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="303" y="55"/>
<text x="349" y="71">
HEX_DIGIT</text>
</g>
</a>
<g class="optional">
<path d=" M 405 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 429 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 441 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-HEX_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="465" y="55"/>
<text x="511" y="71">
HEX_DIGIT</text>
</g>
</a>
<path d=" M 441 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 453 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="465" y="88"/>
<text x="479" y="104">
_</text>
</g>
</g>
</g>
</g>
<path d=" M 71 66 h 10"/>
<path d=" M 293 66 h 10"/>
<path d=" M 395 66 h 10"/>
</g>
<path d=" M 627 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 617 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 114px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-BIN_DIGIT"><svg class="railroad" viewBox="0 0 114 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-BIN_DIGIT">
<text class="comment" x="46" y="25">
BIN_DIGIT</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 0 m 44 0 h 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42"/>
<text x="57" y="58">
0-1</text>
</g>
</g>
<path d=" M 89 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 79 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 114px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-OCT_DIGIT"><svg class="railroad" viewBox="0 0 114 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-OCT_DIGIT">
<text class="comment" x="46" y="25">
OCT_DIGIT</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 0 m 44 0 h 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42"/>
<text x="57" y="58">
0-7</text>
</g>
</g>
<path d=" M 89 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 79 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 114px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DEC_DIGIT"><svg class="railroad" viewBox="0 0 114 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-DEC_DIGIT">
<text class="comment" x="46" y="25">
DEC_DIGIT</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 0 m 44 0 h 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42"/>
<text x="57" y="58">
0-9</text>
</g>
</g>
<path d=" M 89 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 79 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 162px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-HEX_DIGIT"><svg class="railroad" viewBox="0 0 162 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-HEX_DIGIT">
<text class="comment" x="46" y="25">
HEX_DIGIT</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 44 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="42"/>
<text x="81" y="58">
0-9</text>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 68 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 68 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="75"/>
<text x="81" y="91">
a-f</text>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="108"/>
<text x="81" y="124">
A-F</text>
</g>
</g>
<path d=" M 137 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 127 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.int.kind"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.kind" title="lex.token.literal.int.kind"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.kind]</span></a>
</div>
<p>An <em>integer literal</em> has one of four forms:</p>
<div class="rule" id="r-lex.token.literal.int.kind-dec"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.kind-dec" title="lex.token.literal.int.kind-dec"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.kind-dec]</span></a>
</div>
<ul>
<li>A <em>decimal literal</em> starts with a <em>decimal digit</em> and continues with any
mixture of <em>decimal digits</em> and <em>underscores</em>.</li>
</ul>
<div class="rule" id="r-lex.token.literal.int.kind-hex"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.kind-hex" title="lex.token.literal.int.kind-hex"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.kind-hex]</span></a>
</div>
<ul>
<li>A <em>hex literal</em> starts with the character sequence <code>U+0030</code> <code>U+0078</code>
(<code>0x</code>) and continues as any mixture (with at least one digit) of hex digits
and underscores.</li>
</ul>
<div class="rule" id="r-lex.token.literal.int.kind-oct"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.kind-oct" title="lex.token.literal.int.kind-oct"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.kind-oct]</span></a>
</div>
<ul>
<li>An <em>octal literal</em> starts with the character sequence <code>U+0030</code> <code>U+006F</code>
(<code>0o</code>) and continues as any mixture (with at least one digit) of octal digits
and underscores.</li>
</ul>
<div class="rule" id="r-lex.token.literal.int.kind-bin"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.kind-bin" title="lex.token.literal.int.kind-bin"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.kind-bin]</span></a>
</div>
<ul>
<li>A <em>binary literal</em> starts with the character sequence <code>U+0030</code> <code>U+0062</code>
(<code>0b</code>) and continues as any mixture (with at least one digit) of binary digits
and underscores.</li>
</ul>
<div class="rule" id="r-lex.token.literal.int.restriction"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.restriction" title="lex.token.literal.int.restriction"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.restriction]</span></a>
</div>
<p>Like any literal, an integer literal may be followed (immediately, without any spaces) by a suffix as described above.
The suffix may not begin with <code>e</code> or <code>E</code>, as that would be interpreted as the exponent of a floating-point literal.
See <a href="expressions/literal-expr.html#integer-literal-expressions">Integer literal expressions</a> for the effect of these suffixes.</p>
<p>Examples of integer literals which are accepted as literal expressions:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#![allow(overflowing_literals)]
</span>123;
123i32;
123u32;
123_u32;

0xff;
0xff_u8;
0x01_f32; // integer 7986, not floating-point 1.0
0x01_e3;  // integer 483, not floating-point 1000.0

0o70;
0o70_i16;

0b1111_1111_1001_0000;
0b1111_1111_1001_0000i64;
0b________1;

0usize;

// These are too big for their type, but are accepted as literal expressions.
128_i8;
256_u8;

// This is an integer literal, accepted as a floating-point literal expression.
5f32;
<span class="boring">}</span></code></pre></pre>
<p>Note that <code>-1i8</code>, for example, is analyzed as two tokens: <code>-</code> followed by <code>1i8</code>.</p>
<p>Examples of integer literals which are not accepted as literal expressions:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(false)] {
</span>0invalidSuffix;
123AFB43;
0b010a;
0xAB_CD_EF_GH;
0b1111_f32;
<span class="boring">}
</span><span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.literal.int.tuple-field"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.tuple-field" title="lex.token.literal.int.tuple-field"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.tuple-field]</span></a>
</div>
<h4 id="tuple-index"><a class="header" href="#tuple-index">Tuple index</a></h4>
<div class="rule" id="r-lex.token.literal.int.tuple-field.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.tuple-field.syntax" title="lex.token.literal.int.tuple-field.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.tuple-field<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-TUPLE_INDEX" onclick="show_railroad()"><a href="tokens.html#railroad-TUPLE_INDEX">TUPLE_INDEX</a></span> → <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-BIN_LITERAL">BIN_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-OCT_LITERAL">OCT_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-HEX_LITERAL">HEX_LITERAL</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 226px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TUPLE_INDEX"><svg class="railroad" viewBox="0 0 226 173" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-TUPLE_INDEX">
<text class="comment" x="53" y="25">
TUPLE_INDEX</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 108 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="42"/>
<text x="113" y="58">
DEC_LITERAL</text>
</g>
</a>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 132 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 132 0 v -33"/>
<path d=" M 47 107 v 33 m 132 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-BIN_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="75"/>
<text x="113" y="91">
BIN_LITERAL</text>
</g>
</a>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-OCT_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="108"/>
<text x="113" y="124">
OCT_LITERAL</text>
</g>
</a>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-HEX_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="141"/>
<text x="113" y="157">
HEX_LITERAL</text>
</g>
</a>
</g>
<path d=" M 201 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 191 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.int.tuple-field.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.tuple-field.intro" title="lex.token.literal.int.tuple-field.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.tuple-field<wbr>.intro]</span></a>
</div>
<p>A tuple index is used to refer to the fields of <a href="types/tuple.html">tuples</a>, <a href="items/structs.html">tuple structs</a>, and <a href="items/enumerations.html">tuple enum variants</a>.</p>
<div class="rule" id="r-lex.token.literal.int.tuple-field.eq"><a class="rule-link" href="tokens.html#r-lex.token.literal.int.tuple-field.eq" title="lex.token.literal.int.tuple-field.eq"><span>[lex<wbr>.token<wbr>.literal<wbr>.int<wbr>.tuple-field<wbr>.eq]</span></a>
</div>
<p>Tuple indices are compared with the literal token directly. Tuple indices
start with <code>0</code> and each successive index increments the value by <code>1</code> as a
decimal value. Thus, only decimal values will match, and the value must not
have any extra <code>0</code> prefix characters.</p>
<p>Tuple indices may not include any suffixes (such as <code>usize</code>).</p>
<pre><pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let example = ("dog", "cat", "horse");
let dog = example.0;
let cat = example.1;
// The following examples are invalid.
let cat = example.01;  // ERROR no field named `01`
let horse = example.0b10;  // ERROR no field named `0b10`
let unicorn = example.0usize; // ERROR suffixes on a tuple index are invalid
let underscore = example.0_0; // ERROR no field `0_0` on type `(&amp;str, &amp;str, &amp;str)`
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.literal.float"><a class="rule-link" href="tokens.html#r-lex.token.literal.float" title="lex.token.literal.float"><span>[lex<wbr>.token<wbr>.literal<wbr>.float]</span></a>
</div>
<h4 id="floating-point-literals"><a class="header" href="#floating-point-literals">Floating-point literals</a></h4>
<div class="rule" id="r-lex.token.literal.float.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.float.syntax" title="lex.token.literal.float.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.float<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-FLOAT_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-FLOAT_LITERAL">FLOAT_LITERAL</a></span> → <br />
      <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> <span class="grammar-literal">.</span><sub class="grammar-text">not immediately followed by <code>.</code>, <code>_</code> or an XID_Start character</sub> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> <span class="grammar-literal">.</span> <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX_NO_E">SUFFIX_NO_E</a></span><sup>?</sup> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> ( <span class="grammar-literal">.</span> <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> )<sup>?</sup> <span class="grammar-text"><a href="tokens.html#grammar-FLOAT_EXPONENT">FLOAT_EXPONENT</a></span> <span class="grammar-text"><a href="tokens.html#grammar-SUFFIX">SUFFIX</a></span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-FLOAT_EXPONENT" onclick="show_railroad()"><a href="tokens.html#railroad-FLOAT_EXPONENT">FLOAT_EXPONENT</a></span> → <br />
    ( <span class="grammar-literal">e</span> | <span class="grammar-literal">E</span> ) ( <span class="grammar-literal">+</span> | <span class="grammar-literal">-</span> )<sup>?</sup> ( <span class="grammar-text"><a href="tokens.html#grammar-DEC_DIGIT">DEC_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup> <span class="grammar-text"><a href="tokens.html#grammar-DEC_DIGIT">DEC_DIGIT</a></span> ( <span class="grammar-text"><a href="tokens.html#grammar-DEC_DIGIT">DEC_DIGIT</a></span> | <span class="grammar-literal">_</span> )<sup>*</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 717px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FLOAT_LITERAL"><svg class="railroad" viewBox="0 0 717 208" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-FLOAT_LITERAL">
<text class="comment" x="60" y="25">
FLOAT_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 89 h 24 m 599 0 h 24"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="78"/>
<text x="113" y="94">
DEC_LITERAL</text>
</g>
</a>
<g class="labeledbox">
<rect height="66" width="481" x="177" y="42"/>
<path d=" M 177 89 h 8 m 28 0 h 445 m -219 0 l -5 -5 m 0 10 l 5 -5 m 219 0"/>
<text class="comment" x="417" y="65">
not immediately followed by `.`, `_` or an XID_Start character</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="185" y="78"/>
<text x="199" y="94">
.</text>
</g>
</g>
<path d=" M 167 89 h 10"/>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 623 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 130 v 33 m 623 0 v -33"/>
<path d=" M 47 118 v 12 a 12 12 0 0 0 12 12 m 430 0 h 169 m -81 0 l -5 -5 m 0 10 l 5 -5 m 81 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="131"/>
<text x="113" y="147">
DEC_LITERAL</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="177" y="131"/>
<text x="191" y="147">
.</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="215" y="131"/>
<text x="269" y="147">
DEC_LITERAL</text>
</g>
</a>
<g class="optional">
<path d=" M 333 142 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX_NO_E">
<g class="nonterminal">
<rect height="22" width="108" x="357" y="131"/>
<text x="411" y="147">
SUFFIX_NO_E</text>
</g>
</a>
</g>
<path d=" M 167 142 h 10"/>
<path d=" M 205 142 h 10"/>
<path d=" M 323 142 h 10"/>
</g>
<path d=" M 47 163 v 12 a 12 12 0 0 0 12 12 m 580 0 h 19 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="176"/>
<text x="113" y="192">
DEC_LITERAL</text>
</g>
</a>
<g class="optional">
<path d=" M 177 187 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 146 m -70 0 l -5 -5 m 0 10 l 5 -5 m 70 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="201" y="176"/>
<text x="215" y="192">
.</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="239" y="176"/>
<text x="293" y="192">
DEC_LITERAL</text>
</g>
</a>
<path d=" M 229 187 h 10"/>
</g>
</g>
<a class="link" xlink:href="tokens.html#railroad-FLOAT_EXPONENT">
<g class="nonterminal">
<rect height="22" width="132" x="381" y="176"/>
<text x="447" y="192">
FLOAT_EXPONENT</text>
</g>
</a>
<g class="optional">
<path d=" M 523 187 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 68 m -31 0 l -5 -5 m 0 10 l 5 -5 m 31 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="tokens.html#railroad-SUFFIX">
<g class="nonterminal">
<rect height="22" width="68" x="547" y="176"/>
<text x="581" y="192">
SUFFIX</text>
</g>
</a>
</g>
<path d=" M 167 187 h 10"/>
<path d=" M 371 187 h 10"/>
<path d=" M 513 187 h 10"/>
</g>
</g>
<path d=" M 692 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 682 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 826px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FLOAT_EXPONENT"><svg class="railroad" viewBox="0 0 826 130" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-FLOAT_EXPONENT">
<text class="comment" x="64" y="25">
FLOAT_EXPONENT</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="choice">
<path d=" M 35 66 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55"/>
<text x="73" y="71">
e</text>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="88"/>
<text x="73" y="104">
E</text>
</g>
</g>
<g class="optional">
<path d=" M 121 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="choice">
<path d=" M 145 66 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="55"/>
<text x="183" y="71">
+</text>
</g>
<path d=" M 145 66 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 157 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="88"/>
<text x="183" y="104">
-</text>
</g>
</g>
</g>
<g class="optional">
<path d=" M 255 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 279 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 291 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-DEC_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="315" y="55"/>
<text x="361" y="71">
DEC_DIGIT</text>
</g>
</a>
<path d=" M 291 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 303 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="315" y="88"/>
<text x="329" y="104">
_</text>
</g>
</g>
</g>
</g>
<a class="link" xlink:href="tokens.html#railroad-DEC_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="477" y="55"/>
<text x="523" y="71">
DEC_DIGIT</text>
</g>
</a>
<g class="optional">
<path d=" M 579 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 603 66 h 12 m 140 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 30 a 12 12 0 0 1 -12 12 m 0 0 h -140 m 73 0 l 5 -5 m 0 10 l -5 -5 m -73 0 a 12 12 0 0 1 -12 -12 v -30 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="choice">
<path d=" M 615 66 h 24 m 92 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-DEC_DIGIT">
<g class="nonterminal">
<rect height="22" width="92" x="639" y="55"/>
<text x="685" y="71">
DEC_DIGIT</text>
</g>
</a>
<path d=" M 615 66 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 627 87 v 0 a 12 12 0 0 0 12 12 m 28 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="639" y="88"/>
<text x="653" y="104">
_</text>
</g>
</g>
</g>
</g>
<path d=" M 111 66 h 10"/>
<path d=" M 245 66 h 10"/>
<path d=" M 467 66 h 10"/>
<path d=" M 569 66 h 10"/>
</g>
<path d=" M 801 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 791 66 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.float.form"><a class="rule-link" href="tokens.html#r-lex.token.literal.float.form" title="lex.token.literal.float.form"><span>[lex<wbr>.token<wbr>.literal<wbr>.float<wbr>.form]</span></a>
</div>
<p>A <em>floating-point literal</em> has one of two forms:</p>
<ul>
<li>A <em>decimal literal</em> followed by a period character <code>U+002E</code> (<code>.</code>). This is
optionally followed by another decimal literal, with an optional <em>exponent</em>.</li>
<li>A single <em>decimal literal</em> followed by an <em>exponent</em>.</li>
</ul>
<div class="rule" id="r-lex.token.literal.float.suffix"><a class="rule-link" href="tokens.html#r-lex.token.literal.float.suffix" title="lex.token.literal.float.suffix"><span>[lex<wbr>.token<wbr>.literal<wbr>.float<wbr>.suffix]</span></a>
</div>
<p>Like integer literals, a floating-point literal may be followed by a
suffix, so long as the pre-suffix part does not end with <code>U+002E</code> (<code>.</code>).
The suffix may not begin with <code>e</code> or <code>E</code> if the literal does not include an exponent.
See <a href="expressions/literal-expr.html#floating-point-literal-expressions">Floating-point literal expressions</a> for the effect of these suffixes.</p>
<p>Examples of floating-point literals which are accepted as literal expressions:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>123.0f64;
0.1f64;
0.1f32;
12E+99_f64;
let x: f64 = 2.;
<span class="boring">}</span></code></pre></pre>
<p>This last example is different because it is not possible to use the suffix
syntax with a floating point literal end.token.ing in a period. <code>2.f64</code> would attempt
to call a method named <code>f64</code> on <code>2</code>.</p>
<p>Note that <code>-1.0</code>, for example, is analyzed as two tokens: <code>-</code> followed by <code>1.0</code>.</p>
<p>Examples of floating-point literals which are not accepted as literal expressions:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(false)] {
</span>2.0f80;
2e5f80;
2e5e6;
2.0e5e6;
1.3e10u64;
<span class="boring">}
</span><span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.literal.reserved"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved" title="lex.token.literal.reserved"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved]</span></a>
</div>
<h4 id="reserved-forms-similar-to-number-literals"><a class="header" href="#reserved-forms-similar-to-number-literals">Reserved forms similar to number literals</a></h4>
<div class="rule" id="r-lex.token.literal.reserved.syntax"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.syntax" title="lex.token.literal.reserved.syntax"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RESERVED_NUMBER" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_NUMBER">RESERVED_NUMBER</a></span> → <br />
      <span class="grammar-text"><a href="tokens.html#grammar-BIN_LITERAL">BIN_LITERAL</a></span> [<span class="grammar-literal">2</span>-<span class="grammar-literal">9</span>] <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-OCT_LITERAL">OCT_LITERAL</a></span> [<span class="grammar-literal">8</span>-<span class="grammar-literal">9</span>] <br />
    | ( <span class="grammar-text"><a href="tokens.html#grammar-BIN_LITERAL">BIN_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-OCT_LITERAL">OCT_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-HEX_LITERAL">HEX_LITERAL</a></span> ) <span class="grammar-literal">.</span><sub class="grammar-text">not immediately followed by <code>.</code>, <code>_</code> or an XID_Start character</sub> <br />
    | ( <span class="grammar-text"><a href="tokens.html#grammar-BIN_LITERAL">BIN_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-OCT_LITERAL">OCT_LITERAL</a></span> ) ( <span class="grammar-literal">e</span> | <span class="grammar-literal">E</span> ) <br />
    | <span class="grammar-literal">0b</span> <span class="grammar-literal">_</span><sup>*</sup> <span class="grammar-text">&lt;end of input or not BIN_DIGIT&gt;</span> <br />
    | <span class="grammar-literal">0o</span> <span class="grammar-literal">_</span><sup>*</sup> <span class="grammar-text">&lt;end of input or not OCT_DIGIT&gt;</span> <br />
    | <span class="grammar-literal">0x</span> <span class="grammar-literal">_</span><sup>*</sup> <span class="grammar-text">&lt;end of input or not HEX_DIGIT&gt;</span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> ( <span class="grammar-literal">.</span> <span class="grammar-text"><a href="tokens.html#grammar-DEC_LITERAL">DEC_LITERAL</a></span> )<sup>?</sup> ( <span class="grammar-literal">e</span> | <span class="grammar-literal">E</span> ) ( <span class="grammar-literal">+</span> | <span class="grammar-literal">-</span> )<sup>?</sup> <span class="grammar-text">&lt;end of input or not DEC_DIGIT&gt;</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 920px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_NUMBER"><svg class="railroad" viewBox="0 0 920 559" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_NUMBER">
<text class="comment" x="67" y="25">
RESERVED_NUMBER</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 162 0 h 664 m -329 0 l -5 -5 m 0 10 l 5 -5 m 329 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-BIN_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="42"/>
<text x="113" y="58">
BIN_LITERAL</text>
</g>
</a>
<g class="choice">
<path d=" M 177 53 h 0 m 44 0 h 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="177" y="42"/>
<text x="199" y="58">
2-9</text>
</g>
</g>
<path d=" M 167 53 h 10"/>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 826 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 826 0 v -33"/>
<path d=" M 47 142 v 99 m 0 -46 l -5 -5 m 10 0 l -5 5 m 0 46 m 826 0 v -99 m 0 52 l -5 5 m 10 0 l -5 -5 m 0 -52"/>
<path d=" M 47 241 v 66 m 0 -30 l -5 -5 m 10 0 l -5 5 m 0 30 m 826 0 v -66 m 0 36 l -5 5 m 10 0 l -5 -5 m 0 -36"/>
<path d=" M 47 319 v 46 m 826 0 v -46"/>
<path d=" M 47 377 v 46 m 826 0 v -46"/>
<path d=" M 47 435 v 46 m 826 0 v -46"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 162 0 h 640 m -317 0 l -5 -5 m 0 10 l 5 -5 m 317 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-OCT_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="75"/>
<text x="113" y="91">
OCT_LITERAL</text>
</g>
</a>
<g class="choice">
<path d=" M 177 86 h 0 m 44 0 h 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="177" y="75"/>
<text x="199" y="91">
8-9</text>
</g>
</g>
<path d=" M 167 86 h 10"/>
</g>
<path d=" M 47 107 v 35 a 12 12 0 0 0 12 12 m 647 0 h 155 m -74 0 l -5 -5 m 0 10 l 5 -5 m 74 0 a 12 12 0 0 0 12 -12 v -35"/>
<g class="sequence">
<g class="choice">
<path d=" M 59 154 h 24 m 108 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-BIN_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="83" y="143"/>
<text x="137" y="159">
BIN_LITERAL</text>
</g>
</a>
<path d=" M 59 154 a 12 12 0 0 1 12 12 v 9 m 132 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 71 175 v 33 m 132 0 v -33"/>
<path d=" M 71 175 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-OCT_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="83" y="176"/>
<text x="137" y="192">
OCT_LITERAL</text>
</g>
</a>
<path d=" M 71 208 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-HEX_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="83" y="209"/>
<text x="137" y="225">
HEX_LITERAL</text>
</g>
</a>
</g>
<g class="labeledbox">
<rect height="66" width="481" x="225" y="107"/>
<path d=" M 225 154 h 8 m 28 0 h 445 m -219 0 l -5 -5 m 0 10 l 5 -5 m 219 0"/>
<text class="comment" x="465" y="130">
not immediately followed by `.`, `_` or an XID_Start character</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="233" y="143"/>
<text x="247" y="159">
.</text>
</g>
</g>
<path d=" M 215 154 h 10"/>
</g>
<path d=" M 47 241 v 0 a 12 12 0 0 0 12 12 m 242 0 h 560 m -277 0 l -5 -5 m 0 10 l 5 -5 m 277 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="choice">
<path d=" M 59 253 h 24 m 108 0 h 24"/>
<a class="link" xlink:href="tokens.html#railroad-BIN_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="83" y="242"/>
<text x="137" y="258">
BIN_LITERAL</text>
</g>
</a>
<path d=" M 59 253 a 12 12 0 0 1 12 12 v 9 m 132 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 71 274 v 0 a 12 12 0 0 0 12 12 m 108 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-OCT_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="83" y="275"/>
<text x="137" y="291">
OCT_LITERAL</text>
</g>
</a>
</g>
<g class="choice">
<path d=" M 225 253 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="249" y="242"/>
<text x="263" y="258">
e</text>
</g>
<path d=" M 225 253 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 237 274 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="249" y="275"/>
<text x="263" y="291">
E</text>
</g>
</g>
<path d=" M 215 253 h 10"/>
</g>
<path d=" M 47 307 v 12 a 12 12 0 0 0 12 12 m 416 0 h 386 m -190 0 l -5 -5 m 0 10 l 5 -5 m 190 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="320"/>
<text x="77" y="336">
0b</text>
</g>
<g class="optional">
<path d=" M 105 331 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 129 331 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -28 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="320"/>
<text x="155" y="336">
_</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="260" x="215" y="320"/>
<text x="345" y="336">
end of input or not BIN_DIGIT</text>
</g>
<path d=" M 95 331 h 10"/>
<path d=" M 205 331 h 10"/>
</g>
<path d=" M 47 365 v 12 a 12 12 0 0 0 12 12 m 416 0 h 386 m -190 0 l -5 -5 m 0 10 l 5 -5 m 190 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="378"/>
<text x="77" y="394">
0o</text>
</g>
<g class="optional">
<path d=" M 105 389 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 129 389 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -28 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="378"/>
<text x="155" y="394">
_</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="260" x="215" y="378"/>
<text x="345" y="394">
end of input or not OCT_DIGIT</text>
</g>
<path d=" M 95 389 h 10"/>
<path d=" M 205 389 h 10"/>
</g>
<path d=" M 47 423 v 12 a 12 12 0 0 0 12 12 m 416 0 h 386 m -190 0 l -5 -5 m 0 10 l 5 -5 m 190 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="436"/>
<text x="77" y="452">
0x</text>
</g>
<g class="optional">
<path d=" M 105 447 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 129 447 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -28 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="436"/>
<text x="155" y="452">
_</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="260" x="215" y="436"/>
<text x="345" y="452">
end of input or not HEX_DIGIT</text>
</g>
<path d=" M 95 447 h 10"/>
<path d=" M 205 447 h 10"/>
</g>
<path d=" M 47 481 v 12 a 12 12 0 0 0 12 12 m 802 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="494"/>
<text x="113" y="510">
DEC_LITERAL</text>
</g>
</a>
<g class="optional">
<path d=" M 177 505 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 146 m -70 0 l -5 -5 m 0 10 l 5 -5 m 70 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="201" y="494"/>
<text x="215" y="510">
.</text>
</g>
<a class="link" xlink:href="tokens.html#railroad-DEC_LITERAL">
<g class="nonterminal">
<rect height="22" width="108" x="239" y="494"/>
<text x="293" y="510">
DEC_LITERAL</text>
</g>
</a>
<path d=" M 229 505 h 10"/>
</g>
</g>
<g class="choice">
<path d=" M 381 505 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="405" y="494"/>
<text x="419" y="510">
e</text>
</g>
<path d=" M 381 505 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 393 526 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="405" y="527"/>
<text x="419" y="543">
E</text>
</g>
</g>
<g class="optional">
<path d=" M 467 505 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="choice">
<path d=" M 491 505 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="515" y="494"/>
<text x="529" y="510">
+</text>
</g>
<path d=" M 491 505 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 503 526 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="515" y="527"/>
<text x="529" y="543">
-</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="260" x="601" y="494"/>
<text x="731" y="510">
end of input or not DEC_DIGIT</text>
</g>
<path d=" M 167 505 h 10"/>
<path d=" M 371 505 h 10"/>
<path d=" M 457 505 h 10"/>
<path d=" M 591 505 h 10"/>
</g>
</g>
<path d=" M 895 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 885 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.literal.reserved.intro"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.intro" title="lex.token.literal.reserved.intro"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.intro]</span></a>
</div>
<p>The following lexical forms similar to number literals are <em>reserved forms</em>.
Due to the possible ambiguity these raise, they are rejected by the tokenizer instead of being interpreted as separate tokens.</p>
<div class="rule" id="r-lex.token.literal.reserved.out-of-range"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.out-of-range" title="lex.token.literal.reserved.out-of-range"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.out-of-range]</span></a>
</div>
<ul>
<li>An unsuffixed binary or octal literal followed, without intervening whitespace, by a decimal digit out of the range for its radix.</li>
</ul>
<div class="rule" id="r-lex.token.literal.reserved.period"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.period" title="lex.token.literal.reserved.period"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.period]</span></a>
</div>
<ul>
<li>An unsuffixed binary, octal, or hexadecimal literal followed, without intervening whitespace, by a period character (with the same restrictions on what follows the period as for floating-point literals).</li>
</ul>
<div class="rule" id="r-lex.token.literal.reserved.exp"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.exp" title="lex.token.literal.reserved.exp"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.exp]</span></a>
</div>
<ul>
<li>An unsuffixed binary or octal literal followed, without intervening whitespace, by the character <code>e</code> or <code>E</code>.</li>
</ul>
<div class="rule" id="r-lex.token.literal.reserved.empty-with-radix"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.empty-with-radix" title="lex.token.literal.reserved.empty-with-radix"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.empty-with-radix]</span></a>
</div>
<ul>
<li>Input which begins with one of the radix prefixes but is not a valid binary, octal, or hexadecimal literal (because it contains no digits).</li>
</ul>
<div class="rule" id="r-lex.token.literal.reserved.empty-exp"><a class="rule-link" href="tokens.html#r-lex.token.literal.reserved.empty-exp" title="lex.token.literal.reserved.empty-exp"><span>[lex<wbr>.token<wbr>.literal<wbr>.reserved<wbr>.empty-exp]</span></a>
</div>
<ul>
<li>Input which has the form of a floating-point literal with no digits in the exponent.</li>
</ul>
<p>Examples of reserved forms:</p>
<pre><pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>0b0102;  // this is not `0b010` followed by `2`
0o1279;  // this is not `0o127` followed by `9`
0x80.0;  // this is not `0x80` followed by `.` and `0`
0b101e;  // this is not a suffixed literal, or `0b101` followed by `e`
0b;      // this is not an integer literal, or `0` followed by `b`
0b_;     // this is not an integer literal, or `0` followed by `b_`
2e;      // this is not a floating-point literal, or `2` followed by `e`
2.0e;    // this is not a floating-point literal, or `2.0` followed by `e`
2em;     // this is not a suffixed literal, or `2` followed by `em`
2.0em;   // this is not a suffixed literal, or `2.0` followed by `em`
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-lex.token.life"><a class="rule-link" href="tokens.html#r-lex.token.life" title="lex.token.life"><span>[lex<wbr>.token<wbr>.life]</span></a>
</div>
<h2 id="lifetimes-and-loop-labels"><a class="header" href="#lifetimes-and-loop-labels">Lifetimes and loop labels</a></h2>
<div class="rule" id="r-lex.token.life.syntax"><a class="rule-link" href="tokens.html#r-lex.token.life.syntax" title="lex.token.life.syntax"><span>[lex<wbr>.token<wbr>.life<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-LIFETIME_TOKEN" onclick="show_railroad()"><a href="tokens.html#railroad-LIFETIME_TOKEN">LIFETIME_TOKEN</a></span> → <br />
      <span class="grammar-literal">'</span> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">not immediately followed by <code>'</code></sub> <br />
    | <span class="grammar-literal">'_</span><sub class="grammar-text">not immediately followed by <code>'</code></sub> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RAW_LIFETIME">RAW_LIFETIME</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-LIFETIME_OR_LABEL" onclick="show_railroad()"><a href="tokens.html#railroad-LIFETIME_OR_LABEL">LIFETIME_OR_LABEL</a></span> → <br />
      <span class="grammar-literal">'</span> <span class="grammar-text"><a href="identifiers.html#grammar-NON_KEYWORD_IDENTIFIER">NON_KEYWORD_IDENTIFIER</a></span><sub class="grammar-text">not immediately followed by <code>'</code></sub> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RAW_LIFETIME">RAW_LIFETIME</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RAW_LIFETIME" onclick="show_railroad()"><a href="tokens.html#railroad-RAW_LIFETIME">RAW_LIFETIME</a></span> → <br />
    <span class="grammar-literal">'r#</span> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>crate</code>, <code>self</code>, <code>super</code>, <code>Self</code> and not immediately followed by <code>'</code></sub></p>
<p><span class="grammar-text grammar-production" id="grammar-RESERVED_RAW_LIFETIME" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_RAW_LIFETIME">RESERVED_RAW_LIFETIME</a></span> → <span class="grammar-literal">'r#_</span><sub class="grammar-text">not immediately followed by <code>'</code></sub></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 406px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LIFETIME_TOKEN"><svg class="railroad" viewBox="0 0 406 227" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-LIFETIME_TOKEN">
<text class="comment" x="64" y="25">
LIFETIME_TOKEN</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 89 h 24 m 288 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="78"/>
<text x="73" y="94">
&#x27;</text>
</g>
<g class="labeledbox">
<rect height="66" width="250" x="97" y="42"/>
<path d=" M 97 89 h 8 m 196 0 h 46"/>
<text class="comment" x="222" y="65">
not immediately followed by `&#x27;`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="105" y="78"/>
<text x="203" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 87 89 h 10"/>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 312 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 153 v 41 m 312 0 v -41"/>
<path d=" M 47 118 v 35 a 12 12 0 0 0 12 12 m 250 0 h 38 a 12 12 0 0 0 12 -12 v -35"/>
<g class="sequence">
<g class="labeledbox">
<rect height="66" width="250" x="59" y="118"/>
<path d=" M 59 165 h 8 m 36 0 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0"/>
<text class="comment" x="184" y="141">
not immediately followed by `&#x27;`</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="67" y="154"/>
<text x="85" y="170">
&#x27;_</text>
</g>
</g>
</g>
<path d=" M 47 194 v 0 a 12 12 0 0 0 12 12 m 116 0 h 172 m -83 0 l -5 -5 m 0 10 l 5 -5 m 83 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-RAW_LIFETIME">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="195"/>
<text x="117" y="211">
RAW_LIFETIME</text>
</g>
</a>
</g>
<path d=" M 381 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 371 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 406px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LIFETIME_OR_LABEL"><svg class="railroad" viewBox="0 0 406 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-LIFETIME_OR_LABEL">
<text class="comment" x="74" y="25">
LIFETIME_OR_LABEL</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 89 h 24 m 288 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="78"/>
<text x="73" y="94">
&#x27;</text>
</g>
<g class="labeledbox">
<rect height="66" width="250" x="97" y="42"/>
<path d=" M 97 89 h 8 m 204 0 h 38"/>
<text class="comment" x="222" y="65">
not immediately followed by `&#x27;`</text>
<a class="link" xlink:href="identifiers.html#railroad-NON_KEYWORD_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="204" x="105" y="78"/>
<text x="207" y="94">
NON_KEYWORD_IDENTIFIER</text>
</g>
</a>
</g>
<path d=" M 87 89 h 10"/>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 312 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 116 0 h 172 m -83 0 l -5 -5 m 0 10 l 5 -5 m 83 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-RAW_LIFETIME">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="119"/>
<text x="117" y="135">
RAW_LIFETIME</text>
</g>
</a>
</g>
<path d=" M 381 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 371 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 696px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RAW_LIFETIME"><svg class="railroad" viewBox="0 0 696 118" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RAW_LIFETIME">
<text class="comment" x="57" y="25">
RAW_LIFETIME</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="78"/>
<text x="57" y="94">
&#x27;r#</text>
</g>
<g class="labeledbox">
<rect height="66" width="572" x="89" y="42"/>
<path d=" M 89 89 h 8 m 196 0 h 368 m -181 0 l -5 -5 m 0 10 l 5 -5 m 181 0"/>
<text class="comment" x="375" y="65">
except `crate`, `self`, `super`, `Self` and not immediately followed by `&#x27;`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="97" y="78"/>
<text x="195" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 79 89 h 10"/>
</g>
<path d=" M 671 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 661 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 320px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_RAW_LIFETIME"><svg class="railroad" viewBox="0 0 320 118" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_RAW_LIFETIME">
<text class="comment" x="92" y="25">
RESERVED_RAW_LIFETIME</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="labeledbox">
<rect height="66" width="250" x="35" y="42"/>
<path d=" M 35 89 h 8 m 52 0 h 190 m -92 0 l -5 -5 m 0 10 l 5 -5 m 92 0"/>
<text class="comment" x="160" y="65">
not immediately followed by `&#x27;`</text>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="43" y="78"/>
<text x="69" y="94">
&#x27;r#_</text>
</g>
</g>
<path d=" M 295 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 285 89 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.life.intro"><a class="rule-link" href="tokens.html#r-lex.token.life.intro" title="lex.token.life.intro"><span>[lex<wbr>.token<wbr>.life<wbr>.intro]</span></a>
</div>
<p>Lifetime parameters and <a href="expressions/loop-expr.html">loop labels</a> use LIFETIME_OR_LABEL tokens. Any
LIFETIME_TOKEN will be accepted by the lexer, and for example, can be used in
macros.</p>
<div class="rule" id="r-lex.token.life.raw.intro"><a class="rule-link" href="tokens.html#r-lex.token.life.raw.intro" title="lex.token.life.raw.intro"><span>[lex<wbr>.token<wbr>.life<wbr>.raw<wbr>.intro]</span></a>
</div>
<p>A raw lifetime is like a normal lifetime, but its identifier is prefixed by <code>r#</code>. (Note that the <code>r#</code> prefix is not included as part of the actual lifetime.)</p>
<div class="rule" id="r-lex.token.life.raw.allowed"><a class="rule-link" href="tokens.html#r-lex.token.life.raw.allowed" title="lex.token.life.raw.allowed"><span>[lex<wbr>.token<wbr>.life<wbr>.raw<wbr>.allowed]</span></a>
</div>
<p>Unlike a normal lifetime, a raw lifetime may be any strict or reserved keyword except the ones listed above for <code>RAW_LIFETIME</code>.</p>
<div class="rule" id="r-lex.token.life.raw.reserved"><a class="rule-link" href="tokens.html#r-lex.token.life.raw.reserved" title="lex.token.life.raw.reserved"><span>[lex<wbr>.token<wbr>.life<wbr>.raw<wbr>.reserved]</span></a>
</div>
<p>It is an error to use the RESERVED_RAW_LIFETIME token <code>'r#_</code> in order to avoid confusion with the <a href="lifetime-elision.html">placeholder lifetime</a>.</p>
<div class="rule" id="r-lex.token.life.raw.edition2021"><a class="rule-link" href="tokens.html#r-lex.token.life.raw.edition2021" title="lex.token.life.raw.edition2021"><span>[lex<wbr>.token<wbr>.life<wbr>.raw<wbr>.edition2021]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>
<p>Raw lifetimes are accepted in the 2021 edition or later. In earlier editions the token <code>'r#lt</code> is lexed as <code>'r # lt</code>.</p>
</blockquote>
</div>
<div class="rule" id="r-lex.token.punct"><a class="rule-link" href="tokens.html#r-lex.token.punct" title="lex.token.punct"><span>[lex<wbr>.token<wbr>.punct]</span></a>
</div>
<h2 id="punctuation"><a class="header" href="#punctuation">Punctuation</a></h2>
<div class="rule" id="r-lex.token.punct.syntax"><a class="rule-link" href="tokens.html#r-lex.token.punct.syntax" title="lex.token.punct.syntax"><span>[lex<wbr>.token<wbr>.punct<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-PUNCTUATION" onclick="show_railroad()"><a href="tokens.html#railroad-PUNCTUATION">PUNCTUATION</a></span> → <br />
      <span class="grammar-literal">=</span> <br />
    | <span class="grammar-literal">&lt;</span> <br />
    | <span class="grammar-literal">&lt;=</span> <br />
    | <span class="grammar-literal">==</span> <br />
    | <span class="grammar-literal">!=</span> <br />
    | <span class="grammar-literal">&gt;=</span> <br />
    | <span class="grammar-literal">&gt;</span> <br />
    | <span class="grammar-literal">&amp;&amp;</span> <br />
    | <span class="grammar-literal">||</span> <br />
    | <span class="grammar-literal">!</span> <br />
    | <span class="grammar-literal">~</span> <br />
    | <span class="grammar-literal">+</span> <br />
    | <span class="grammar-literal">-</span> <br />
    | <span class="grammar-literal">*</span> <br />
    | <span class="grammar-literal">/</span> <br />
    | <span class="grammar-literal">%</span> <br />
    | <span class="grammar-literal">^</span> <br />
    | <span class="grammar-literal">&amp;</span> <br />
    | <span class="grammar-literal">|</span> <br />
    | <span class="grammar-literal">&lt;&lt;</span> <br />
    | <span class="grammar-literal">&gt;&gt;</span> <br />
    | <span class="grammar-literal">+=</span> <br />
    | <span class="grammar-literal">-=</span> <br />
    | <span class="grammar-literal">*=</span> <br />
    | <span class="grammar-literal">/=</span> <br />
    | <span class="grammar-literal">%=</span> <br />
    | <span class="grammar-literal">^=</span> <br />
    | <span class="grammar-literal">&amp;=</span> <br />
    | <span class="grammar-literal">|=</span> <br />
    | <span class="grammar-literal">&lt;&lt;=</span> <br />
    | <span class="grammar-literal">&gt;&gt;=</span> <br />
    | <span class="grammar-literal">@</span> <br />
    | <span class="grammar-literal">.</span> <br />
    | <span class="grammar-literal">..</span> <br />
    | <span class="grammar-literal">...</span> <br />
    | <span class="grammar-literal">..=</span> <br />
    | <span class="grammar-literal">,</span> <br />
    | <span class="grammar-literal">;</span> <br />
    | <span class="grammar-literal">:</span> <br />
    | <span class="grammar-literal">::</span> <br />
    | <span class="grammar-literal">-&gt;</span> <br />
    | <span class="grammar-literal">&lt;-</span> <br />
    | <span class="grammar-literal">=&gt;</span> <br />
    | <span class="grammar-literal">#</span> <br />
    | <span class="grammar-literal">$</span> <br />
    | <span class="grammar-literal">?</span> <br />
    | <span class="grammar-literal">_</span> <br />
    | <span class="grammar-literal">{</span> <br />
    | <span class="grammar-literal">}</span> <br />
    | <span class="grammar-literal">[</span> <br />
    | <span class="grammar-literal">]</span> <br />
    | <span class="grammar-literal">(</span> <br />
    | <span class="grammar-literal">)</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 162px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PUNCTUATION"><svg class="railroad" viewBox="0 0 162 1790" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-PUNCTUATION">
<text class="comment" x="53" y="25">
PUNCTUATION</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 28 0 h 40"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="42"/>
<text x="73" y="58">
=</text>
</g>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 68 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 68 0 v -33"/>
<path d=" M 47 107 v 33 m 68 0 v -33"/>
<path d=" M 47 140 v 33 m 68 0 v -33"/>
<path d=" M 47 173 v 33 m 68 0 v -33"/>
<path d=" M 47 206 v 33 m 68 0 v -33"/>
<path d=" M 47 239 v 33 m 68 0 v -33"/>
<path d=" M 47 272 v 33 m 68 0 v -33"/>
<path d=" M 47 305 v 33 m 68 0 v -33"/>
<path d=" M 47 338 v 33 m 68 0 v -33"/>
<path d=" M 47 371 v 33 m 68 0 v -33"/>
<path d=" M 47 404 v 33 m 68 0 v -33"/>
<path d=" M 47 437 v 33 m 68 0 v -33"/>
<path d=" M 47 470 v 33 m 68 0 v -33"/>
<path d=" M 47 503 v 33 m 68 0 v -33"/>
<path d=" M 47 536 v 33 m 68 0 v -33"/>
<path d=" M 47 569 v 33 m 68 0 v -33"/>
<path d=" M 47 602 v 33 m 68 0 v -33"/>
<path d=" M 47 635 v 33 m 68 0 v -33"/>
<path d=" M 47 668 v 33 m 68 0 v -33"/>
<path d=" M 47 701 v 33 m 68 0 v -33"/>
<path d=" M 47 734 v 33 m 68 0 v -33"/>
<path d=" M 47 767 v 33 m 68 0 v -33"/>
<path d=" M 47 800 v 33 m 68 0 v -33"/>
<path d=" M 47 833 v 33 m 68 0 v -33"/>
<path d=" M 47 866 v 33 m 68 0 v -33"/>
<path d=" M 47 899 v 33 m 68 0 v -33"/>
<path d=" M 47 932 v 33 m 68 0 v -33"/>
<path d=" M 47 965 v 33 m 68 0 v -33"/>
<path d=" M 47 998 v 33 m 68 0 v -33"/>
<path d=" M 47 1031 v 33 m 68 0 v -33"/>
<path d=" M 47 1064 v 33 m 68 0 v -33"/>
<path d=" M 47 1097 v 33 m 68 0 v -33"/>
<path d=" M 47 1130 v 33 m 68 0 v -33"/>
<path d=" M 47 1163 v 33 m 68 0 v -33"/>
<path d=" M 47 1196 v 33 m 68 0 v -33"/>
<path d=" M 47 1229 v 33 m 68 0 v -33"/>
<path d=" M 47 1262 v 33 m 68 0 v -33"/>
<path d=" M 47 1295 v 33 m 68 0 v -33"/>
<path d=" M 47 1328 v 33 m 68 0 v -33"/>
<path d=" M 47 1361 v 33 m 68 0 v -33"/>
<path d=" M 47 1394 v 33 m 68 0 v -33"/>
<path d=" M 47 1427 v 33 m 68 0 v -33"/>
<path d=" M 47 1460 v 33 m 68 0 v -33"/>
<path d=" M 47 1493 v 33 m 68 0 v -33"/>
<path d=" M 47 1526 v 33 m 68 0 v -33"/>
<path d=" M 47 1559 v 33 m 68 0 v -33"/>
<path d=" M 47 1592 v 33 m 68 0 v -33"/>
<path d=" M 47 1625 v 33 m 68 0 v -33"/>
<path d=" M 47 1658 v 33 m 68 0 v -33"/>
<path d=" M 47 1691 v 33 m 68 0 v -33"/>
<path d=" M 47 1724 v 33 m 68 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="75"/>
<text x="73" y="91">
&lt;</text>
</g>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="108"/>
<text x="77" y="124">
&lt;=</text>
</g>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="141"/>
<text x="77" y="157">
==</text>
</g>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="174"/>
<text x="77" y="190">
!=</text>
</g>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="207"/>
<text x="77" y="223">
&gt;=</text>
</g>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="240"/>
<text x="73" y="256">
&gt;</text>
</g>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="273"/>
<text x="77" y="289">
&amp;&amp;</text>
</g>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="306"/>
<text x="77" y="322">
||</text>
</g>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="339"/>
<text x="73" y="355">
!</text>
</g>
</g>
<path d=" M 47 371 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="372"/>
<text x="73" y="388">
~</text>
</g>
</g>
<path d=" M 47 404 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="405"/>
<text x="73" y="421">
+</text>
</g>
</g>
<path d=" M 47 437 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="438"/>
<text x="73" y="454">
-</text>
</g>
</g>
<path d=" M 47 470 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="471"/>
<text x="73" y="487">
*</text>
</g>
</g>
<path d=" M 47 503 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="504"/>
<text x="73" y="520">
/</text>
</g>
</g>
<path d=" M 47 536 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="537"/>
<text x="73" y="553">
%</text>
</g>
</g>
<path d=" M 47 569 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="570"/>
<text x="73" y="586">
^</text>
</g>
</g>
<path d=" M 47 602 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="603"/>
<text x="73" y="619">
&amp;</text>
</g>
</g>
<path d=" M 47 635 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="636"/>
<text x="73" y="652">
|</text>
</g>
</g>
<path d=" M 47 668 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="669"/>
<text x="77" y="685">
&lt;&lt;</text>
</g>
</g>
<path d=" M 47 701 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="702"/>
<text x="77" y="718">
&gt;&gt;</text>
</g>
</g>
<path d=" M 47 734 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="735"/>
<text x="77" y="751">
+=</text>
</g>
</g>
<path d=" M 47 767 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="768"/>
<text x="77" y="784">
-=</text>
</g>
</g>
<path d=" M 47 800 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="801"/>
<text x="77" y="817">
*=</text>
</g>
</g>
<path d=" M 47 833 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="834"/>
<text x="77" y="850">
/=</text>
</g>
</g>
<path d=" M 47 866 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="867"/>
<text x="77" y="883">
%=</text>
</g>
</g>
<path d=" M 47 899 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="900"/>
<text x="77" y="916">
^=</text>
</g>
</g>
<path d=" M 47 932 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="933"/>
<text x="77" y="949">
&amp;=</text>
</g>
</g>
<path d=" M 47 965 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="966"/>
<text x="77" y="982">
|=</text>
</g>
</g>
<path d=" M 47 998 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="999"/>
<text x="81" y="1015">
&lt;&lt;=</text>
</g>
</g>
<path d=" M 47 1031 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1032"/>
<text x="81" y="1048">
&gt;&gt;=</text>
</g>
</g>
<path d=" M 47 1064 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1065"/>
<text x="73" y="1081">
@</text>
</g>
</g>
<path d=" M 47 1097 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1098"/>
<text x="73" y="1114">
.</text>
</g>
</g>
<path d=" M 47 1130 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="1131"/>
<text x="77" y="1147">
..</text>
</g>
</g>
<path d=" M 47 1163 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1164"/>
<text x="81" y="1180">
...</text>
</g>
</g>
<path d=" M 47 1196 v 0 a 12 12 0 0 0 12 12 m 44 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1197"/>
<text x="81" y="1213">
..=</text>
</g>
</g>
<path d=" M 47 1229 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1230"/>
<text x="73" y="1246">
,</text>
</g>
</g>
<path d=" M 47 1262 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1263"/>
<text x="73" y="1279">
;</text>
</g>
</g>
<path d=" M 47 1295 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1296"/>
<text x="73" y="1312">
:</text>
</g>
</g>
<path d=" M 47 1328 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="1329"/>
<text x="77" y="1345">
::</text>
</g>
</g>
<path d=" M 47 1361 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="1362"/>
<text x="77" y="1378">
-&gt;</text>
</g>
</g>
<path d=" M 47 1394 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="1395"/>
<text x="77" y="1411">
&lt;-</text>
</g>
</g>
<path d=" M 47 1427 v 0 a 12 12 0 0 0 12 12 m 36 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="1428"/>
<text x="77" y="1444">
=&gt;</text>
</g>
</g>
<path d=" M 47 1460 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1461"/>
<text x="73" y="1477">
#</text>
</g>
</g>
<path d=" M 47 1493 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1494"/>
<text x="73" y="1510">
$</text>
</g>
</g>
<path d=" M 47 1526 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1527"/>
<text x="73" y="1543">
?</text>
</g>
</g>
<path d=" M 47 1559 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1560"/>
<text x="73" y="1576">
_</text>
</g>
</g>
<path d=" M 47 1592 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1593"/>
<text x="73" y="1609">
{</text>
</g>
</g>
<path d=" M 47 1625 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1626"/>
<text x="73" y="1642">
}</text>
</g>
</g>
<path d=" M 47 1658 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1659"/>
<text x="73" y="1675">
[</text>
</g>
</g>
<path d=" M 47 1691 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1692"/>
<text x="73" y="1708">
]</text>
</g>
</g>
<path d=" M 47 1724 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1725"/>
<text x="73" y="1741">
(</text>
</g>
</g>
<path d=" M 47 1757 v 0 a 12 12 0 0 0 12 12 m 28 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="1758"/>
<text x="73" y="1774">
)</text>
</g>
</g>
<path d=" M 137 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 127 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.punct.intro"><a class="rule-link" href="tokens.html#r-lex.token.punct.intro" title="lex.token.punct.intro"><span>[lex<wbr>.token<wbr>.punct<wbr>.intro]</span></a>
</div>
<p>Punctuation symbol tokens are listed here for completeness. Their individual
usages and meanings are defined in the linked pages.</p>
<div class="table-wrapper"><table><thead><tr><th>Symbol</th><th>Name</th><th>Usage</th></tr></thead><tbody>
<tr><td><code>+</code></td><td>Plus</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Addition</a>, <a href="trait-bounds.html">Trait Bounds</a>, <a href="macros-by-example.html">Macro Kleene Matcher</a></td></tr>
<tr><td><code>-</code></td><td>Minus</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Subtraction</a>, <a href="expressions/operator-expr.html#negation-operators">Negation</a></td></tr>
<tr><td><code>*</code></td><td>Star</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Multiplication</a>, <a href="expressions/operator-expr.html#the-dereference-operator">Dereference</a>, <a href="types/pointer.html#raw-pointers-const-and-mut">Raw Pointers</a>, <a href="macros-by-example.html">Macro Kleene Matcher</a>, <a href="items/use-declarations.html">Use wildcards</a></td></tr>
<tr><td><code>/</code></td><td>Slash</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Division</a></td></tr>
<tr><td><code>%</code></td><td>Percent</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Remainder</a></td></tr>
<tr><td><code>^</code></td><td>Caret</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Bitwise and Logical XOR</a></td></tr>
<tr><td><code>!</code></td><td>Not</td><td><a href="expressions/operator-expr.html#negation-operators">Bitwise and Logical NOT</a>, <a href="macros-by-example.html">Macro Calls</a>, <a href="attributes.html">Inner Attributes</a>, <a href="types/never.html">Never Type</a>, <a href="items/implementations.html">Negative impls</a></td></tr>
<tr><td><code>&amp;</code></td><td>And</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Bitwise and Logical AND</a>, <a href="expressions/operator-expr.html#borrow-operators">Borrow</a>, <a href="types/pointer.html">References</a>, <a href="patterns.html#reference-patterns">Reference patterns</a></td></tr>
<tr><td><code>|</code></td><td>Or</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Bitwise and Logical OR</a>, <a href="expressions/closure-expr.html">Closures</a>, Patterns in <a href="expressions/match-expr.html">match</a>, <a href="expressions/if-expr.html#if-let-patterns">if let</a>, and <a href="expressions/loop-expr.html#while-let-patterns">while let</a></td></tr>
<tr><td><code>&amp;&amp;</code></td><td>AndAnd</td><td><a href="expressions/operator-expr.html#lazy-boolean-operators">Lazy AND</a>, <a href="expressions/operator-expr.html#borrow-operators">Borrow</a>, <a href="types/pointer.html">References</a>, <a href="patterns.html#reference-patterns">Reference patterns</a></td></tr>
<tr><td><code>||</code></td><td>OrOr</td><td><a href="expressions/operator-expr.html#lazy-boolean-operators">Lazy OR</a>, <a href="expressions/closure-expr.html">Closures</a></td></tr>
<tr><td><code>&lt;&lt;</code></td><td>Shl</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Shift Left</a>, <a href="items/generics.html">Nested Generics</a></td></tr>
<tr><td><code>&gt;&gt;</code></td><td>Shr</td><td><a href="expressions/operator-expr.html#arithmetic-and-logical-binary-operators">Shift Right</a>, <a href="items/generics.html">Nested Generics</a></td></tr>
<tr><td><code>+=</code></td><td>PlusEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Addition assignment</a></td></tr>
<tr><td><code>-=</code></td><td>MinusEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Subtraction assignment</a></td></tr>
<tr><td><code>*=</code></td><td>StarEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Multiplication assignment</a></td></tr>
<tr><td><code>/=</code></td><td>SlashEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Division assignment</a></td></tr>
<tr><td><code>%=</code></td><td>PercentEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Remainder assignment</a></td></tr>
<tr><td><code>^=</code></td><td>CaretEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Bitwise XOR assignment</a></td></tr>
<tr><td><code>&amp;=</code></td><td>AndEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Bitwise And assignment</a></td></tr>
<tr><td><code>|=</code></td><td>OrEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Bitwise Or assignment</a></td></tr>
<tr><td><code>&lt;&lt;=</code></td><td>ShlEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Shift Left assignment</a></td></tr>
<tr><td><code>&gt;&gt;=</code></td><td>ShrEq</td><td><a href="expressions/operator-expr.html#compound-assignment-expressions">Shift Right assignment</a>, <a href="items/generics.html">Nested Generics</a></td></tr>
<tr><td><code>=</code></td><td>Eq</td><td><a href="expressions/operator-expr.html#assignment-expressions">Assignment</a>, <a href="attributes.html">Attributes</a>, Various type definitions</td></tr>
<tr><td><code>==</code></td><td>EqEq</td><td><a href="expressions/operator-expr.html#comparison-operators">Equal</a></td></tr>
<tr><td><code>!=</code></td><td>Ne</td><td><a href="expressions/operator-expr.html#comparison-operators">Not Equal</a></td></tr>
<tr><td><code>&gt;</code></td><td>Gt</td><td><a href="expressions/operator-expr.html#comparison-operators">Greater than</a>, <a href="items/generics.html">Generics</a>, <a href="paths.html">Paths</a></td></tr>
<tr><td><code>&lt;</code></td><td>Lt</td><td><a href="expressions/operator-expr.html#comparison-operators">Less than</a>, <a href="items/generics.html">Generics</a>, <a href="paths.html">Paths</a></td></tr>
<tr><td><code>&gt;=</code></td><td>Ge</td><td><a href="expressions/operator-expr.html#comparison-operators">Greater than or equal to</a>, <a href="items/generics.html">Generics</a></td></tr>
<tr><td><code>&lt;=</code></td><td>Le</td><td><a href="expressions/operator-expr.html#comparison-operators">Less than or equal to</a></td></tr>
<tr><td><code>@</code></td><td>At</td><td><a href="patterns.html#identifier-patterns">Subpattern binding</a></td></tr>
<tr><td><code>_</code></td><td>Underscore</td><td><a href="patterns.html#wildcard-pattern">Wildcard patterns</a>, <a href="types/inferred.html">Inferred types</a>, Unnamed items in <a href="items/constant-items.html">constants</a>, <a href="items/extern-crates.html">extern crates</a>, <a href="items/use-declarations.html">use declarations</a>, and <a href="expressions/underscore-expr.html">destructuring assignment</a></td></tr>
<tr><td><code>.</code></td><td>Dot</td><td><a href="expressions/field-expr.html">Field access</a>, <a href="expressions/tuple-expr.html#tuple-indexing-expressions">Tuple index</a></td></tr>
<tr><td><code>..</code></td><td>DotDot</td><td><a href="expressions/range-expr.html">Range</a>, <a href="expressions/struct-expr.html">Struct expressions</a>, <a href="patterns.html">Patterns</a>, <a href="patterns.html#range-patterns">Range Patterns</a></td></tr>
<tr><td><code>...</code></td><td>DotDotDot</td><td><a href="items/external-blocks.html">Variadic functions</a>, <a href="patterns.html#range-patterns">Range patterns</a></td></tr>
<tr><td><code>..=</code></td><td>DotDotEq</td><td><a href="expressions/range-expr.html">Inclusive Range</a>, <a href="patterns.html#range-patterns">Range patterns</a></td></tr>
<tr><td><code>,</code></td><td>Comma</td><td>Various separators</td></tr>
<tr><td><code>;</code></td><td>Semi</td><td>Terminator for various items and statements, <a href="types/array.html">Array types</a></td></tr>
<tr><td><code>:</code></td><td>Colon</td><td>Various separators</td></tr>
<tr><td><code>::</code></td><td>PathSep</td><td><a href="paths.html">Path separator</a></td></tr>
<tr><td><code>-&gt;</code></td><td>RArrow</td><td><a href="items/functions.html">Function return type</a>, <a href="expressions/closure-expr.html">Closure return type</a>, <a href="types/function-pointer.html">Function pointer type</a></td></tr>
<tr><td><code>=&gt;</code></td><td>FatArrow</td><td><a href="expressions/match-expr.html">Match arms</a>, <a href="macros-by-example.html">Macros</a></td></tr>
<tr><td><code>&lt;-</code></td><td>LArrow</td><td>The left arrow symbol has been unused since before Rust 1.0, but it is still treated as a single token</td></tr>
<tr><td><code>#</code></td><td>Pound</td><td><a href="attributes.html">Attributes</a></td></tr>
<tr><td><code>$</code></td><td>Dollar</td><td><a href="macros-by-example.html">Macros</a></td></tr>
<tr><td><code>?</code></td><td>Question</td><td><a href="expressions/operator-expr.html#the-try-propagation-expression">Try propagation expressions</a>, <a href="trait-bounds.html#sized">Questionably sized</a>, <a href="macros-by-example.html">Macro Kleene Matcher</a></td></tr>
<tr><td><code>~</code></td><td>Tilde</td><td>The tilde operator has been unused since before Rust 1.0, but its token may still be used</td></tr>
</tbody></table>
</div><div class="rule" id="r-lex.token.delim"><a class="rule-link" href="tokens.html#r-lex.token.delim" title="lex.token.delim"><span>[lex<wbr>.token<wbr>.delim]</span></a>
</div>
<h2 id="delimiters"><a class="header" href="#delimiters">Delimiters</a></h2>
<p>Bracket punctuation is used in various parts of the grammar. An open bracket
must always be paired with a close bracket. Brackets and the tokens within
them are referred to as “token trees” in <a href="macros-by-example.html">macros</a>.  The three types of brackets are:</p>
<div class="table-wrapper"><table><thead><tr><th>Bracket</th><th>Type</th></tr></thead><tbody>
<tr><td><code>{</code> <code>}</code></td><td>Curly braces</td></tr>
<tr><td><code>[</code> <code>]</code></td><td>Square brackets</td></tr>
<tr><td><code>(</code> <code>)</code></td><td>Parentheses</td></tr>
</tbody></table>
</div><div class="rule" id="r-lex.token.reserved"><a class="rule-link" href="tokens.html#r-lex.token.reserved" title="lex.token.reserved"><span>[lex<wbr>.token<wbr>.reserved]</span></a>
</div>
<h2 id="reserved-tokens"><a class="header" href="#reserved-tokens">Reserved tokens</a></h2>
<div class="rule" id="r-lex.token.reserved.intro"><a class="rule-link" href="tokens.html#r-lex.token.reserved.intro" title="lex.token.reserved.intro"><span>[lex<wbr>.token<wbr>.reserved<wbr>.intro]</span></a>
</div>
<p>Several token forms are reserved for future use. It is an error for the source input to match one of these forms.</p>
<div class="rule" id="r-lex.token.reserved.syntax"><a class="rule-link" href="tokens.html#r-lex.token.reserved.syntax" title="lex.token.reserved.syntax"><span>[lex<wbr>.token<wbr>.reserved<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RESERVED_TOKEN" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_TOKEN">RESERVED_TOKEN</a></span> → <br />
      <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_GUARDED_STRING_LITERAL">RESERVED_GUARDED_STRING_LITERAL</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_NUMBER">RESERVED_NUMBER</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_POUNDS">RESERVED_POUNDS</a></span> <br />
    | <span class="grammar-text"><a href="identifiers.html#grammar-RESERVED_RAW_IDENTIFIER">RESERVED_RAW_IDENTIFIER</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_RAW_LIFETIME">RESERVED_RAW_LIFETIME</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_TOKEN_DOUBLE_QUOTE">RESERVED_TOKEN_DOUBLE_QUOTE</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_TOKEN_LIFETIME">RESERVED_TOKEN_LIFETIME</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_TOKEN_POUND">RESERVED_TOKEN_POUND</a></span> <br />
    | <span class="grammar-text"><a href="tokens.html#grammar-RESERVED_TOKEN_SINGLE_QUOTE">RESERVED_TOKEN_SINGLE_QUOTE</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 394px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_TOKEN"><svg class="railroad" viewBox="0 0 394 338" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_TOKEN">
<text class="comment" x="64" y="25">
RESERVED_TOKEN</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 276 0 h 24"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_GUARDED_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="276" x="59" y="42"/>
<text x="197" y="58">
RESERVED_GUARDED_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 300 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 300 0 v -33"/>
<path d=" M 47 107 v 33 m 300 0 v -33"/>
<path d=" M 47 140 v 33 m 300 0 v -33"/>
<path d=" M 47 173 v 33 m 300 0 v -33"/>
<path d=" M 47 206 v 33 m 300 0 v -33"/>
<path d=" M 47 239 v 33 m 300 0 v -33"/>
<path d=" M 47 272 v 33 m 300 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 140 0 h 136 m -65 0 l -5 -5 m 0 10 l 5 -5 m 65 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_NUMBER">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="75"/>
<text x="129" y="91">
RESERVED_NUMBER</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 140 0 h 136 m -65 0 l -5 -5 m 0 10 l 5 -5 m 65 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_POUNDS">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="108"/>
<text x="129" y="124">
RESERVED_POUNDS</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 212 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-RESERVED_RAW_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="141"/>
<text x="165" y="157">
RESERVED_RAW_IDENTIFIER</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 196 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_RAW_LIFETIME">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="174"/>
<text x="157" y="190">
RESERVED_RAW_LIFETIME</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 244 0 h 32 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_TOKEN_DOUBLE_QUOTE">
<g class="nonterminal">
<rect height="22" width="244" x="59" y="207"/>
<text x="181" y="223">
RESERVED_TOKEN_DOUBLE_QUOTE</text>
</g>
</a>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 212 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_TOKEN_LIFETIME">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="240"/>
<text x="165" y="256">
RESERVED_TOKEN_LIFETIME</text>
</g>
</a>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 188 0 h 88 m -41 0 l -5 -5 m 0 10 l 5 -5 m 41 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-RESERVED_TOKEN_POUND">
<g class="nonterminal">
<rect height="22" width="188" x="59" y="273"/>
<text x="153" y="289">
RESERVED_TOKEN_POUND</text>
</g>
</a>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 244 0 h 32 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-RESERVED_TOKEN_SINGLE_QUOTE">
<g class="nonterminal">
<rect height="22" width="244" x="59" y="306"/>
<text x="181" y="322">
RESERVED_TOKEN_SINGLE_QUOTE</text>
</g>
</a>
</g>
<path d=" M 369 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 359 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.reserved-prefix"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix" title="lex.token.reserved-prefix"><span>[lex<wbr>.token<wbr>.reserved-prefix]</span></a>
</div>
<h2 id="reserved-prefixes"><a class="header" href="#reserved-prefixes">Reserved prefixes</a></h2>
<div class="rule" id="r-lex.token.reserved-prefix.syntax"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.syntax" title="lex.token.reserved-prefix.syntax"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RESERVED_TOKEN_DOUBLE_QUOTE" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_TOKEN_DOUBLE_QUOTE">RESERVED_TOKEN_DOUBLE_QUOTE</a></span> → <br />
    ( <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>b</code> or <code>c</code> or <code>r</code> or <code>br</code> or <code>cr</code></sub> | <span class="grammar-literal">_</span> ) <span class="grammar-literal">"</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RESERVED_TOKEN_SINGLE_QUOTE" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_TOKEN_SINGLE_QUOTE">RESERVED_TOKEN_SINGLE_QUOTE</a></span> → <br />
    ( <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>b</code></sub> | <span class="grammar-literal">_</span> ) <span class="grammar-literal">'</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RESERVED_TOKEN_POUND" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_TOKEN_POUND">RESERVED_TOKEN_POUND</a></span> → <br />
    ( <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>r</code> or <code>br</code> or <code>cr</code></sub> | <span class="grammar-literal">_</span> ) <span class="grammar-literal">#</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RESERVED_TOKEN_LIFETIME" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_TOKEN_LIFETIME">RESERVED_TOKEN_LIFETIME</a></span> → <br />
    <span class="grammar-literal">'</span> ( <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>r</code></sub> | <span class="grammar-literal">_</span> ) <span class="grammar-literal">#</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 476px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_TOKEN_DOUBLE_QUOTE"><svg class="railroad" viewBox="0 0 476 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_TOKEN_DOUBLE_QUOTE">
<text class="comment" x="113" y="25">
RESERVED_TOKEN_DOUBLE_QUOTE</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="choice">
<path d=" M 35 89 h 24 m 320 0 h 24"/>
<g class="labeledbox">
<rect height="66" width="320" x="59" y="42"/>
<path d=" M 59 89 h 8 m 196 0 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0"/>
<text class="comment" x="219" y="65">
except `b` or `c` or `r` or `br` or `cr`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="67" y="78"/>
<text x="165" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 344 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 28 0 h 292 m -143 0 l -5 -5 m 0 10 l 5 -5 m 143 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="119"/>
<text x="73" y="135">
_</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="413" y="78"/>
<text x="427" y="94">
&quot;</text>
</g>
<path d=" M 403 89 h 10"/>
</g>
<path d=" M 451 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 441 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 368px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_TOKEN_SINGLE_QUOTE"><svg class="railroad" viewBox="0 0 368 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_TOKEN_SINGLE_QUOTE">
<text class="comment" x="113" y="25">
RESERVED_TOKEN_SINGLE_QUOTE</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="choice">
<path d=" M 35 89 h 24 m 212 0 h 24"/>
<g class="labeledbox">
<rect height="66" width="212" x="59" y="42"/>
<path d=" M 59 89 h 8 m 196 0 h 8"/>
<text class="comment" x="107" y="65">
except `b`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="67" y="78"/>
<text x="165" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 236 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 28 0 h 184 m -89 0 l -5 -5 m 0 10 l 5 -5 m 89 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="119"/>
<text x="73" y="135">
_</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="305" y="78"/>
<text x="319" y="94">
&#x27;</text>
</g>
<path d=" M 295 89 h 10"/>
</g>
<path d=" M 343 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 333 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 371px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_TOKEN_POUND"><svg class="railroad" viewBox="0 0 371 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_TOKEN_POUND">
<text class="comment" x="88" y="25">
RESERVED_TOKEN_POUND</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="choice">
<path d=" M 35 89 h 24 m 215 0 h 24"/>
<g class="labeledbox">
<rect height="66" width="215" x="59" y="42"/>
<path d=" M 59 89 h 8 m 196 0 h 11"/>
<text class="comment" x="166" y="65">
except `r` or `br` or `cr`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="67" y="78"/>
<text x="165" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 239 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 28 0 h 187 m -90 0 l -5 -5 m 0 10 l 5 -5 m 90 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="119"/>
<text x="73" y="135">
_</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="308" y="78"/>
<text x="322" y="94">
#</text>
</g>
<path d=" M 298 89 h 10"/>
</g>
<path d=" M 346 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 336 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 406px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_TOKEN_LIFETIME"><svg class="railroad" viewBox="0 0 406 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_TOKEN_LIFETIME">
<text class="comment" x="99" y="25">
RESERVED_TOKEN_LIFETIME</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="78"/>
<text x="49" y="94">
&#x27;</text>
</g>
<g class="choice">
<path d=" M 73 89 h 24 m 212 0 h 24"/>
<g class="labeledbox">
<rect height="66" width="212" x="97" y="42"/>
<path d=" M 97 89 h 8 m 196 0 h 8"/>
<text class="comment" x="145" y="65">
except `r`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="105" y="78"/>
<text x="203" y="94">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 73 89 a 12 12 0 0 1 12 12 v 17 m 236 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 85 118 v 0 a 12 12 0 0 0 12 12 m 28 0 h 184 m -89 0 l -5 -5 m 0 10 l 5 -5 m 89 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="119"/>
<text x="111" y="135">
_</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="343" y="78"/>
<text x="357" y="94">
#</text>
</g>
<path d=" M 63 89 h 10"/>
<path d=" M 333 89 h 10"/>
</g>
<path d=" M 381 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 371 89 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.reserved-prefix.intro"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.intro" title="lex.token.reserved-prefix.intro"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.intro]</span></a>
</div>
<p>Some lexical forms known as <em>reserved prefixes</em> are reserved for future use.</p>
<div class="rule" id="r-lex.token.reserved-prefix.id"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.id" title="lex.token.reserved-prefix.id"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.id]</span></a>
</div>
<p>Source input which would otherwise be lexically interpreted as a non-raw identifier (or a keyword or <code>_</code>) which is immediately followed by a <code>#</code>, <code>'</code>, or <code>"</code> character (without intervening whitespace) is identified as a reserved prefix.</p>
<div class="rule" id="r-lex.token.reserved-prefix.raw-token"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.raw-token" title="lex.token.reserved-prefix.raw-token"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.raw-token]</span></a>
</div>
<p>Note that raw identifiers, raw string literals, and raw byte string literals may contain a <code>#</code> character but are not interpreted as containing a reserved prefix.</p>
<div class="rule" id="r-lex.token.reserved-prefix.strings"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.strings" title="lex.token.reserved-prefix.strings"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.strings]</span></a>
</div>
<p>Similarly the <code>r</code>, <code>b</code>, <code>br</code>, <code>c</code>, and <code>cr</code> prefixes used in raw string literals, byte literals, byte string literals, raw byte string literals, C string literals, and raw C string literals are not interpreted as reserved prefixes.</p>
<div class="rule" id="r-lex.token.reserved-prefix.life"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.life" title="lex.token.reserved-prefix.life"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.life]</span></a>
</div>
<p>Source input which would otherwise be lexically interpreted as a non-raw lifetime (or a keyword or <code>_</code>) which is immediately followed by a <code>#</code> character (without intervening whitespace) is identified as a reserved lifetime prefix.</p>
<div class="rule" id="r-lex.token.reserved-prefix.edition2021"><a class="rule-link" href="tokens.html#r-lex.token.reserved-prefix.edition2021" title="lex.token.reserved-prefix.edition2021"><span>[lex<wbr>.token<wbr>.reserved-prefix<wbr>.edition2021]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>
<p>Starting with the 2021 edition, reserved prefixes are reported as an error by the lexer (in particular, they cannot be passed to macros).</p>
<p>Before the 2021 edition, reserved prefixes are accepted by the lexer and interpreted as multiple tokens (for example, one token for the identifier or keyword, followed by a <code>#</code> token).</p>
<p>Examples accepted in all editions:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! lexes {($($_:tt)*) =&gt; {}}
lexes!{a #foo}
lexes!{continue 'foo}
lexes!{match "..." {}}
lexes!{r#let#foo}         // three tokens: r#let # foo
lexes!{'prefix #lt}
<span class="boring">}</span></code></pre></pre>
<p>Examples accepted before the 2021 edition but rejected later:</p>
<pre><pre class="playground"><code class="language-rust edition2018"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! lexes {($($_:tt)*) =&gt; {}}
lexes!{a#foo}
lexes!{continue'foo}
lexes!{match"..." {}}
lexes!{'prefix#lt}
<span class="boring">}</span></code></pre></pre>
</blockquote>
</div>
<div class="rule" id="r-lex.token.reserved-guards"><a class="rule-link" href="tokens.html#r-lex.token.reserved-guards" title="lex.token.reserved-guards"><span>[lex<wbr>.token<wbr>.reserved-guards]</span></a>
</div>
<h2 id="reserved-guards"><a class="header" href="#reserved-guards">Reserved guards</a></h2>
<div class="rule" id="r-lex.token.reserved-guards.syntax"><a class="rule-link" href="tokens.html#r-lex.token.reserved-guards.syntax" title="lex.token.reserved-guards.syntax"><span>[lex<wbr>.token<wbr>.reserved-guards<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Lexer</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RESERVED_GUARDED_STRING_LITERAL" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_GUARDED_STRING_LITERAL">RESERVED_GUARDED_STRING_LITERAL</a></span> → <span class="grammar-literal">#</span><sup>+</sup> <span class="grammar-text"><a href="tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RESERVED_POUNDS" onclick="show_railroad()"><a href="tokens.html#railroad-RESERVED_POUNDS">RESERVED_POUNDS</a></span> → <span class="grammar-literal">#</span><sup>2..</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 264px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_GUARDED_STRING_LITERAL"><svg class="railroad" viewBox="0 0 264 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_GUARDED_STRING_LITERAL">
<text class="comment" x="127" y="25">
RESERVED_GUARDED_STRING_LITERAL</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="repeat">
<path d=" M 35 53 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -28 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="47" y="42"/>
<text x="61" y="58">
#</text>
</g>
</g>
<a class="link" xlink:href="tokens.html#railroad-STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="132" x="97" y="42"/>
<text x="163" y="58">
STRING_LITERAL</text>
</g>
</a>
<path d=" M 87 53 h 10"/>
</g>
<path d=" M 239 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 229 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 160px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RESERVED_POUNDS"><svg class="railroad" viewBox="0 0 160 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="tokens.html#grammar-RESERVED_POUNDS">
<text class="comment" x="67" y="25">
RESERVED_POUNDS</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42"/>
<text x="49" y="58">
#</text>
</g>
<g class="repeat">
<path d=" M 73 53 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -28 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="85" y="42"/>
<text x="99" y="58">
#</text>
</g>
</g>
<path d=" M 63 53 h 10"/>
</g>
<path d=" M 135 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 125 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-lex.token.reserved-guards.intro"><a class="rule-link" href="tokens.html#r-lex.token.reserved-guards.intro" title="lex.token.reserved-guards.intro"><span>[lex<wbr>.token<wbr>.reserved-guards<wbr>.intro]</span></a>
</div>
<p>The reserved guards are syntax reserved for future use, and will generate a compile error if used.</p>
<div class="rule" id="r-lex.token.reserved-guards.string-literal"><a class="rule-link" href="tokens.html#r-lex.token.reserved-guards.string-literal" title="lex.token.reserved-guards.string-literal"><span>[lex<wbr>.token<wbr>.reserved-guards<wbr>.string-literal]</span></a>
</div>
<p>The <em>reserved guarded string literal</em> is a token of one or more <code>U+0023</code> (<code>#</code>) immediately followed by a <a href="tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a>.</p>
<div class="rule" id="r-lex.token.reserved-guards.pounds"><a class="rule-link" href="tokens.html#r-lex.token.reserved-guards.pounds" title="lex.token.reserved-guards.pounds"><span>[lex<wbr>.token<wbr>.reserved-guards<wbr>.pounds]</span></a>
</div>
<p>The <em>reserved pounds</em> is a token of two or more <code>U+0023</code> (<code>#</code>).</p>
<div class="rule" id="r-lex.token.reserved-guards.edition2024"><a class="rule-link" href="tokens.html#r-lex.token.reserved-guards.edition2024" title="lex.token.reserved-guards.edition2024"><span>[lex<wbr>.token<wbr>.reserved-guards<wbr>.edition2024]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>
<p>Before the 2024 edition, reserved guards are accepted by the lexer and interpreted as multiple tokens. For example, the <code>#"foo"#</code> form is interpreted as three tokens. <code>##</code> is interpreted as two tokens.</p>
</blockquote>
</div>
<hr>
<ol class="footnote-definition"><li id="footnote-nsets">
<p>The number of <code>#</code>s on each side of the same literal must be equivalent. <a href="#fr-nsets-1">↩</a></p>
</li>
<li id="footnote-nl">
<p>All number literals allow <code>_</code> as a visual separator: <code>1_234.0E+18f64</code> <a href="#fr-nl-1">↩</a></p>
</li>
</ol><div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-macro"><a class="rule-link" href="macros.html#r-macro" title="macro"><span>[macro]</span></a>
</div>
<h1 id="macros"><a class="header" href="#macros">Macros</a></h1>
<div class="rule" id="r-macro.intro"><a class="rule-link" href="macros.html#r-macro.intro" title="macro.intro"><span>[macro<wbr>.intro]</span></a>
</div>
<p>The functionality and syntax of Rust can be extended with custom definitions
called macros. They are given names, and invoked through a consistent
syntax: <code>some_extension!(...)</code>.</p>
<p>There are two ways to define new macros:</p>
<ul>
<li><a href="macros-by-example.html">Macros by Example</a> define new syntax in a higher-level, declarative way.</li>
<li><a href="procedural-macros.html">Procedural Macros</a> define function-like macros, custom derives, and custom
attributes using functions that operate on input tokens.</li>
</ul>
<div class="rule" id="r-macro.invocation"><a class="rule-link" href="macros.html#r-macro.invocation" title="macro.invocation"><span>[macro<wbr>.invocation]</span></a>
</div>
<h2 id="macro-invocation"><a class="header" href="#macro-invocation">Macro invocation</a></h2>
<div class="rule" id="r-macro.invocation.syntax"><a class="rule-link" href="macros.html#r-macro.invocation.syntax" title="macro.invocation.syntax"><span>[macro<wbr>.invocation<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-MacroInvocation" onclick="show_railroad()"><a href="macros.html#railroad-MacroInvocation">MacroInvocation</a></span> → <br />
    <span class="grammar-text"><a href="paths.html#grammar-SimplePath">SimplePath</a></span> <span class="grammar-literal">!</span> <span class="grammar-text"><a href="macros.html#grammar-DelimTokenTree">DelimTokenTree</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-DelimTokenTree" onclick="show_railroad()"><a href="macros.html#railroad-DelimTokenTree">DelimTokenTree</a></span> → <br />
      <span class="grammar-literal">(</span> <span class="grammar-text"><a href="macros.html#grammar-TokenTree">TokenTree</a></span><sup>*</sup> <span class="grammar-literal">)</span> <br />
    | <span class="grammar-literal">[</span> <span class="grammar-text"><a href="macros.html#grammar-TokenTree">TokenTree</a></span><sup>*</sup> <span class="grammar-literal">]</span> <br />
    | <span class="grammar-literal">{</span> <span class="grammar-text"><a href="macros.html#grammar-TokenTree">TokenTree</a></span><sup>*</sup> <span class="grammar-literal">}</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TokenTree" onclick="show_railroad()"><a href="macros.html#railroad-TokenTree">TokenTree</a></span> → <br />
    <span class="grammar-text"><a href="tokens.html#grammar-Token">Token</a></span><sub class="grammar-text">except <a href="tokens.html#r-lex.token.delim">delimiters</a></sub> | <span class="grammar-text"><a href="macros.html#grammar-DelimTokenTree">DelimTokenTree</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroInvocationSemi" onclick="show_railroad()"><a href="macros.html#railroad-MacroInvocationSemi">MacroInvocationSemi</a></span> → <br />
      <span class="grammar-text"><a href="paths.html#grammar-SimplePath">SimplePath</a></span> <span class="grammar-literal">!</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="macros.html#grammar-TokenTree">TokenTree</a></span><sup>*</sup> <span class="grammar-literal">)</span> <span class="grammar-literal">;</span> <br />
    | <span class="grammar-text"><a href="paths.html#grammar-SimplePath">SimplePath</a></span> <span class="grammar-literal">!</span> <span class="grammar-literal">[</span> <span class="grammar-text"><a href="macros.html#grammar-TokenTree">TokenTree</a></span><sup>*</sup> <span class="grammar-literal">]</span> <span class="grammar-literal">;</span> <br />
    | <span class="grammar-text"><a href="paths.html#grammar-SimplePath">SimplePath</a></span> <span class="grammar-literal">!</span> <span class="grammar-literal">{</span> <span class="grammar-text"><a href="macros.html#grammar-TokenTree">TokenTree</a></span><sup>*</sup> <span class="grammar-literal">}</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 350px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroInvocation"><svg class="railroad" viewBox="0 0 350 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros.html#grammar-MacroInvocation">
<text class="comment" x="67" y="25">
MacroInvocation</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-SimplePath">
<g class="nonterminal">
<rect height="22" width="100" x="35" y="42"/>
<text x="85" y="58">
SimplePath</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="145" y="42"/>
<text x="159" y="58">
!</text>
</g>
<a class="link" xlink:href="macros.html#railroad-DelimTokenTree">
<g class="nonterminal">
<rect height="22" width="132" x="183" y="42"/>
<text x="249" y="58">
DelimTokenTree</text>
</g>
</a>
<path d=" M 135 53 h 10"/>
<path d=" M 173 53 h 10"/>
</g>
<path d=" M 325 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 315 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 358px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DelimTokenTree"><svg class="railroad" viewBox="0 0 358 216" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros.html#grammar-DelimTokenTree">
<text class="comment" x="64" y="25">
DelimTokenTree</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 66 h 24 m 240 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55"/>
<text x="73" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 97 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 66 h 12 m 92 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -92 m 49 0 l 5 -5 m 0 10 l -5 -5 m -49 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros.html#railroad-TokenTree">
<g class="nonterminal">
<rect height="22" width="92" x="133" y="55"/>
<text x="179" y="71">
TokenTree</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="55"/>
<text x="285" y="71">
)</text>
</g>
<path d=" M 87 66 h 10"/>
<path d=" M 261 66 h 10"/>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 22 m 264 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 112 v 46 m 264 0 v -46"/>
<path d=" M 47 100 v 12 a 12 12 0 0 0 12 12 m 240 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="113"/>
<text x="73" y="129">
[</text>
</g>
<g class="optional">
<path d=" M 97 124 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 124 h 12 m 92 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -92 m 49 0 l 5 -5 m 0 10 l -5 -5 m -49 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros.html#railroad-TokenTree">
<g class="nonterminal">
<rect height="22" width="92" x="133" y="113"/>
<text x="179" y="129">
TokenTree</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="113"/>
<text x="285" y="129">
]</text>
</g>
<path d=" M 87 124 h 10"/>
<path d=" M 261 124 h 10"/>
</g>
<path d=" M 47 158 v 12 a 12 12 0 0 0 12 12 m 240 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="171"/>
<text x="73" y="187">
{</text>
</g>
<g class="optional">
<path d=" M 97 182 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 182 h 12 m 92 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -92 m 49 0 l 5 -5 m 0 10 l -5 -5 m -49 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros.html#railroad-TokenTree">
<g class="nonterminal">
<rect height="22" width="92" x="133" y="171"/>
<text x="179" y="187">
TokenTree</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="171"/>
<text x="285" y="187">
}</text>
</g>
<path d=" M 87 182 h 10"/>
<path d=" M 261 182 h 10"/>
</g>
</g>
<path d=" M 333 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 323 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 263px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TokenTree"><svg class="railroad" viewBox="0 0 263 151" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros.html#grammar-TokenTree">
<text class="comment" x="46" y="25">
TokenTree</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 89 h 24 m 145 0 h 24"/>
<g class="sequence">
<g class="labeledbox">
<rect height="66" width="145" x="59" y="42"/>
<path d=" M 59 89 h 8 m 60 0 h 77 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0"/>
<text class="comment" x="131" y="65">
except delimiters</text>
<a class="link" xlink:href="tokens.html#railroad-Token">
<g class="nonterminal">
<rect height="22" width="60" x="67" y="78"/>
<text x="97" y="94">
Token</text>
</g>
</a>
</g>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 169 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 132 0 h 13 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="macros.html#railroad-DelimTokenTree">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="119"/>
<text x="125" y="135">
DelimTokenTree</text>
</g>
</a>
</g>
<path d=" M 238 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 228 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 544px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroInvocationSemi"><svg class="railroad" viewBox="0 0 544 216" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros.html#grammar-MacroInvocationSemi">
<text class="comment" x="81" y="25">
MacroInvocationSemi</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 66 h 24 m 426 0 h 24"/>
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-SimplePath">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="55"/>
<text x="109" y="71">
SimplePath</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="55"/>
<text x="183" y="71">
!</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="55"/>
<text x="221" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 245 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 269 66 h 12 m 92 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -92 m 49 0 l 5 -5 m 0 10 l -5 -5 m -49 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros.html#railroad-TokenTree">
<g class="nonterminal">
<rect height="22" width="92" x="281" y="55"/>
<text x="327" y="71">
TokenTree</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="55"/>
<text x="433" y="71">
)</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="457" y="55"/>
<text x="471" y="71">
;</text>
</g>
<path d=" M 159 66 h 10"/>
<path d=" M 197 66 h 10"/>
<path d=" M 235 66 h 10"/>
<path d=" M 409 66 h 10"/>
<path d=" M 447 66 h 10"/>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 22 m 450 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 112 v 46 m 450 0 v -46"/>
<path d=" M 47 100 v 12 a 12 12 0 0 0 12 12 m 426 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-SimplePath">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="113"/>
<text x="109" y="129">
SimplePath</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="113"/>
<text x="183" y="129">
!</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="113"/>
<text x="221" y="129">
[</text>
</g>
<g class="optional">
<path d=" M 245 124 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 269 124 h 12 m 92 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -92 m 49 0 l 5 -5 m 0 10 l -5 -5 m -49 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros.html#railroad-TokenTree">
<g class="nonterminal">
<rect height="22" width="92" x="281" y="113"/>
<text x="327" y="129">
TokenTree</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="113"/>
<text x="433" y="129">
]</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="457" y="113"/>
<text x="471" y="129">
;</text>
</g>
<path d=" M 159 124 h 10"/>
<path d=" M 197 124 h 10"/>
<path d=" M 235 124 h 10"/>
<path d=" M 409 124 h 10"/>
<path d=" M 447 124 h 10"/>
</g>
<path d=" M 47 158 v 12 a 12 12 0 0 0 12 12 m 388 0 h 38 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-SimplePath">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="171"/>
<text x="109" y="187">
SimplePath</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="171"/>
<text x="183" y="187">
!</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="171"/>
<text x="221" y="187">
{</text>
</g>
<g class="optional">
<path d=" M 245 182 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 116 m -55 0 l -5 -5 m 0 10 l 5 -5 m 55 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 269 182 h 12 m 92 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -92 m 49 0 l 5 -5 m 0 10 l -5 -5 m -49 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros.html#railroad-TokenTree">
<g class="nonterminal">
<rect height="22" width="92" x="281" y="171"/>
<text x="327" y="187">
TokenTree</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="171"/>
<text x="433" y="187">
}</text>
</g>
<path d=" M 159 182 h 10"/>
<path d=" M 197 182 h 10"/>
<path d=" M 235 182 h 10"/>
<path d=" M 409 182 h 10"/>
</g>
</g>
<path d=" M 519 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 509 66 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-macro.invocation.intro"><a class="rule-link" href="macros.html#r-macro.invocation.intro" title="macro.invocation.intro"><span>[macro<wbr>.invocation<wbr>.intro]</span></a>
</div>
<p>A macro invocation expands a macro at compile time and replaces the
invocation with the result of the macro. Macros may be invoked in the
following situations:</p>
<div class="rule" id="r-macro.invocation.expr"><a class="rule-link" href="macros.html#r-macro.invocation.expr" title="macro.invocation.expr"><span>[macro<wbr>.invocation<wbr>.expr]</span></a>
</div>
<ul>
<li><a href="expressions.html">Expressions</a> and <a href="statements.html">statements</a></li>
</ul>
<div class="rule" id="r-macro.invocation.pattern"><a class="rule-link" href="macros.html#r-macro.invocation.pattern" title="macro.invocation.pattern"><span>[macro<wbr>.invocation<wbr>.pattern]</span></a>
</div>
<ul>
<li><a href="patterns.html">Patterns</a></li>
</ul>
<div class="rule" id="r-macro.invocation.type"><a class="rule-link" href="macros.html#r-macro.invocation.type" title="macro.invocation.type"><span>[macro<wbr>.invocation<wbr>.type]</span></a>
</div>
<ul>
<li><a href="types.html">Types</a></li>
</ul>
<div class="rule" id="r-macro.invocation.item"><a class="rule-link" href="macros.html#r-macro.invocation.item" title="macro.invocation.item"><span>[macro<wbr>.invocation<wbr>.item]</span></a>
</div>
<ul>
<li><a href="items.html">Items</a> including <a href="items/associated-items.html">associated items</a></li>
</ul>
<div class="rule" id="r-macro.invocation.nested"><a class="rule-link" href="macros.html#r-macro.invocation.nested" title="macro.invocation.nested"><span>[macro<wbr>.invocation<wbr>.nested]</span></a>
</div>
<ul>
<li><a href="macros-by-example.html"><code>macro_rules</code></a> transcribers</li>
</ul>
<div class="rule" id="r-macro.invocation.extern"><a class="rule-link" href="macros.html#r-macro.invocation.extern" title="macro.invocation.extern"><span>[macro<wbr>.invocation<wbr>.extern]</span></a>
</div>
<ul>
<li><a href="items/external-blocks.html">External blocks</a></li>
</ul>
<div class="rule" id="r-macro.invocation.item-statement"><a class="rule-link" href="macros.html#r-macro.invocation.item-statement" title="macro.invocation.item-statement"><span>[macro<wbr>.invocation<wbr>.item-statement]</span></a>
</div>
<p>When used as an item or a statement, the <a href="macros.html#grammar-MacroInvocationSemi">MacroInvocationSemi</a> form is used
where a semicolon is required at the end when not using curly braces.
<a href="visibility-and-privacy.html">Visibility qualifiers</a> are never allowed before a macro invocation or
<a href="macros-by-example.html"><code>macro_rules</code></a> definition.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Used as an expression.
let x = vec![1,2,3];

// Used as a statement.
println!("Hello!");

// Used in a pattern.
macro_rules! pat {
    ($i:ident) =&gt; (Some($i))
}

if let pat!(x) = Some(1) {
    assert_eq!(x, 1);
}

// Used in a type.
macro_rules! Tuple {
    { $A:ty, $B:ty } =&gt; { ($A, $B) };
}

type N2 = Tuple!(i32, i32);

// Used as an item.
<span class="boring">use std::cell::RefCell;
</span>thread_local!(static FOO: RefCell&lt;u32&gt; = RefCell::new(1));

// Used as an associated item.
macro_rules! const_maker {
    ($t:ty, $v:tt) =&gt; { const CONST: $t = $v; };
}
trait T {
    const_maker!{i32, 7}
}

// Macro calls within macros.
macro_rules! example {
    () =&gt; { println!("Macro call in a macro!") };
}
// Outer macro `example` is expanded, then inner macro `println` is expanded.
example!();
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-macro.decl"><a class="rule-link" href="macros-by-example.html#r-macro.decl" title="macro.decl"><span>[macro<wbr>.decl]</span></a>
</div>
<h1 id="macros-by-example"><a class="header" href="#macros-by-example">Macros by example</a></h1>
<div class="rule" id="r-macro.decl.syntax"><a class="rule-link" href="macros-by-example.html#r-macro.decl.syntax" title="macro.decl.syntax"><span>[macro<wbr>.decl<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-MacroRulesDefinition" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroRulesDefinition">MacroRulesDefinition</a></span> → <br />
    <span class="grammar-literal">macro_rules</span> <span class="grammar-literal">!</span> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRulesDef">MacroRulesDef</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroRulesDef" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroRulesDef">MacroRulesDef</a></span> → <br />
      <span class="grammar-literal">(</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRules">MacroRules</a></span> <span class="grammar-literal">)</span> <span class="grammar-literal">;</span> <br />
    | <span class="grammar-literal">[</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRules">MacroRules</a></span> <span class="grammar-literal">]</span> <span class="grammar-literal">;</span> <br />
    | <span class="grammar-literal">{</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRules">MacroRules</a></span> <span class="grammar-literal">}</span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroRules" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroRules">MacroRules</a></span> → <br />
    <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRule">MacroRule</a></span> ( <span class="grammar-literal">;</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRule">MacroRule</a></span> )<sup>*</sup> <span class="grammar-literal">;</span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroRule" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroRule">MacroRule</a></span> → <br />
    <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroMatcher">MacroMatcher</a></span> <span class="grammar-literal">=&gt;</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroTranscriber">MacroTranscriber</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroMatcher" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroMatcher">MacroMatcher</a></span> → <br />
      <span class="grammar-literal">(</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroMatch">MacroMatch</a></span><sup>*</sup> <span class="grammar-literal">)</span> <br />
    | <span class="grammar-literal">[</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroMatch">MacroMatch</a></span><sup>*</sup> <span class="grammar-literal">]</span> <br />
    | <span class="grammar-literal">{</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroMatch">MacroMatch</a></span><sup>*</sup> <span class="grammar-literal">}</span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroMatch" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroMatch">MacroMatch</a></span> → <br />
      <span class="grammar-text"><a href="tokens.html#grammar-Token">Token</a></span><sub class="grammar-text">except <code>$</code> and <a href="tokens.html#r-lex.token.delim">delimiters</a></sub> <br />
    | <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroMatcher">MacroMatcher</a></span> <br />
    | <span class="grammar-literal">$</span> ( <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span><sub class="grammar-text">except <code>crate</code></sub> | <span class="grammar-text"><a href="identifiers.html#grammar-RAW_IDENTIFIER">RAW_IDENTIFIER</a></span> | <span class="grammar-literal">_</span> ) <span class="grammar-literal">:</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroFragSpec">MacroFragSpec</a></span> <br />
    | <span class="grammar-literal">$</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroMatch">MacroMatch</a></span><sup>+</sup> <span class="grammar-literal">)</span> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRepSep">MacroRepSep</a></span><sup>?</sup> <span class="grammar-text"><a href="macros-by-example.html#grammar-MacroRepOp">MacroRepOp</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroFragSpec" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroFragSpec">MacroFragSpec</a></span> → <br />
      <span class="grammar-literal">block</span> | <span class="grammar-literal">expr</span> | <span class="grammar-literal">expr_2021</span> | <span class="grammar-literal">ident</span> | <span class="grammar-literal">item</span> | <span class="grammar-literal">lifetime</span> | <span class="grammar-literal">literal</span> <br />
    | <span class="grammar-literal">meta</span> | <span class="grammar-literal">pat</span> | <span class="grammar-literal">pat_param</span> | <span class="grammar-literal">path</span> | <span class="grammar-literal">stmt</span> | <span class="grammar-literal">tt</span> | <span class="grammar-literal">ty</span> | <span class="grammar-literal">vis</span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroRepSep" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroRepSep">MacroRepSep</a></span> → <span class="grammar-text"><a href="tokens.html#grammar-Token">Token</a></span><sub class="grammar-text">except <a href="tokens.html#r-lex.token.delim">delimiters</a> and <a href="macros-by-example.html#grammar-MacroRepOp">MacroRepOp</a></sub></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroRepOp" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroRepOp">MacroRepOp</a></span> → <span class="grammar-literal">*</span> | <span class="grammar-literal">+</span> | <span class="grammar-literal">?</span></p>
<p><span class="grammar-text grammar-production" id="grammar-MacroTranscriber" onclick="show_railroad()"><a href="macros-by-example.html#railroad-MacroTranscriber">MacroTranscriber</a></span> → <span class="grammar-text"><a href="macros.html#grammar-DelimTokenTree">DelimTokenTree</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 460px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroRulesDefinition"><svg class="railroad" viewBox="0 0 460 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroRulesDefinition">
<text class="comment" x="88" y="25">
MacroRulesDefinition</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="108" x="35" y="42"/>
<text x="89" y="58">
macro_rules</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="153" y="42"/>
<text x="167" y="58">
!</text>
</g>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="191" y="42"/>
<text x="241" y="58">
IDENTIFIER</text>
</g>
</a>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRulesDef">
<g class="nonterminal">
<rect height="22" width="124" x="301" y="42"/>
<text x="363" y="58">
MacroRulesDef</text>
</g>
</a>
<path d=" M 143 53 h 10"/>
<path d=" M 181 53 h 10"/>
<path d=" M 291 53 h 10"/>
</g>
<path d=" M 435 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 425 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 332px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroRulesDef"><svg class="railroad" viewBox="0 0 332 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroRulesDef">
<text class="comment" x="60" y="25">
MacroRulesDef</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 214 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="42"/>
<text x="73" y="58">
(</text>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRules">
<g class="nonterminal">
<rect height="22" width="100" x="97" y="42"/>
<text x="147" y="58">
MacroRules</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="42"/>
<text x="221" y="58">
)</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="42"/>
<text x="259" y="58">
;</text>
</g>
<path d=" M 87 53 h 10"/>
<path d=" M 197 53 h 10"/>
<path d=" M 235 53 h 10"/>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 238 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 238 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 214 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="75"/>
<text x="73" y="91">
[</text>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRules">
<g class="nonterminal">
<rect height="22" width="100" x="97" y="75"/>
<text x="147" y="91">
MacroRules</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="75"/>
<text x="221" y="91">
]</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="75"/>
<text x="259" y="91">
;</text>
</g>
<path d=" M 87 86 h 10"/>
<path d=" M 197 86 h 10"/>
<path d=" M 235 86 h 10"/>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 176 0 h 38 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="108"/>
<text x="73" y="124">
{</text>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRules">
<g class="nonterminal">
<rect height="22" width="100" x="97" y="108"/>
<text x="147" y="124">
MacroRules</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="108"/>
<text x="221" y="124">
}</text>
</g>
<path d=" M 87 119 h 10"/>
<path d=" M 197 119 h 10"/>
</g>
</g>
<path d=" M 307 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 297 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 460px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroRules"><svg class="railroad" viewBox="0 0 460 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroRules">
<text class="comment" x="50" y="25">
MacroRules</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRule">
<g class="nonterminal">
<rect height="22" width="92" x="35" y="55"/>
<text x="81" y="71">
MacroRule</text>
</g>
</a>
<g class="optional">
<path d=" M 137 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 154 m -74 0 l -5 -5 m 0 10 l 5 -5 m 74 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 161 66 h 12 m 130 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -130 m 68 0 l 5 -5 m 0 10 l -5 -5 m -68 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="55"/>
<text x="187" y="71">
;</text>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRule">
<g class="nonterminal">
<rect height="22" width="92" x="211" y="55"/>
<text x="257" y="71">
MacroRule</text>
</g>
</a>
<path d=" M 201 66 h 10"/>
</g>
</g>
</g>
<g class="optional">
<path d=" M 349 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="373" y="55"/>
<text x="387" y="71">
;</text>
</g>
</g>
<path d=" M 127 66 h 10"/>
<path d=" M 339 66 h 10"/>
</g>
<path d=" M 435 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 425 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 390px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroRule"><svg class="railroad" viewBox="0 0 390 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroRule">
<text class="comment" x="46" y="25">
MacroRule</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="macros-by-example.html#railroad-MacroMatcher">
<g class="nonterminal">
<rect height="22" width="116" x="35" y="42"/>
<text x="93" y="58">
MacroMatcher</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="161" y="42"/>
<text x="179" y="58">
=&gt;</text>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroTranscriber">
<g class="nonterminal">
<rect height="22" width="148" x="207" y="42"/>
<text x="281" y="58">
MacroTranscriber</text>
</g>
</a>
<path d=" M 151 53 h 10"/>
<path d=" M 197 53 h 10"/>
</g>
<path d=" M 365 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 355 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 366px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroMatcher"><svg class="railroad" viewBox="0 0 366 216" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroMatcher">
<text class="comment" x="57" y="25">
MacroMatcher</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 66 h 24 m 248 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55"/>
<text x="73" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 97 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 66 h 12 m 100 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -100 m 53 0 l 5 -5 m 0 10 l -5 -5 m -53 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroMatch">
<g class="nonterminal">
<rect height="22" width="100" x="133" y="55"/>
<text x="183" y="71">
MacroMatch</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="279" y="55"/>
<text x="293" y="71">
)</text>
</g>
<path d=" M 87 66 h 10"/>
<path d=" M 269 66 h 10"/>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 22 m 272 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 112 v 46 m 272 0 v -46"/>
<path d=" M 47 100 v 12 a 12 12 0 0 0 12 12 m 248 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="113"/>
<text x="73" y="129">
[</text>
</g>
<g class="optional">
<path d=" M 97 124 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 124 h 12 m 100 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -100 m 53 0 l 5 -5 m 0 10 l -5 -5 m -53 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroMatch">
<g class="nonterminal">
<rect height="22" width="100" x="133" y="113"/>
<text x="183" y="129">
MacroMatch</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="279" y="113"/>
<text x="293" y="129">
]</text>
</g>
<path d=" M 87 124 h 10"/>
<path d=" M 269 124 h 10"/>
</g>
<path d=" M 47 158 v 12 a 12 12 0 0 0 12 12 m 248 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="171"/>
<text x="73" y="187">
{</text>
</g>
<g class="optional">
<path d=" M 97 182 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 182 h 12 m 100 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -100 m 53 0 l 5 -5 m 0 10 l -5 -5 m -53 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroMatch">
<g class="nonterminal">
<rect height="22" width="100" x="133" y="171"/>
<text x="183" y="187">
MacroMatch</text>
</g>
</a>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="279" y="171"/>
<text x="293" y="187">
}</text>
</g>
<path d=" M 87 182 h 10"/>
<path d=" M 269 182 h 10"/>
</g>
</g>
<path d=" M 341 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 331 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 632px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroMatch"><svg class="railroad" viewBox="0 0 632 351" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroMatch">
<text class="comment" x="50" y="25">
MacroMatch</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 89 h 24 m 208 0 h 330 m -162 0 l -5 -5 m 0 10 l 5 -5 m 162 0"/>
<g class="sequence">
<g class="labeledbox">
<rect height="66" width="208" x="59" y="42"/>
<path d=" M 59 89 h 8 m 60 0 h 140 m -67 0 l -5 -5 m 0 10 l 5 -5 m 67 0"/>
<text class="comment" x="163" y="65">
except `$` and delimiters</text>
<a class="link" xlink:href="tokens.html#railroad-Token">
<g class="nonterminal">
<rect height="22" width="60" x="67" y="78"/>
<text x="97" y="94">
Token</text>
</g>
</a>
</g>
</g>
<path d=" M 35 89 a 12 12 0 0 1 12 12 v 17 m 538 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 118 v 33 m 538 0 v -33"/>
<path d=" M 47 186 v 107 m 0 -50 l -5 -5 m 10 0 l -5 5 m 0 50 m 538 0 v -107 m 0 56 l -5 5 m 10 0 l -5 -5 m 0 -56"/>
<path d=" M 47 118 v 0 a 12 12 0 0 0 12 12 m 116 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="macros-by-example.html#railroad-MacroMatcher">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="119"/>
<text x="117" y="135">
MacroMatcher</text>
</g>
</a>
</g>
<path d=" M 47 151 v 35 a 12 12 0 0 0 12 12 m 470 0 h 44 a 12 12 0 0 0 12 -12 v -35"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="187"/>
<text x="73" y="203">
$</text>
</g>
<g class="choice">
<path d=" M 97 198 h 24 m 212 0 h 24"/>
<g class="labeledbox">
<rect height="66" width="212" x="121" y="151"/>
<path d=" M 121 198 h 8 m 196 0 h 8"/>
<text class="comment" x="183" y="174">
except `crate`</text>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="129" y="187"/>
<text x="227" y="203">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
</g>
<path d=" M 97 198 a 12 12 0 0 1 12 12 v 17 m 236 0 v -17 a 12 12 0 0 1 12 -12"/>
<path d=" M 109 227 v 33 m 236 0 v -33"/>
<path d=" M 109 227 v 0 a 12 12 0 0 0 12 12 m 132 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="identifiers.html#railroad-RAW_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="132" x="121" y="228"/>
<text x="187" y="244">
RAW_IDENTIFIER</text>
</g>
</a>
<path d=" M 109 260 v 0 a 12 12 0 0 0 12 12 m 28 0 h 184 m -89 0 l -5 -5 m 0 10 l 5 -5 m 89 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="261"/>
<text x="135" y="277">
_</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="367" y="187"/>
<text x="381" y="203">
:</text>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroFragSpec">
<g class="nonterminal">
<rect height="22" width="124" x="405" y="187"/>
<text x="467" y="203">
MacroFragSpec</text>
</g>
</a>
<path d=" M 87 198 h 10"/>
<path d=" M 357 198 h 10"/>
<path d=" M 395 198 h 10"/>
</g>
<path d=" M 47 293 v 12 a 12 12 0 0 0 12 12 m 514 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="306"/>
<text x="73" y="322">
$</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="306"/>
<text x="111" y="322">
(</text>
</g>
<g class="repeat">
<path d=" M 135 317 h 12 m 100 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -100 m 53 0 l 5 -5 m 0 10 l -5 -5 m -53 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroMatch">
<g class="nonterminal">
<rect height="22" width="100" x="147" y="306"/>
<text x="197" y="322">
MacroMatch</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="269" y="306"/>
<text x="283" y="322">
)</text>
</g>
<g class="optional">
<path d=" M 307 317 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRepSep">
<g class="nonterminal">
<rect height="22" width="108" x="331" y="306"/>
<text x="385" y="322">
MacroRepSep</text>
</g>
</a>
</g>
<a class="link" xlink:href="macros-by-example.html#railroad-MacroRepOp">
<g class="nonterminal">
<rect height="22" width="100" x="473" y="306"/>
<text x="523" y="322">
MacroRepOp</text>
</g>
</a>
<path d=" M 87 317 h 10"/>
<path d=" M 125 317 h 10"/>
<path d=" M 259 317 h 10"/>
<path d=" M 297 317 h 10"/>
<path d=" M 463 317 h 10"/>
</g>
</g>
<path d=" M 607 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 597 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 210px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroFragSpec"><svg class="railroad" viewBox="0 0 210 536" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroFragSpec">
<text class="comment" x="60" y="25">
MacroFragSpec</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 60 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="42"/>
<text x="89" y="58">
block</text>
</g>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 116 0 v -33"/>
<path d=" M 47 107 v 33 m 116 0 v -33"/>
<path d=" M 47 140 v 33 m 116 0 v -33"/>
<path d=" M 47 173 v 33 m 116 0 v -33"/>
<path d=" M 47 206 v 33 m 116 0 v -33"/>
<path d=" M 47 239 v 33 m 116 0 v -33"/>
<path d=" M 47 272 v 33 m 116 0 v -33"/>
<path d=" M 47 305 v 33 m 116 0 v -33"/>
<path d=" M 47 338 v 33 m 116 0 v -33"/>
<path d=" M 47 371 v 33 m 116 0 v -33"/>
<path d=" M 47 404 v 33 m 116 0 v -33"/>
<path d=" M 47 437 v 33 m 116 0 v -33"/>
<path d=" M 47 470 v 33 m 116 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 52 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="75"/>
<text x="85" y="91">
expr</text>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 92 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="92" x="59" y="108"/>
<text x="105" y="124">
expr_2021</text>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 60 0 h 32 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="141"/>
<text x="89" y="157">
ident</text>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 52 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="174"/>
<text x="85" y="190">
item</text>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 84 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="207"/>
<text x="101" y="223">
lifetime</text>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 76 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="76" x="59" y="240"/>
<text x="97" y="256">
literal</text>
</g>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 52 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="273"/>
<text x="85" y="289">
meta</text>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 44 0 h 48 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="306"/>
<text x="81" y="322">
pat</text>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 92 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="92" x="59" y="339"/>
<text x="105" y="355">
pat_param</text>
</g>
<path d=" M 47 371 v 0 a 12 12 0 0 0 12 12 m 52 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="372"/>
<text x="85" y="388">
path</text>
</g>
<path d=" M 47 404 v 0 a 12 12 0 0 0 12 12 m 52 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="405"/>
<text x="85" y="421">
stmt</text>
</g>
<path d=" M 47 437 v 0 a 12 12 0 0 0 12 12 m 36 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="438"/>
<text x="77" y="454">
tt</text>
</g>
<path d=" M 47 470 v 0 a 12 12 0 0 0 12 12 m 36 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="471"/>
<text x="77" y="487">
ty</text>
</g>
<path d=" M 47 503 v 0 a 12 12 0 0 0 12 12 m 44 0 h 48 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="504"/>
<text x="81" y="520">
vis</text>
</g>
</g>
<path d=" M 185 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 175 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 327px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroRepSep"><svg class="railroad" viewBox="0 0 327 118" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroRepSep">
<text class="comment" x="53" y="25">
MacroRepSep</text>
</a>
<g class="sequence">
<path d=" M 10 89 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="labeledbox">
<rect height="66" width="257" x="35" y="42"/>
<path d=" M 35 89 h 8 m 60 0 h 189 m -91 0 l -5 -5 m 0 10 l 5 -5 m 91 0"/>
<text class="comment" x="163" y="65">
except delimiters and MacroRepOp</text>
<a class="link" xlink:href="tokens.html#railroad-Token">
<g class="nonterminal">
<rect height="22" width="60" x="43" y="78"/>
<text x="73" y="94">
Token</text>
</g>
</a>
</g>
<path d=" M 302 89 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 89 h 10"/>
<path d=" M 292 89 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 146px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroRepOp"><svg class="railroad" viewBox="0 0 146 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroRepOp">
<text class="comment" x="50" y="25">
MacroRepOp</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 28 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="42"/>
<text x="73" y="58">
*</text>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 52 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 52 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="75"/>
<text x="73" y="91">
+</text>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 28 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="108"/>
<text x="73" y="124">
?</text>
</g>
</g>
<path d=" M 121 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 111 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 202px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-MacroTranscriber"><svg class="railroad" viewBox="0 0 202 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="macros-by-example.html#grammar-MacroTranscriber">
<text class="comment" x="71" y="25">
MacroTranscriber</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<a class="link" xlink:href="macros.html#railroad-DelimTokenTree">
<g class="nonterminal">
<rect height="22" width="132" x="35" y="42"/>
<text x="101" y="58">
DelimTokenTree</text>
</g>
</a>
<path d=" M 177 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 167 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-macro.decl.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.intro" title="macro.decl.intro"><span>[macro<wbr>.decl<wbr>.intro]</span></a>
</div>
<p><code>macro_rules</code> allows users to define syntax extension in a declarative way.  We
call such extensions “macros by example” or simply “macros”.</p>
<p>Each macro by example has a name, and one or more <em>rules</em>. Each rule has two
parts: a <em>matcher</em>, describing the syntax that it matches, and a <em>transcriber</em>,
describing the syntax that will replace a successfully matched invocation. Both
the matcher and the transcriber must be surrounded by delimiters. Macros can
expand to expressions, statements, items (including traits, impls, and foreign
items), types, or patterns.</p>
<div class="rule" id="r-macro.decl.transcription"><a class="rule-link" href="macros-by-example.html#r-macro.decl.transcription" title="macro.decl.transcription"><span>[macro<wbr>.decl<wbr>.transcription]</span></a>
</div>
<h2 id="transcribing"><a class="header" href="#transcribing">Transcribing</a></h2>
<div class="rule" id="r-macro.decl.transcription.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.transcription.intro" title="macro.decl.transcription.intro"><span>[macro<wbr>.decl<wbr>.transcription<wbr>.intro]</span></a>
</div>
<p>When a macro is invoked, the macro expander looks up macro invocations by name,
and tries each macro rule in turn. It transcribes the first successful match; if
this results in an error, then future matches are not tried.</p>
<div class="rule" id="r-macro.decl.transcription.lookahead"><a class="rule-link" href="macros-by-example.html#r-macro.decl.transcription.lookahead" title="macro.decl.transcription.lookahead"><span>[macro<wbr>.decl<wbr>.transcription<wbr>.lookahead]</span></a>
</div>
<p>When matching, no lookahead is performed; if the compiler cannot unambiguously determine how to
parse the macro invocation one token at a time, then it is an error. In the
following example, the compiler does not look ahead past the identifier to see
if the following token is a <code>)</code>, even though that would allow it to parse the
invocation unambiguously:</p>
<pre><pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! ambiguity {
    ($($i:ident)* $j:ident) =&gt; { };
}

ambiguity!(error); // Error: local ambiguity
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.transcription.syntax"><a class="rule-link" href="macros-by-example.html#r-macro.decl.transcription.syntax" title="macro.decl.transcription.syntax"><span>[macro<wbr>.decl<wbr>.transcription<wbr>.syntax]</span></a>
</div>
<p>In both the matcher and the transcriber, the <code>$</code> token is used to invoke special
behaviours from the macro engine (described below in <a href="macros-by-example.html#metavariables">Metavariables</a> and
<a href="macros-by-example.html#repetitions">Repetitions</a>). Tokens that aren’t part of such an invocation are matched and
transcribed literally, with one exception. The exception is that the outer
delimiters for the matcher will match any pair of delimiters. Thus, for
instance, the matcher <code>(())</code> will match <code>{()}</code> but not <code>{{}}</code>. The character
<code>$</code> cannot be matched or transcribed literally.</p>
<div class="rule" id="r-macro.decl.transcription.fragment"><a class="rule-link" href="macros-by-example.html#r-macro.decl.transcription.fragment" title="macro.decl.transcription.fragment"><span>[macro<wbr>.decl<wbr>.transcription<wbr>.fragment]</span></a>
</div>
<h3 id="forwarding-a-matched-fragment"><a class="header" href="#forwarding-a-matched-fragment">Forwarding a matched fragment</a></h3>
<p>When forwarding a matched fragment to another macro-by-example, matchers in
the second macro will see an opaque AST of the fragment type. The second macro
can’t use literal tokens to match the fragments in the matcher, only a
fragment specifier of the same type. The <code>ident</code>, <code>lifetime</code>, and <code>tt</code>
fragment types are an exception, and <em>can</em> be matched by literal tokens. The
following illustrates this restriction:</p>
<pre><pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! foo {
    ($l:expr) =&gt; { bar!($l); }
// ERROR:               ^^ no rules expected this token in macro call
}

macro_rules! bar {
    (3) =&gt; {}
}

foo!(3);
<span class="boring">}</span></code></pre></pre>
<p>The following illustrates how tokens can be directly matched after matching a
<code>tt</code> fragment:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// compiles OK
macro_rules! foo {
    ($l:tt) =&gt; { bar!($l); }
}

macro_rules! bar {
    (3) =&gt; {}
}

foo!(3);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.meta"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta" title="macro.decl.meta"><span>[macro<wbr>.decl<wbr>.meta]</span></a>
</div>
<h2 id="metavariables"><a class="header" href="#metavariables">Metavariables</a></h2>
<div class="rule" id="r-macro.decl.meta.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta.intro" title="macro.decl.meta.intro"><span>[macro<wbr>.decl<wbr>.meta<wbr>.intro]</span></a>
</div>
<p>In the matcher, <code>$</code> <em>name</em> <code>:</code> <em>fragment-specifier</em> matches a Rust syntax
fragment of the kind specified and binds it to the metavariable <code>$</code><em>name</em>.</p>
<div class="rule" id="r-macro.decl.meta.specifier"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta.specifier" title="macro.decl.meta.specifier"><span>[macro<wbr>.decl<wbr>.meta<wbr>.specifier]</span></a>
</div>
<p>Valid fragment specifiers are:</p>
<ul>
<li><code>block</code>: a <a href="expressions/block-expr.html#grammar-BlockExpression">BlockExpression</a></li>
<li><code>expr</code>: an <a href="expressions.html#grammar-Expression">Expression</a></li>
<li><code>expr_2021</code>: an <a href="expressions.html#grammar-Expression">Expression</a> except <a href="expressions/underscore-expr.html#grammar-UnderscoreExpression">UnderscoreExpression</a> and <a href="expressions/block-expr.html#grammar-ConstBlockExpression">ConstBlockExpression</a> (see <a href="macros-by-example.html#r-macro.decl.meta.edition2024">macro.decl.meta.edition2024</a>)</li>
<li><code>ident</code>: an <a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a>, <a href="identifiers.html#grammar-RAW_IDENTIFIER">RAW_IDENTIFIER</a>, or <a href="macros-by-example.html#r-macro.decl.hygiene.crate"><code>$crate</code></a></li>
<li><code>item</code>: an <a href="items.html#grammar-Item">Item</a></li>
<li><code>lifetime</code>: a <a href="tokens.html#grammar-LIFETIME_TOKEN">LIFETIME_TOKEN</a></li>
<li><code>literal</code>: matches <code>-</code><sup>?</sup><a href="expressions/literal-expr.html#grammar-LiteralExpression">LiteralExpression</a></li>
<li><code>meta</code>: an <a href="attributes.html#grammar-Attr">Attr</a>, the contents of an attribute</li>
<li><code>pat</code>: a <a href="patterns.html#grammar-Pattern">Pattern</a> (see <a href="macros-by-example.html#r-macro.decl.meta.edition2021">macro.decl.meta.edition2021</a>)</li>
<li><code>pat_param</code>: a <a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></li>
<li><code>path</code>: a <a href="paths.html#grammar-TypePath">TypePath</a> style path</li>
<li><code>stmt</code>: a <a href="statements.html#grammar-Statement">Statement</a> without the trailing semicolon (except for item statements that require semicolons)</li>
<li><code>tt</code>: a <a href="macros.html#grammar-TokenTree">TokenTree</a> (a single <a href="tokens.html">token</a> or tokens in matching delimiters <code>()</code>, <code>[]</code>, or <code>{}</code>)</li>
<li><code>ty</code>: a <a href="types.html#grammar-Type">Type</a></li>
<li><code>vis</code>: a possibly empty <a href="visibility-and-privacy.html#grammar-Visibility">Visibility</a> qualifier</li>
</ul>
<div class="rule" id="r-macro.decl.meta.transcription"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta.transcription" title="macro.decl.meta.transcription"><span>[macro<wbr>.decl<wbr>.meta<wbr>.transcription]</span></a>
</div>
<p>In the transcriber, metavariables are referred to simply by <code>$</code><em>name</em>, since
the fragment kind is specified in the matcher. Metavariables are replaced with
the syntax element that matched them.
Metavariables can be transcribed more than once or not at all.</p>
<div class="rule" id="r-macro.decl.meta.dollar-crate"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta.dollar-crate" title="macro.decl.meta.dollar-crate"><span>[macro<wbr>.decl<wbr>.meta<wbr>.dollar-crate]</span></a>
</div>
<p>The keyword metavariable <a href="macros-by-example.html#r-macro.decl.hygiene.crate"><code>$crate</code></a> can be used to refer to the current crate.</p>
<div class="rule" id="r-macro.decl.meta.edition2021"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta.edition2021" title="macro.decl.meta.edition2021"><span>[macro<wbr>.decl<wbr>.meta<wbr>.edition2021]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>
<p>Starting with the 2021 edition, <code>pat</code> fragment-specifiers match top-level or-patterns (that is, they accept <a href="patterns.html#grammar-Pattern">Pattern</a>).</p>
<p>Before the 2021 edition, they match exactly the same fragments as <code>pat_param</code> (that is, they accept <a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a>).</p>
<p>The relevant edition is the one in effect for the <code>macro_rules!</code> definition.</p>
</blockquote>
</div>
<div class="rule" id="r-macro.decl.meta.edition2024"><a class="rule-link" href="macros-by-example.html#r-macro.decl.meta.edition2024" title="macro.decl.meta.edition2024"><span>[macro<wbr>.decl<wbr>.meta<wbr>.edition2024]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>
<p>Before the 2024 edition, <code>expr</code> fragment specifiers do not match <a href="expressions/underscore-expr.html#grammar-UnderscoreExpression">UnderscoreExpression</a> or <a href="expressions/block-expr.html#grammar-ConstBlockExpression">ConstBlockExpression</a> at the top level. They are allowed within subexpressions.</p>
<p>The <code>expr_2021</code> fragment specifier exists to maintain backwards compatibility with editions before 2024.</p>
</blockquote>
</div>
<div class="rule" id="r-macro.decl.repetition"><a class="rule-link" href="macros-by-example.html#r-macro.decl.repetition" title="macro.decl.repetition"><span>[macro<wbr>.decl<wbr>.repetition]</span></a>
</div>
<h2 id="repetitions"><a class="header" href="#repetitions">Repetitions</a></h2>
<div class="rule" id="r-macro.decl.repetition.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.repetition.intro" title="macro.decl.repetition.intro"><span>[macro<wbr>.decl<wbr>.repetition<wbr>.intro]</span></a>
</div>
<p>In both the matcher and transcriber, repetitions are indicated by placing the
tokens to be repeated inside <code>$(</code>…<code>)</code>, followed by a repetition operator,
optionally with a separator token between.</p>
<div class="rule" id="r-macro.decl.repetition.separator"><a class="rule-link" href="macros-by-example.html#r-macro.decl.repetition.separator" title="macro.decl.repetition.separator"><span>[macro<wbr>.decl<wbr>.repetition<wbr>.separator]</span></a>
</div>
<p>The separator token can be any token
other than a delimiter or one of the repetition operators, but <code>;</code> and <code>,</code> are
the most common. For instance, <code>$( $i:ident ),*</code> represents any number of
identifiers separated by commas. Nested repetitions are permitted.</p>
<div class="rule" id="r-macro.decl.repetition.operators"><a class="rule-link" href="macros-by-example.html#r-macro.decl.repetition.operators" title="macro.decl.repetition.operators"><span>[macro<wbr>.decl<wbr>.repetition<wbr>.operators]</span></a>
</div>
<p>The repetition operators are:</p>
<ul>
<li><code>*</code> — indicates any number of repetitions.</li>
<li><code>+</code> — indicates any number but at least one.</li>
<li><code>?</code> — indicates an optional fragment with zero or one occurrence.</li>
</ul>
<div class="rule" id="r-macro.decl.repetition.optional-restriction"><a class="rule-link" href="macros-by-example.html#r-macro.decl.repetition.optional-restriction" title="macro.decl.repetition.optional-restriction"><span>[macro<wbr>.decl<wbr>.repetition<wbr>.optional-restriction]</span></a>
</div>
<p>Since <code>?</code> represents at most one occurrence, it cannot be used with a
separator.</p>
<div class="rule" id="r-macro.decl.repetition.fragment"><a class="rule-link" href="macros-by-example.html#r-macro.decl.repetition.fragment" title="macro.decl.repetition.fragment"><span>[macro<wbr>.decl<wbr>.repetition<wbr>.fragment]</span></a>
</div>
<p>The repeated fragment both matches and transcribes to the specified number of
the fragment, separated by the separator token. Metavariables are matched to
every repetition of their corresponding fragment. For instance, the <code>$( $i:ident ),*</code> example above matches <code>$i</code> to all of the identifiers in the list.</p>
<p>During transcription, additional restrictions apply to repetitions so that the
compiler knows how to expand them properly:</p>
<ol>
<li>A metavariable must appear in exactly the same number, kind, and nesting
order of repetitions in the transcriber as it did in the matcher. So for the
matcher <code>$( $i:ident ),*</code>, the transcribers <code>=&gt; { $i }</code>,
<code>=&gt; { $( $( $i)* )* }</code>, and <code>=&gt; { $( $i )+ }</code> are all illegal, but
<code>=&gt; { $( $i );* }</code> is correct and replaces a comma-separated list of
identifiers with a semicolon-separated list.</li>
<li>Each repetition in the transcriber must contain at least one metavariable to
decide how many times to expand it. If multiple metavariables appear in the
same repetition, they must be bound to the same number of fragments. For
instance, <code>( $( $i:ident ),* ; $( $j:ident ),* ) =&gt; (( $( ($i,$j) ),* ))</code> must
bind the same number of <code>$i</code> fragments as <code>$j</code> fragments. This means that
invoking the macro with <code>(a, b, c; d, e, f)</code> is legal and expands to
<code>((a,d), (b,e), (c,f))</code>, but <code>(a, b, c; d, e)</code> is illegal because it does
not have the same number. This requirement applies to every layer of nested
repetitions.</li>
</ol>
<div class="rule" id="r-macro.decl.scope"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope" title="macro.decl.scope"><span>[macro<wbr>.decl<wbr>.scope]</span></a>
</div>
<h2 id="scoping-exporting-and-importing"><a class="header" href="#scoping-exporting-and-importing">Scoping, exporting, and importing</a></h2>
<div class="rule" id="r-macro.decl.scope.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.intro" title="macro.decl.scope.intro"><span>[macro<wbr>.decl<wbr>.scope<wbr>.intro]</span></a>
</div>
<p>For historical reasons, the scoping of macros by example does not work entirely
like items. Macros have two forms of scope: textual scope, and path-based scope.
Textual scope is based on the order that things appear in source files, or even
across multiple files, and is the default scoping. It is explained further below.
Path-based scope works exactly the same way that item scoping does. The scoping,
exporting, and importing of macros is controlled largely by attributes.</p>
<div class="rule" id="r-macro.decl.scope.unqualified"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.unqualified" title="macro.decl.scope.unqualified"><span>[macro<wbr>.decl<wbr>.scope<wbr>.unqualified]</span></a>
</div>
<p>When a macro is invoked by an unqualified identifier (not part of a multi-part
path), it is first looked up in textual scoping. If this does not yield any
results, then it is looked up in path-based scoping. If the macro’s name is
qualified with a path, then it is only looked up in path-based scoping.</p>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">use lazy_static::lazy_static; // Path-based import.

macro_rules! lazy_static { // Textual definition.
    (lazy) =&gt; {};
}

lazy_static!{lazy} // Textual lookup finds our macro first.
self::lazy_static!{} // Path-based lookup ignores our macro, finds imported one.</code></pre>
<div class="rule" id="r-macro.decl.scope.textual"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.textual" title="macro.decl.scope.textual"><span>[macro<wbr>.decl<wbr>.scope<wbr>.textual]</span></a>
</div>
<h3 id="textual-scope"><a class="header" href="#textual-scope">Textual scope</a></h3>
<div class="rule" id="r-macro.decl.scope.textual.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.textual.intro" title="macro.decl.scope.textual.intro"><span>[macro<wbr>.decl<wbr>.scope<wbr>.textual<wbr>.intro]</span></a>
</div>
<p>Textual scope is based largely on the order that things appear in source files,
and works similarly to the scope of local variables declared with <code>let</code> except
it also applies at the module level. When <code>macro_rules!</code> is used to define a
macro, the macro enters the scope after the definition (note that it can still
be used recursively, since names are looked up from the invocation site), up
until its surrounding scope, typically a module, is closed. This can enter child
modules and even span across multiple files:</p>
<!-- ignore: requires external modules -->
<pre><code class="language-rust ignore">//// src/lib.rs
mod has_macro {
    // m!{} // Error: m is not in scope.

    macro_rules! m {
        () =&gt; {};
    }
    m!{} // OK: appears after declaration of m.

    mod uses_macro;
}

// m!{} // Error: m is not in scope.

//// src/has_macro/uses_macro.rs

m!{} // OK: appears after declaration of m in src/lib.rs</code></pre>
<div class="rule" id="r-macro.decl.scope.textual.shadow"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.textual.shadow" title="macro.decl.scope.textual.shadow"><span>[macro<wbr>.decl<wbr>.scope<wbr>.textual<wbr>.shadow]</span></a>
</div>
<p>It is not an error to define a macro multiple times; the most recent declaration
will shadow the previous one unless it has gone out of scope.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! m {
    (1) =&gt; {};
}

m!(1);

mod inner {
    m!(1);

    macro_rules! m {
        (2) =&gt; {};
    }
    // m!(1); // Error: no rule matches '1'
    m!(2);

    macro_rules! m {
        (3) =&gt; {};
    }
    m!(3);
}

m!(1);
<span class="boring">}</span></code></pre></pre>
<p>Macros can be declared and used locally inside functions as well, and work
similarly:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn foo() {
    // m!(); // Error: m is not in scope.
    macro_rules! m {
        () =&gt; {};
    }
    m!();
}

// m!(); // Error: m is not in scope.
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.scope.macro_use"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.macro_use" title="macro.decl.scope.macro_use"><span>[macro<wbr>.decl<wbr>.scope<wbr>.macro_use]</span></a>
</div>
<h3 id="the-macro_use-attribute"><a class="header" href="#the-macro_use-attribute">The <code>macro_use</code> attribute</a></h3>
<div class="rule" id="r-macro.decl.scope.macro_use.mod-decl"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.macro_use.mod-decl" title="macro.decl.scope.macro_use.mod-decl"><span>[macro<wbr>.decl<wbr>.scope<wbr>.macro_use<wbr>.mod-decl]</span></a>
</div>
<p>The <em><code>macro_use</code> attribute</em> has two purposes. First, it can be used to make a
module’s macro scope not end when the module is closed, by applying it to a
module:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[macro_use]
mod inner {
    macro_rules! m {
        () =&gt; {};
    }
}

m!();
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.scope.macro_use.prelude"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.macro_use.prelude" title="macro.decl.scope.macro_use.prelude"><span>[macro<wbr>.decl<wbr>.scope<wbr>.macro_use<wbr>.prelude]</span></a>
</div>
<p>Second, it can be used to import macros from another crate, by attaching it to
an <code>extern crate</code> declaration appearing in the crate’s root module. Macros
imported this way are imported into the <a href="names/preludes.html#macro_use-prelude"><code>macro_use</code> prelude</a>, not textually,
which means that they can be shadowed by any other name. While macros imported
by <code>#[macro_use]</code> can be used before the import statement, in case of a
conflict, the last macro imported wins. Optionally, a list of macros to import
can be specified using the <a href="attributes.html#grammar-MetaListIdents">MetaListIdents</a> syntax; this is not supported
when <code>#[macro_use]</code> is applied to a module.</p>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">#[macro_use(lazy_static)] // Or #[macro_use] to import all macros.
extern crate lazy_static;

lazy_static!{}
// self::lazy_static!{} // Error: lazy_static is not defined in `self`</code></pre>
<div class="rule" id="r-macro.decl.scope.macro_use.export"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.macro_use.export" title="macro.decl.scope.macro_use.export"><span>[macro<wbr>.decl<wbr>.scope<wbr>.macro_use<wbr>.export]</span></a>
</div>
<p>Macros to be imported with <code>#[macro_use]</code> must be exported with
<code>#[macro_export]</code>, which is described below.</p>
<div class="rule" id="r-macro.decl.scope.path"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.path" title="macro.decl.scope.path"><span>[macro<wbr>.decl<wbr>.scope<wbr>.path]</span></a>
</div>
<h3 id="path-based-scope"><a class="header" href="#path-based-scope">Path-based scope</a></h3>
<div class="rule" id="r-macro.decl.scope.path.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.path.intro" title="macro.decl.scope.path.intro"><span>[macro<wbr>.decl<wbr>.scope<wbr>.path<wbr>.intro]</span></a>
</div>
<p>By default, a macro has no path-based scope. However, if it has the
<code>#[macro_export]</code> attribute, then it is declared in the crate root scope and can
be referred to normally as such:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>self::m!();
m!(); // OK: Path-based lookup finds m in the current module.

mod inner {
    super::m!();
    crate::m!();
}

mod mac {
    #[macro_export]
    macro_rules! m {
        () =&gt; {};
    }
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.scope.path.export"><a class="rule-link" href="macros-by-example.html#r-macro.decl.scope.path.export" title="macro.decl.scope.path.export"><span>[macro<wbr>.decl<wbr>.scope<wbr>.path<wbr>.export]</span></a>
</div>
<p>Macros labeled with <code>#[macro_export]</code> are always <code>pub</code> and can be referred to
by other crates, either by path or by <code>#[macro_use]</code> as described above.</p>
<div class="rule" id="r-macro.decl.hygiene"><a class="rule-link" href="macros-by-example.html#r-macro.decl.hygiene" title="macro.decl.hygiene"><span>[macro<wbr>.decl<wbr>.hygiene]</span></a>
</div>
<h2 id="hygiene"><a class="header" href="#hygiene">Hygiene</a></h2>
<div class="rule" id="r-macro.decl.hygiene.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.hygiene.intro" title="macro.decl.hygiene.intro"><span>[macro<wbr>.decl<wbr>.hygiene<wbr>.intro]</span></a>
</div>
<p>Macros by example have <em>mixed-site hygiene</em>. This means that <a href="expressions/loop-expr.html#loop-labels">loop labels</a>, <a href="expressions/loop-expr.html#labelled-block-expressions">block labels</a>, and local variables are looked up at the macro definition site while other symbols are looked up at the macro invocation site. For example:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 1;
fn func() {
    unreachable!("this is never called")
}

macro_rules! check {
    () =&gt; {
        assert_eq!(x, 1); // Uses `x` from the definition site.
        func();           // Uses `func` from the invocation site.
    };
}

{
    let x = 2;
    fn func() { /* does not panic */ }
    check!();
}
<span class="boring">}</span></code></pre></pre>
<p>Labels and local variables defined in macro expansion are not shared between invocations, so this code doesn’t compile:</p>
<pre><pre class="playground"><code class="language-rust compile_fail E0425 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>macro_rules! m {
    (define) =&gt; {
        let x = 1;
    };
    (refer) =&gt; {
        dbg!(x);
    };
}

m!(define);
m!(refer);
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.hygiene.crate"><a class="rule-link" href="macros-by-example.html#r-macro.decl.hygiene.crate" title="macro.decl.hygiene.crate"><span>[macro<wbr>.decl<wbr>.hygiene<wbr>.crate]</span></a>
</div>
<p>A special case is the <code>$crate</code> metavariable. It refers to the crate defining the macro, and can be used at the start of the path to look up items or macros which are not in scope at the invocation site.</p>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">//// Definitions in the `helper_macro` crate.
#[macro_export]
macro_rules! helped {
    // () =&gt; { helper!() } // This might lead to an error due to 'helper' not being in scope.
    () =&gt; { $crate::helper!() }
}

#[macro_export]
macro_rules! helper {
    () =&gt; { () }
}

//// Usage in another crate.
// Note that `helper_macro::helper` is not imported!
use helper_macro::helped;

fn unit() {
    helped!();
}</code></pre>
<p>Note that, because <code>$crate</code> refers to the current crate, it must be used with a
fully qualified module path when referring to non-macro items:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub mod inner {
    #[macro_export]
    macro_rules! call_foo {
        () =&gt; { $crate::inner::foo() };
    }

    pub fn foo() {}
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.hygiene.vis"><a class="rule-link" href="macros-by-example.html#r-macro.decl.hygiene.vis" title="macro.decl.hygiene.vis"><span>[macro<wbr>.decl<wbr>.hygiene<wbr>.vis]</span></a>
</div>
<p>Additionally, even though <code>$crate</code> allows a macro to refer to items within its
own crate when expanding, its use has no effect on visibility. An item or macro
referred to must still be visible from the invocation site. In the following
example, any attempt to invoke <code>call_foo!()</code> from outside its crate will fail
because <code>foo()</code> is not public.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[macro_export]
macro_rules! call_foo {
    () =&gt; { $crate::foo() };
}

fn foo() {}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p><strong>Version differences</strong>: Prior to Rust 1.30, <code>$crate</code> and
<code>local_inner_macros</code> (below) were unsupported. They were added alongside
path-based imports of macros (described above), to ensure that helper macros
did not need to be manually imported by users of a macro-exporting crate.
Crates written for earlier versions of Rust that use helper macros need to be
modified to use <code>$crate</code> or <code>local_inner_macros</code> to work well with path-based
imports.</p>
</blockquote>
<div class="rule" id="r-macro.decl.hygiene.local_inner_macros"><a class="rule-link" href="macros-by-example.html#r-macro.decl.hygiene.local_inner_macros" title="macro.decl.hygiene.local_inner_macros"><span>[macro<wbr>.decl<wbr>.hygiene<wbr>.local_inner_macros]</span></a>
</div>
<p>When a macro is exported, the <code>#[macro_export]</code> attribute can have the
<code>local_inner_macros</code> keyword added to automatically prefix all contained macro
invocations with <code>$crate::</code>. This is intended primarily as a tool to migrate
code written before <code>$crate</code> was added to the language to work with Rust 2018’s
path-based imports of macros. Its use is discouraged in new code.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[macro_export(local_inner_macros)]
macro_rules! helped {
    () =&gt; { helper!() } // Automatically converted to $crate::helper!().
}

#[macro_export]
macro_rules! helper {
    () =&gt; { () }
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-macro.decl.follow-set"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set" title="macro.decl.follow-set"><span>[macro<wbr>.decl<wbr>.follow-set]</span></a>
</div>
<h2 id="follow-set-ambiguity-restrictions"><a class="header" href="#follow-set-ambiguity-restrictions">Follow-set ambiguity restrictions</a></h2>
<div class="rule" id="r-macro.decl.follow-set.intro"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.intro" title="macro.decl.follow-set.intro"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.intro]</span></a>
</div>
<p>The parser used by the macro system is reasonably powerful, but it is limited in
order to prevent ambiguity in current or future versions of the language.</p>
<div class="rule" id="r-macro.decl.follow-set.token-restriction"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-restriction" title="macro.decl.follow-set.token-restriction"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-restriction]</span></a>
</div>
<p>In particular, in addition to the rule about ambiguous expansions, a nonterminal
matched by a metavariable must be followed by a token which has been decided can
be safely used after that kind of match.</p>
<p>As an example, a macro matcher like <code>$i:expr [ , ]</code> could in theory be accepted
in Rust today, since <code>[,]</code> cannot be part of a legal expression and therefore
the parse would always be unambiguous. However, because <code>[</code> can start trailing
expressions, <code>[</code> is not a character which can safely be ruled out as coming
after an expression. If <code>[,]</code> were accepted in a later version of Rust, this
matcher would become ambiguous or would misparse, breaking working code.
Matchers like <code>$i:expr,</code> or <code>$i:expr;</code> would be legal, however, because <code>,</code> and
<code>;</code> are legal expression separators. The specific rules are:</p>
<div class="rule" id="r-macro.decl.follow-set.token-expr-stmt"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-expr-stmt" title="macro.decl.follow-set.token-expr-stmt"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-expr-stmt]</span></a>
</div>
<ul>
<li><code>expr</code> and <code>stmt</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, or <code>;</code>.</li>
</ul>
<div class="rule" id="r-macro.decl.follow-set.token-pat_param"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-pat_param" title="macro.decl.follow-set.token-pat_param"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-pat_param]</span></a>
</div>
<ul>
<li><code>pat_param</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, <code>=</code>, <code>|</code>, <code>if</code>, or <code>in</code>.</li>
</ul>
<div class="rule" id="r-macro.decl.follow-set.token-pat"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-pat" title="macro.decl.follow-set.token-pat"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-pat]</span></a>
</div>
<ul>
<li><code>pat</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, <code>=</code>, <code>if</code>, or <code>in</code>.</li>
</ul>
<div class="rule" id="r-macro.decl.follow-set.token-path-ty"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-path-ty" title="macro.decl.follow-set.token-path-ty"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-path-ty]</span></a>
</div>
<ul>
<li><code>path</code> and <code>ty</code> may only be followed by one of: <code>=&gt;</code>, <code>,</code>, <code>=</code>, <code>|</code>, <code>;</code>,
<code>:</code>, <code>&gt;</code>, <code>&gt;&gt;</code>, <code>[</code>, <code>{</code>, <code>as</code>, <code>where</code>, or a macro variable of <code>block</code>
fragment specifier.</li>
</ul>
<div class="rule" id="r-macro.decl.follow-set.token-vis"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-vis" title="macro.decl.follow-set.token-vis"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-vis]</span></a>
</div>
<ul>
<li><code>vis</code> may only be followed by one of: <code>,</code>, an identifier other than a
non-raw <code>priv</code>, any token that can begin a type, or a metavariable with a
<code>ident</code>, <code>ty</code>, or <code>path</code> fragment specifier.</li>
</ul>
<div class="rule" id="r-macro.decl.follow-set.token-other"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.token-other" title="macro.decl.follow-set.token-other"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.token-other]</span></a>
</div>
<ul>
<li>All other fragment specifiers have no restrictions.</li>
</ul>
<div class="rule" id="r-macro.decl.follow-set.edition2021"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.edition2021" title="macro.decl.follow-set.edition2021"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.edition2021]</span></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> Edition differences</p>
<p>Before the 2021 edition, <code>pat</code> may also be followed by <code>|</code>.</p>
</blockquote>
</div>
<div class="rule" id="r-macro.decl.follow-set.repetition"><a class="rule-link" href="macros-by-example.html#r-macro.decl.follow-set.repetition" title="macro.decl.follow-set.repetition"><span>[macro<wbr>.decl<wbr>.follow-set<wbr>.repetition]</span></a>
</div>
<p>When repetitions are involved, then the rules apply to every possible number of
expansions, taking separators into account. This means:</p>
<ul>
<li>If the repetition includes a separator, that separator must be able to
follow the contents of the repetition.</li>
<li>If the repetition can repeat multiple times (<code>*</code> or <code>+</code>), then the contents
must be able to follow themselves.</li>
<li>The contents of the repetition must be able to follow whatever comes
before, and whatever comes after must be able to follow the contents of the
repetition.</li>
<li>If the repetition can match zero times (<code>*</code> or <code>?</code>), then whatever comes
after must be able to follow whatever comes before.</li>
</ul>
<p>For more detail, see the <a href="macro-ambiguity.html">formal specification</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-macro.proc"><a class="rule-link" href="procedural-macros.html#r-macro.proc" title="macro.proc"><span>[macro<wbr>.proc]</span></a>
</div>
<h1 id="procedural-macros"><a class="header" href="#procedural-macros">Procedural macros</a></h1>
<div class="rule" id="r-macro.proc.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.intro" title="macro.proc.intro"><span>[macro<wbr>.proc<wbr>.intro]</span></a>
</div>
<p><em>Procedural macros</em> allow creating syntax extensions as execution of a function.
Procedural macros come in one of three flavors:</p>
<ul>
<li><a href="procedural-macros.html#function-like-procedural-macros">Function-like macros</a> - <code>custom!(...)</code></li>
<li><a href="procedural-macros.html#r-macro.proc.derive">Derive macros</a> - <code>#[derive(CustomDerive)]</code></li>
<li><a href="procedural-macros.html#attribute-macros">Attribute macros</a> - <code>#[CustomAttribute]</code></li>
</ul>
<p>Procedural macros allow you to run code at compile time that operates over Rust
syntax, both consuming and producing Rust syntax. You can sort of think of
procedural macros as functions from an AST to another AST.</p>
<div class="rule" id="r-macro.proc.def"><a class="rule-link" href="procedural-macros.html#r-macro.proc.def" title="macro.proc.def"><span>[macro<wbr>.proc<wbr>.def]</span></a>
</div>
<p>Procedural macros must be defined in the root of a crate with the <a href="linkage.html">crate type</a> of
<code>proc-macro</code>.
The macros may not be used from the crate where they are defined, and can only be used when imported in another crate.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>When using Cargo, Procedural macro crates are defined with the <code>proc-macro</code> key in your manifest:</p>
<pre><code class="language-toml">[lib]
proc-macro = true
</code></pre>
</blockquote>
</div>
<div class="rule" id="r-macro.proc.result"><a class="rule-link" href="procedural-macros.html#r-macro.proc.result" title="macro.proc.result"><span>[macro<wbr>.proc<wbr>.result]</span></a>
</div>
<p>As functions, they must either return syntax, panic, or loop endlessly. Returned
syntax either replaces or adds the syntax depending on the kind of procedural
macro. Panics are caught by the compiler and are turned into a compiler error.
Endless loops are not caught by the compiler which hangs the compiler.</p>
<p>Procedural macros run during compilation, and thus have the same resources that
the compiler has. For example, standard input, error, and output are the same
that the compiler has access to. Similarly, file access is the same. Because
of this, procedural macros have the same security concerns that <a href="../cargo/reference/build-scripts.html">Cargo’s
build scripts</a> have.</p>
<div class="rule" id="r-macro.proc.error"><a class="rule-link" href="procedural-macros.html#r-macro.proc.error" title="macro.proc.error"><span>[macro<wbr>.proc<wbr>.error]</span></a>
</div>
<p>Procedural macros have two ways of reporting errors. The first is to panic. The
second is to emit a <a href="../core/macro.compile_error.html"><code>compile_error</code></a> macro invocation.</p>
<div class="rule" id="r-macro.proc.proc_macro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.proc_macro" title="macro.proc.proc_macro"><span>[macro<wbr>.proc<wbr>.proc_macro]</span></a>
</div>
<h2 id="the-proc_macro-crate"><a class="header" href="#the-proc_macro-crate">The <code>proc_macro</code> crate</a></h2>
<div class="rule" id="r-macro.proc.proc_macro.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.proc_macro.intro" title="macro.proc.proc_macro.intro"><span>[macro<wbr>.proc<wbr>.proc_macro<wbr>.intro]</span></a>
</div>
<p>Procedural macro crates almost always will link to the compiler-provided
<a href="../proc_macro/index.html"><code>proc_macro</code> crate</a>. The <code>proc_macro</code> crate provides types required for
writing procedural macros and facilities to make it easier.</p>
<div class="rule" id="r-macro.proc.proc_macro.token-stream"><a class="rule-link" href="procedural-macros.html#r-macro.proc.proc_macro.token-stream" title="macro.proc.proc_macro.token-stream"><span>[macro<wbr>.proc<wbr>.proc_macro<wbr>.token-stream]</span></a>
</div>
<p>This crate primarily contains a <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> type. Procedural macros operate
over <em>token streams</em> instead of AST nodes, which is a far more stable interface
over time for both the compiler and for procedural macros to target. A
<em>token stream</em> is roughly equivalent to <code>Vec&lt;TokenTree&gt;</code> where a <code>TokenTree</code>
can roughly be thought of as lexical token. For example <code>foo</code> is an <code>Ident</code>
token, <code>.</code> is a <code>Punct</code> token, and <code>1.2</code> is a <code>Literal</code> token. The <code>TokenStream</code>
type, unlike <code>Vec&lt;TokenTree&gt;</code>, is cheap to clone.</p>
<div class="rule" id="r-macro.proc.proc_macro.span"><a class="rule-link" href="procedural-macros.html#r-macro.proc.proc_macro.span" title="macro.proc.proc_macro.span"><span>[macro<wbr>.proc<wbr>.proc_macro<wbr>.span]</span></a>
</div>
<p>All tokens have an associated <code>Span</code>. A <code>Span</code> is an opaque value that cannot
be modified but can be manufactured. <code>Span</code>s represent an extent of source
code within a program and are primarily used for error reporting. While you
cannot modify a <code>Span</code> itself, you can always change the <code>Span</code> <em>associated</em>
with any token, such as through getting a <code>Span</code> from another token.</p>
<div class="rule" id="r-macro.proc.hygiene"><a class="rule-link" href="procedural-macros.html#r-macro.proc.hygiene" title="macro.proc.hygiene"><span>[macro<wbr>.proc<wbr>.hygiene]</span></a>
</div>
<h2 id="procedural-macro-hygiene"><a class="header" href="#procedural-macro-hygiene">Procedural macro hygiene</a></h2>
<p>Procedural macros are <em>unhygienic</em>. This means they behave as if the output
token stream was simply written inline to the code it’s next to. This means that
it’s affected by external items and also affects external imports.</p>
<p>Macro authors need to be careful to ensure their macros work in as many contexts
as possible given this limitation. This often includes using absolute paths to
items in libraries (for example, <code>::std::option::Option</code> instead of <code>Option</code>) or
by ensuring that generated functions have names that are unlikely to clash with
other functions (like <code>__internal_foo</code> instead of <code>foo</code>).</p>
<div class="rule" id="r-macro.proc.function"><a class="rule-link" href="procedural-macros.html#r-macro.proc.function" title="macro.proc.function"><span>[macro<wbr>.proc<wbr>.function]</span></a>
</div>
<h2 id="function-like-procedural-macros"><a class="header" href="#function-like-procedural-macros">Function-like procedural macros</a></h2>
<div class="rule" id="r-macro.proc.function.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.function.intro" title="macro.proc.function.intro"><span>[macro<wbr>.proc<wbr>.function<wbr>.intro]</span></a>
</div>
<p><em>Function-like procedural macros</em> are procedural macros that are invoked using
the macro invocation operator (<code>!</code>).</p>
<div class="rule" id="r-macro.proc.function.def"><a class="rule-link" href="procedural-macros.html#r-macro.proc.function.def" title="macro.proc.function.def"><span>[macro<wbr>.proc<wbr>.function<wbr>.def]</span></a>
</div>
<p>These macros are defined by a <a href="visibility-and-privacy.html">public</a> <a href="items/functions.html">function</a> with the <code>proc_macro</code>
<a href="attributes.html">attribute</a> and a signature of <code>(TokenStream) -&gt; TokenStream</code>. The input
<a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> is what is inside the delimiters of the macro invocation and the
output <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> replaces the entire macro invocation.</p>
<div class="rule" id="r-macro.proc.function.namespace"><a class="rule-link" href="procedural-macros.html#r-macro.proc.function.namespace" title="macro.proc.function.namespace"><span>[macro<wbr>.proc<wbr>.function<wbr>.namespace]</span></a>
</div>
<p>The <code>proc_macro</code> attribute defines the macro in the <a href="names/namespaces.html">macro namespace</a> in the root of the crate.</p>
<p>For example, the following macro definition ignores its input and outputs a
function <code>answer</code> into its scope.</p>
<!-- ignore: test doesn't support proc-macro -->
<pre><code class="language-rust ignore"><span class="boring">#![crate_type = "proc-macro"]
</span>extern crate proc_macro;
use proc_macro::TokenStream;

#[proc_macro]
pub fn make_answer(_item: TokenStream) -&gt; TokenStream {
    "fn answer() -&gt; u32 { 42 }".parse().unwrap()
}</code></pre>
<p>And then we use it in a binary crate to print “42” to standard output.</p>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">extern crate proc_macro_examples;
use proc_macro_examples::make_answer;

make_answer!();

fn main() {
    println!("{}", answer());
}</code></pre>
<div class="rule" id="r-macro.proc.function.invocation"><a class="rule-link" href="procedural-macros.html#r-macro.proc.function.invocation" title="macro.proc.function.invocation"><span>[macro<wbr>.proc<wbr>.function<wbr>.invocation]</span></a>
</div>
<p>Function-like procedural macros may be invoked in any macro invocation
position, which includes <a href="statements.html">statements</a>, <a href="expressions.html">expressions</a>, <a href="patterns.html">patterns</a>, <a href="types.html#type-expressions">type
expressions</a>, <a href="items.html">item</a> positions, including items in <a href="items/external-blocks.html"><code>extern</code> blocks</a>, inherent
and trait <a href="items/implementations.html">implementations</a>, and <a href="items/traits.html">trait definitions</a>.</p>
<!-- template:attributes -->
<div class="rule" id="r-macro.proc.derive"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive" title="macro.proc.derive"><span>[macro<wbr>.proc<wbr>.derive]</span></a>
</div>
<h2 id="the-proc_macro_derive-attribute"><a class="header" href="#the-proc_macro_derive-attribute">The <code>proc_macro_derive</code> attribute</a></h2>
<div class="rule" id="r-macro.proc.derive.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.intro" title="macro.proc.derive.intro"><span>[macro<wbr>.proc<wbr>.derive<wbr>.intro]</span></a>
</div>
<p>Applying the <em><code>proc_macro_derive</code> <a href="attributes.html">attribute</a></em> to a function defines a <em>derive macro</em> that can be invoked by the <a href="attributes/derive.html"><code>derive</code> attribute</a>. These macros are given the token stream of a <a href="items/structs.html">struct</a>, <a href="items/enumerations.html">enum</a>, or <a href="items/unions.html">union</a> definition and can emit new <a href="items.html">items</a> after it. They can also declare and use <a href="procedural-macros.html#derive-macro-helper-attributes">derive macro helper attributes</a>.</p>
<div class="alert alert-example">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p>
<p>This derive macro ignores its input and appends tokens that define a function.</p>
<!-- ignore: test doesn't support proc-macro -->
<pre><code class="language-rust ignore"><span class="boring">#![crate_type = "proc-macro"]
</span>extern crate proc_macro;
use proc_macro::TokenStream;

#[proc_macro_derive(AnswerFn)]
pub fn derive_answer_fn(_item: TokenStream) -&gt; TokenStream {
    "fn answer() -&gt; u32 { 42 }".parse().unwrap()
}</code></pre>
<p>To use it, we might write:</p>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">extern crate proc_macro_examples;
use proc_macro_examples::AnswerFn;

#[derive(AnswerFn)]
struct Struct;

fn main() {
    assert_eq!(42, answer());
}</code></pre>
</blockquote>
</div>
<div class="rule" id="r-macro.proc.derive.syntax"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.syntax" title="macro.proc.derive.syntax"><span>[macro<wbr>.proc<wbr>.derive<wbr>.syntax]</span></a>
</div>
<p>The syntax for the <code>proc_macro_derive</code> attribute is:</p>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ProcMacroDeriveAttribute" onclick="show_railroad()"><a href="procedural-macros.html#railroad-ProcMacroDeriveAttribute">ProcMacroDeriveAttribute</a></span> → <br />
    <span class="grammar-literal">proc_macro_derive</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="procedural-macros.html#grammar-DeriveMacroName">DeriveMacroName</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="procedural-macros.html#grammar-DeriveMacroAttributes">DeriveMacroAttributes</a></span> )<sup>?</sup> <span class="grammar-literal">,</span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-DeriveMacroName" onclick="show_railroad()"><a href="procedural-macros.html#railroad-DeriveMacroName">DeriveMacroName</a></span> → <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-DeriveMacroAttributes" onclick="show_railroad()"><a href="procedural-macros.html#railroad-DeriveMacroAttributes">DeriveMacroAttributes</a></span> → <br />
    <span class="grammar-literal">attributes</span> <span class="grammar-literal">(</span> ( <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup> )<sup>?</sup> <span class="grammar-literal">)</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 830px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ProcMacroDeriveAttribute"><svg class="railroad" viewBox="0 0 830 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="procedural-macros.html#grammar-ProcMacroDeriveAttribute">
<text class="comment" x="102" y="25">
ProcMacroDeriveAttribute</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="156" x="35" y="55"/>
<text x="113" y="71">
proc_macro_derive</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="201" y="55"/>
<text x="215" y="71">
(</text>
</g>
<a class="link" xlink:href="procedural-macros.html#railroad-DeriveMacroName">
<g class="nonterminal">
<rect height="22" width="140" x="239" y="55"/>
<text x="309" y="71">
DeriveMacroName</text>
</g>
</a>
<g class="optional">
<path d=" M 389 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 234 m -114 0 l -5 -5 m 0 10 l 5 -5 m 114 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="413" y="55"/>
<text x="427" y="71">
,</text>
</g>
<a class="link" xlink:href="procedural-macros.html#railroad-DeriveMacroAttributes">
<g class="nonterminal">
<rect height="22" width="196" x="451" y="55"/>
<text x="549" y="71">
DeriveMacroAttributes</text>
</g>
</a>
<path d=" M 441 66 h 10"/>
</g>
</g>
<g class="optional">
<path d=" M 681 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="705" y="55"/>
<text x="719" y="71">
,</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="767" y="55"/>
<text x="781" y="71">
)</text>
</g>
<path d=" M 191 66 h 10"/>
<path d=" M 229 66 h 10"/>
<path d=" M 379 66 h 10"/>
<path d=" M 671 66 h 10"/>
<path d=" M 757 66 h 10"/>
</g>
<path d=" M 805 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 795 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 170px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DeriveMacroName"><svg class="railroad" viewBox="0 0 170 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="procedural-macros.html#grammar-DeriveMacroName">
<text class="comment" x="67" y="25">
DeriveMacroName</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="35" y="42"/>
<text x="85" y="58">
IDENTIFIER</text>
</g>
</a>
<path d=" M 145 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 135 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 710px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DeriveMacroAttributes"><svg class="railroad" viewBox="0 0 710 112" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="procedural-macros.html#grammar-DeriveMacroAttributes">
<text class="comment" x="92" y="25">
DeriveMacroAttributes</text>
</a>
<g class="sequence">
<path d=" M 10 78 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="100" x="35" y="67"/>
<text x="85" y="83">
attributes</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="145" y="67"/>
<text x="159" y="83">
(</text>
</g>
<g class="optional">
<path d=" M 183 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 406 m -200 0 l -5 -5 m 0 10 l 5 -5 m 200 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="207" y="67"/>
<text x="257" y="83">
IDENTIFIER</text>
</g>
</a>
<g class="optional">
<path d=" M 317 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 162 m -78 0 l -5 -5 m 0 10 l 5 -5 m 78 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 341 78 h 12 m 138 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -138 m 72 0 l 5 -5 m 0 10 l -5 -5 m -72 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="353" y="67"/>
<text x="367" y="83">
,</text>
</g>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="391" y="67"/>
<text x="441" y="83">
IDENTIFIER</text>
</g>
</a>
<path d=" M 381 78 h 10"/>
</g>
</g>
</g>
<g class="optional">
<path d=" M 537 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="561" y="67"/>
<text x="575" y="83">
,</text>
</g>
</g>
<path d=" M 307 78 h 10"/>
<path d=" M 527 78 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="67"/>
<text x="661" y="83">
)</text>
</g>
<path d=" M 135 78 h 10"/>
<path d=" M 173 78 h 10"/>
<path d=" M 637 78 h 10"/>
</g>
<path d=" M 685 78 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 78 h 10"/>
<path d=" M 675 78 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<p>The name of the derive macro is given by <a href="procedural-macros.html#grammar-DeriveMacroName">DeriveMacroName</a>. The optional <code>attributes</code> argument is described in <a href="procedural-macros.html#r-macro.proc.derive.attributes">macro.proc.derive.attributes</a>.</p>
<div class="rule" id="r-macro.proc.derive.allowed-positions"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.allowed-positions" title="macro.proc.derive.allowed-positions"><span>[macro<wbr>.proc<wbr>.derive<wbr>.allowed-positions]</span></a>
</div>
<p>The <code>proc_macro_derive</code> attribute may only be applied to a <code>pub</code> function with the <a href="items/functions.html#r-items.fn.extern">Rust ABI</a> defined in the root of the crate with a type of <code>fn(TokenStream) -&gt; TokenStream</code>  where <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> comes from the <a href="../proc_macro/index.html"><code>proc_macro</code> crate</a>. The function may be <code>const</code> and may use <code>extern</code> to explicitly specify the Rust ABI, but it may not use any other <a href="items/functions.html#grammar-FunctionQualifiers">qualifiers</a> (e.g. it may not be <code>async</code> or <code>unsafe</code>).</p>
<div class="rule" id="r-macro.proc.derive.duplicates"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.duplicates" title="macro.proc.derive.duplicates"><span>[macro<wbr>.proc<wbr>.derive<wbr>.duplicates]</span></a>
</div>
<p>The <code>proc_macro_derive</code> attribute may be used only once on a function.</p>
<div class="rule" id="r-macro.proc.derive.namespace"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.namespace" title="macro.proc.derive.namespace"><span>[macro<wbr>.proc<wbr>.derive<wbr>.namespace]</span></a>
</div>
<p>The <code>proc_macro_derive</code> attribute publicly defines the derive macro in the <a href="names/namespaces.html">macro namespace</a> in the root of the crate.</p>
<div class="rule" id="r-macro.proc.derive.output"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.output" title="macro.proc.derive.output"><span>[macro<wbr>.proc<wbr>.derive<wbr>.output]</span></a>
</div>
<p>The input <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> is the token stream of the item to which the <code>derive</code> attribute is applied. The output <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> must be a (possibly empty) set of items. These items are appended following the input item within the same <a href="items/modules.html">module</a> or <a href="expressions/block-expr.html">block</a>.</p>
<div class="rule" id="r-macro.proc.derive.attributes"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.attributes" title="macro.proc.derive.attributes"><span>[macro<wbr>.proc<wbr>.derive<wbr>.attributes]</span></a>
</div>
<h3 id="derive-macro-helper-attributes"><a class="header" href="#derive-macro-helper-attributes">Derive macro helper attributes</a></h3>
<div class="rule" id="r-macro.proc.derive.attributes.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.attributes.intro" title="macro.proc.derive.attributes.intro"><span>[macro<wbr>.proc<wbr>.derive<wbr>.attributes<wbr>.intro]</span></a>
</div>
<p>Derive macros can declare <em>derive macro helper attributes</em> to be used within the scope of the <a href="items.html">item</a> to which the derive macro is applied. These <a href="attributes.html">attributes</a> are <a href="attributes.html#active-and-inert-attributes">inert</a>. While their purpose is to be used by the macro that declared them, they can be seen by any macro.</p>
<div class="rule" id="r-macro.proc.derive.attributes.decl"><a class="rule-link" href="procedural-macros.html#r-macro.proc.derive.attributes.decl" title="macro.proc.derive.attributes.decl"><span>[macro<wbr>.proc<wbr>.derive<wbr>.attributes<wbr>.decl]</span></a>
</div>
<p>A helper attribute for a derive macro is declared by adding its identifier to the <code>attributes</code> list in the <code>proc_macro_derive</code> attribute.</p>
<div class="alert alert-example">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path></svg>Example</p>
<p>This declares a helper attribute and then ignores it.</p>
<!-- ignore: test doesn't support proc-macro -->
<pre><code class="language-rust ignore"><span class="boring">#![crate_type="proc-macro"]
</span><span class="boring">extern crate proc_macro;
</span><span class="boring">use proc_macro::TokenStream;
</span><span class="boring">
</span>#[proc_macro_derive(WithHelperAttr, attributes(helper))]
pub fn derive_with_helper_attr(_item: TokenStream) -&gt; TokenStream {
    TokenStream::new()
}</code></pre>
<p>To use it, we might write:</p>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">#[derive(WithHelperAttr)]
struct Struct {
    #[helper] field: (),
}</code></pre>
</blockquote>
</div>
<div class="rule" id="r-macro.proc.attribute"><a class="rule-link" href="procedural-macros.html#r-macro.proc.attribute" title="macro.proc.attribute"><span>[macro<wbr>.proc<wbr>.attribute]</span></a>
</div>
<h2 id="attribute-macros"><a class="header" href="#attribute-macros">Attribute macros</a></h2>
<div class="rule" id="r-macro.proc.attribute.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.attribute.intro" title="macro.proc.attribute.intro"><span>[macro<wbr>.proc<wbr>.attribute<wbr>.intro]</span></a>
</div>
<p><em>Attribute macros</em> define new <a href="attributes.html">outer attributes</a> which can be
attached to <a href="items.html">items</a>, including items in <a href="items/external-blocks.html"><code>extern</code> blocks</a>, inherent and trait
<a href="items/implementations.html">implementations</a>, and <a href="items/traits.html">trait definitions</a>.</p>
<div class="rule" id="r-macro.proc.attribute.def"><a class="rule-link" href="procedural-macros.html#r-macro.proc.attribute.def" title="macro.proc.attribute.def"><span>[macro<wbr>.proc<wbr>.attribute<wbr>.def]</span></a>
</div>
<p>Attribute macros are defined by a <a href="visibility-and-privacy.html">public</a> <a href="items/functions.html">function</a> with the
<code>proc_macro_attribute</code> <a href="attributes.html">attribute</a> that has a signature of <code>(TokenStream, TokenStream) -&gt; TokenStream</code>. The first <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> is the delimited token
tree following the attribute’s name, not including the outer delimiters. If
the attribute is written as a bare attribute name, the attribute
<a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> is empty. The second <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a> is the rest of the <a href="items.html">item</a>
including other <a href="attributes.html">attributes</a> on the <a href="items.html">item</a>. The returned <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code></a>
replaces the <a href="items.html">item</a> with an arbitrary number of <a href="items.html">items</a>.</p>
<div class="rule" id="r-macro.proc.attribute.namespace"><a class="rule-link" href="procedural-macros.html#r-macro.proc.attribute.namespace" title="macro.proc.attribute.namespace"><span>[macro<wbr>.proc<wbr>.attribute<wbr>.namespace]</span></a>
</div>
<p>The <code>proc_macro_attribute</code> attribute defines the attribute in the <a href="names/namespaces.html">macro namespace</a> in the root of the crate.</p>
<p>For example, this attribute macro takes the input stream and returns it as is,
effectively being the no-op of attributes.</p>
<!-- ignore: test doesn't support proc-macro -->
<pre><code class="language-rust ignore"><span class="boring">#![crate_type = "proc-macro"]
</span><span class="boring">extern crate proc_macro;
</span><span class="boring">use proc_macro::TokenStream;
</span>
#[proc_macro_attribute]
pub fn return_as_is(_attr: TokenStream, item: TokenStream) -&gt; TokenStream {
    item
}</code></pre>
<p>This following example shows the stringified <a href="../proc_macro/struct.TokenStream.html"><code>TokenStream</code>s</a> that the attribute
macros see. The output will show in the output of the compiler. The output is
shown in the comments after the function prefixed with “out:”.</p>
<!-- ignore: test doesn't support proc-macro -->
<pre><code class="language-rust ignore">// my-macro/src/lib.rs
<span class="boring">extern crate proc_macro;
</span><span class="boring">use proc_macro::TokenStream;
</span>
#[proc_macro_attribute]
pub fn show_streams(attr: TokenStream, item: TokenStream) -&gt; TokenStream {
    println!("attr: \"{attr}\"");
    println!("item: \"{item}\"");
    item
}</code></pre>
<!-- ignore: requires external crates -->
<pre><code class="language-rust ignore">// src/lib.rs
extern crate my_macro;

use my_macro::show_streams;

// Example: Basic function
#[show_streams]
fn invoke1() {}
// out: attr: ""
// out: item: "fn invoke1() {}"

// Example: Attribute with input
#[show_streams(bar)]
fn invoke2() {}
// out: attr: "bar"
// out: item: "fn invoke2() {}"

// Example: Multiple tokens in the input
#[show_streams(multiple =&gt; tokens)]
fn invoke3() {}
// out: attr: "multiple =&gt; tokens"
// out: item: "fn invoke3() {}"

// Example:
#[show_streams { delimiters }]
fn invoke4() {}
// out: attr: "delimiters"
// out: item: "fn invoke4() {}"</code></pre>
<div class="rule" id="r-macro.proc.token"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token" title="macro.proc.token"><span>[macro<wbr>.proc<wbr>.token]</span></a>
</div>
<h2 id="declarative-macro-tokens-and-procedural-macro-tokens"><a class="header" href="#declarative-macro-tokens-and-procedural-macro-tokens">Declarative macro tokens and procedural macro tokens</a></h2>
<div class="rule" id="r-macro.proc.token.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.intro" title="macro.proc.token.intro"><span>[macro<wbr>.proc<wbr>.token<wbr>.intro]</span></a>
</div>
<p>Declarative <code>macro_rules</code> macros and procedural macros use similar, but
different definitions for tokens (or rather <a href="../proc_macro/enum.TokenTree.html"><code>TokenTree</code>s</a>.)</p>
<div class="rule" id="r-macro.proc.token.macro_rules"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.macro_rules" title="macro.proc.token.macro_rules"><span>[macro<wbr>.proc<wbr>.token<wbr>.macro_rules]</span></a>
</div>
<p>Token trees in <code>macro_rules</code> (corresponding to <code>tt</code> matchers) are defined as</p>
<ul>
<li>Delimited groups (<code>(...)</code>, <code>{...}</code>, etc)</li>
<li>All operators supported by the language, both single-character and
multi-character ones (<code>+</code>, <code>+=</code>).
<ul>
<li>Note that this set doesn’t include the single quote <code>'</code>.</li>
</ul>
</li>
<li>Literals (<code>"string"</code>, <code>1</code>, etc)
<ul>
<li>Note that negation (e.g. <code>-1</code>) is never a part of such literal tokens,
but a separate operator token.</li>
</ul>
</li>
<li>Identifiers, including keywords (<code>ident</code>, <code>r#ident</code>, <code>fn</code>)</li>
<li>Lifetimes (<code>'ident</code>)</li>
<li>Metavariable substitutions in <code>macro_rules</code> (e.g. <code>$my_expr</code> in
<code>macro_rules! mac { ($my_expr: expr) =&gt; { $my_expr } }</code> after the <code>mac</code>’s
expansion, which will be considered a single token tree regardless of the
passed expression)</li>
</ul>
<div class="rule" id="r-macro.proc.token.tree"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.tree" title="macro.proc.token.tree"><span>[macro<wbr>.proc<wbr>.token<wbr>.tree]</span></a>
</div>
<p>Token trees in procedural macros are defined as</p>
<ul>
<li>Delimited groups (<code>(...)</code>, <code>{...}</code>, etc)</li>
<li>All punctuation characters used in operators supported by the language (<code>+</code>,
but not <code>+=</code>), and also the single quote <code>'</code> character (typically used in
lifetimes, see below for lifetime splitting and joining behavior)</li>
<li>Literals (<code>"string"</code>, <code>1</code>, etc)
<ul>
<li>Negation (e.g. <code>-1</code>) is supported as a part of integer
and floating point literals.</li>
</ul>
</li>
<li>Identifiers, including keywords (<code>ident</code>, <code>r#ident</code>, <code>fn</code>)</li>
</ul>
<div class="rule" id="r-macro.proc.token.conversion.intro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.conversion.intro" title="macro.proc.token.conversion.intro"><span>[macro<wbr>.proc<wbr>.token<wbr>.conversion<wbr>.intro]</span></a>
</div>
<p>Mismatches between these two definitions are accounted for when token streams
are passed to and from procedural macros. <br />
Note that the conversions below may happen lazily, so they might not happen if
the tokens are not actually inspected.</p>
<div class="rule" id="r-macro.proc.token.conversion.to-proc_macro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.conversion.to-proc_macro" title="macro.proc.token.conversion.to-proc_macro"><span>[macro<wbr>.proc<wbr>.token<wbr>.conversion<wbr>.to-proc_macro]</span></a>
</div>
<p>When passed to a proc-macro</p>
<ul>
<li>All multi-character operators are broken into single characters.</li>
<li>Lifetimes are broken into a <code>'</code> character and an identifier.</li>
<li>The keyword metavariable <a href="macros-by-example.html#r-macro.decl.hygiene.crate"><code>$crate</code></a> is passed as a single identifier.</li>
<li>All other metavariable substitutions are represented as their underlying
token streams.
<ul>
<li>Such token streams may be wrapped into delimited groups (<a href="../proc_macro/struct.Group.html"><code>Group</code></a>) with
implicit delimiters (<a href="../proc_macro/enum.Delimiter.html#variant.None"><code>Delimiter::None</code></a>) when it’s necessary for
preserving parsing priorities.</li>
<li><code>tt</code> and <code>ident</code> substitutions are never wrapped into such groups and
always represented as their underlying token trees.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-macro.proc.token.conversion.from-proc_macro"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.conversion.from-proc_macro" title="macro.proc.token.conversion.from-proc_macro"><span>[macro<wbr>.proc<wbr>.token<wbr>.conversion<wbr>.from-proc_macro]</span></a>
</div>
<p>When emitted from a proc macro</p>
<ul>
<li>Punctuation characters are glued into multi-character operators
when applicable.</li>
<li>Single quotes <code>'</code> joined with identifiers are glued into lifetimes.</li>
<li>Negative literals are converted into two tokens (the <code>-</code> and the literal)
possibly wrapped into a delimited group (<a href="../proc_macro/struct.Group.html"><code>Group</code></a>) with implicit delimiters
(<a href="../proc_macro/enum.Delimiter.html#variant.None"><code>Delimiter::None</code></a>) when it’s necessary for preserving parsing priorities.</li>
</ul>
<div class="rule" id="r-macro.proc.token.doc-comment"><a class="rule-link" href="procedural-macros.html#r-macro.proc.token.doc-comment" title="macro.proc.token.doc-comment"><span>[macro<wbr>.proc<wbr>.token<wbr>.doc-comment]</span></a>
</div>
<p>Note that neither declarative nor procedural macros support doc comment tokens
(e.g. <code>/// Doc</code>), so they are always converted to token streams representing
their equivalent <code>#[doc = r"str"]</code> attributes when passed to macros.</p>
<div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-crate"><a class="rule-link" href="crates-and-source-files.html#r-crate" title="crate"><span>[crate]</span></a>
</div>
<h1 id="crates-and-source-files"><a class="header" href="#crates-and-source-files">Crates and source files</a></h1>
<div class="rule" id="r-crate.syntax"><a class="rule-link" href="crates-and-source-files.html#r-crate.syntax" title="crate.syntax"><span>[crate<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-Crate" onclick="show_railroad()"><a href="crates-and-source-files.html#railroad-Crate">Crate</a></span> → <br />
    <span class="grammar-text"><a href="attributes.html#grammar-InnerAttribute">InnerAttribute</a></span><sup>*</sup> <br />
    <span class="grammar-text"><a href="items.html#grammar-Item">Item</a></span><sup>*</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 408px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Crate"><svg class="railroad" viewBox="0 0 408 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="crates-and-source-files.html#grammar-Crate">
<text class="comment" x="32" y="25">
Crate</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="attributes.html#railroad-InnerAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55"/>
<text x="137" y="71">
InnerAttribute</text>
</g>
</a>
</g>
</g>
<g class="optional">
<path d=" M 249 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 273 66 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="items.html#railroad-Item">
<g class="nonterminal">
<rect height="22" width="52" x="285" y="55"/>
<text x="311" y="71">
Item</text>
</g>
</a>
</g>
</g>
<path d=" M 239 66 h 10"/>
</g>
<path d=" M 383 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 373 66 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>Although Rust, like any other language, can be implemented by an interpreter as well as a compiler, the only existing implementation is a compiler, and the language has always been designed to be compiled. For these reasons, this section assumes a compiler.</p>
</blockquote>
</div>
<div class="rule" id="r-crate.compile-time"><a class="rule-link" href="crates-and-source-files.html#r-crate.compile-time" title="crate.compile-time"><span>[crate<wbr>.compile-time]</span></a>
</div>
<p>Rust’s semantics obey a <em>phase distinction</em> between compile-time and
run-time.<sup class="footnote-reference" id="fr-phase-distinction-1"><a href="#footnote-phase-distinction">1</a></sup> Semantic rules that have a <em>static
interpretation</em> govern the success or failure of compilation, while
semantic rules that have a <em>dynamic interpretation</em> govern the behavior of the
program at run-time.</p>
<div class="rule" id="r-crate.unit"><a class="rule-link" href="crates-and-source-files.html#r-crate.unit" title="crate.unit"><span>[crate<wbr>.unit]</span></a>
</div>
<p>The compilation model centers on artifacts called <em>crates</em>. Each compilation
processes a single crate in source form, and if successful, produces a single
crate in binary form: either an executable or some sort of
library.<sup class="footnote-reference" id="fr-cratesourcefile-1"><a href="#footnote-cratesourcefile">2</a></sup></p>
<div class="rule" id="r-crate.module"><a class="rule-link" href="crates-and-source-files.html#r-crate.module" title="crate.module"><span>[crate<wbr>.module]</span></a>
</div>
<p>A <em>crate</em> is a unit of compilation and linking, as well as versioning,
distribution, and runtime loading. A crate contains a <em>tree</em> of nested
<a href="items/modules.html">module</a> scopes. The top level of this tree is a module that is
anonymous (from the point of view of paths within the module) and any item
within a crate has a canonical <a href="paths.html">module path</a> denoting its location
within the crate’s module tree.</p>
<div class="rule" id="r-crate.input-source"><a class="rule-link" href="crates-and-source-files.html#r-crate.input-source" title="crate.input-source"><span>[crate<wbr>.input-source]</span></a>
</div>
<p>The Rust compiler is always invoked with a single source file as input, and
always produces a single output crate. The processing of that source file may
result in other source files being loaded as modules. Source files have the
extension <code>.rs</code>.</p>
<div class="rule" id="r-crate.module-def"><a class="rule-link" href="crates-and-source-files.html#r-crate.module-def" title="crate.module-def"><span>[crate<wbr>.module-def]</span></a>
</div>
<p>A Rust source file describes a module, the name and location of which —
in the module tree of the current crate — are defined from outside the
source file: either by an explicit <a href="items/modules.html#grammar-Module">Module</a> item in a referencing
source file, or by the name of the crate itself.</p>
<div class="rule" id="r-crate.inline-module"><a class="rule-link" href="crates-and-source-files.html#r-crate.inline-module" title="crate.inline-module"><span>[crate<wbr>.inline-module]</span></a>
</div>
<p>Every source file is a
module, but not every module needs its own source file: <a href="items/modules.html">module
definitions</a> can be nested within one file.</p>
<div class="rule" id="r-crate.items"><a class="rule-link" href="crates-and-source-files.html#r-crate.items" title="crate.items"><span>[crate<wbr>.items]</span></a>
</div>
<p>Each source file contains a sequence of zero or more <a href="items.html#grammar-Item">Item</a> definitions, and
may optionally begin with any number of <a href="attributes.html">attributes</a>
that apply to the containing module, most of which influence the behavior of
the compiler.</p>
<div class="rule" id="r-crate.attributes"><a class="rule-link" href="crates-and-source-files.html#r-crate.attributes" title="crate.attributes"><span>[crate<wbr>.attributes]</span></a>
</div>
<p>The anonymous crate module can have additional attributes that
apply to the crate as a whole.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>The file’s contents may be preceded by a <a href="input-format.html#shebang-removal">shebang</a>.</p>
</blockquote>
</div>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Specify the crate name.
#![crate_name = "projx"]

// Specify the type of output artifact.
#![crate_type = "lib"]

// Turn on a warning.
// This can be done in any module, not just the anonymous crate module.
#![warn(non_camel_case_types)]
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-crate.main"><a class="rule-link" href="crates-and-source-files.html#r-crate.main" title="crate.main"><span>[crate<wbr>.main]</span></a>
</div>
<h2 id="main-functions"><a class="header" href="#main-functions">Main functions</a></h2>
<div class="rule" id="r-crate.main.general"><a class="rule-link" href="crates-and-source-files.html#r-crate.main.general" title="crate.main.general"><span>[crate<wbr>.main<wbr>.general]</span></a>
</div>
<p>A crate that contains a <code>main</code> <a href="items/functions.html">function</a> can be compiled to an executable.</p>
<div class="rule" id="r-crate.main.restriction"><a class="rule-link" href="crates-and-source-files.html#r-crate.main.restriction" title="crate.main.restriction"><span>[crate<wbr>.main<wbr>.restriction]</span></a>
</div>
<p>If a <code>main</code> function is present, it must take no arguments, must not declare any
<a href="trait-bounds.html">trait or lifetime bounds</a>, must not have any <a href="items/generics.html#where-clauses">where clauses</a>, and its return
type must implement the <a href="../std/process/trait.Termination.html"><code>Termination</code></a> trait.</p>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() {}</code></pre></pre>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() -&gt; ! {
    std::process::exit(0);
}</code></pre></pre>
<pre><pre class="playground"><code class="language-rust edition2024">fn main() -&gt; impl std::process::Termination {
    std::process::ExitCode::SUCCESS
}</code></pre></pre>
<div class="rule" id="r-crate.main.import"><a class="rule-link" href="crates-and-source-files.html#r-crate.main.import" title="crate.main.import"><span>[crate<wbr>.main<wbr>.import]</span></a>
</div>
<p>The <code>main</code> function may be an import, e.g. from an external crate or from the current one.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>mod foo {
    pub fn bar() {
        println!("Hello, world!");
    }
}
use foo::bar as main;
<span class="boring">}</span></code></pre></pre>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>Types with implementations of <a href="../std/process/trait.Termination.html"><code>Termination</code></a> in the standard library include:</p>
<ul>
<li><code>()</code></li>
<li><a href="types/never.html"><code>!</code></a></li>
<li><a href="../core/convert/enum.Infallible.html"><code>Infallible</code></a></li>
<li><a href="../std/process/struct.ExitCode.html"><code>ExitCode</code></a></li>
<li><code>Result&lt;T, E&gt; where T: Termination, E: Debug</code></li>
</ul>
</blockquote>
</div>
<!-- If the previous section needs updating (from "must take no arguments"
  onwards, also update it in the testing.md file -->
<div class="rule" id="r-crate.uncaught-foreign-unwinding"><a class="rule-link" href="crates-and-source-files.html#r-crate.uncaught-foreign-unwinding" title="crate.uncaught-foreign-unwinding"><span>[crate<wbr>.uncaught-foreign-unwinding]</span></a>
</div>
<h3 id="uncaught-foreign-unwinding"><a class="header" href="#uncaught-foreign-unwinding">Uncaught foreign unwinding</a></h3>
<p>When a “foreign” unwind (e.g. an exception thrown from C++ code, or a <code>panic!</code> in Rust code using a different panic handler) propagates beyond the <code>main</code> function, the process will be safely terminated. This may take the form of an abort, in which case it is not guaranteed that any <code>Drop</code> calls will be executed, and the error output may be less informative than if the runtime had been terminated by a “native” Rust <code>panic</code>.</p>
<p>For more information, see the <a href="panic.html#unwinding-across-ffi-boundaries">panic documentation</a>.</p>
<div class="rule" id="r-crate.no_main"><a class="rule-link" href="crates-and-source-files.html#r-crate.no_main" title="crate.no_main"><span>[crate<wbr>.no_main]</span></a>
</div>
<h3 id="the-no_main-attribute"><a class="header" href="#the-no_main-attribute">The <code>no_main</code> attribute</a></h3>
<p>The <em><code>no_main</code> <a href="attributes.html">attribute</a></em> may be applied at the crate level to disable emitting the <code>main</code> symbol for an executable binary. This is useful when some other object being linked to defines <code>main</code>.</p>
<div class="rule" id="r-crate.crate_name"><a class="rule-link" href="crates-and-source-files.html#r-crate.crate_name" title="crate.crate_name"><span>[crate<wbr>.crate_name]</span></a>
</div>
<h2 id="the-crate_name-attribute"><a class="header" href="#the-crate_name-attribute">The <code>crate_name</code> attribute</a></h2>
<div class="rule" id="r-crate.crate_name.general"><a class="rule-link" href="crates-and-source-files.html#r-crate.crate_name.general" title="crate.crate_name.general"><span>[crate<wbr>.crate_name<wbr>.general]</span></a>
</div>
<p>The <em><code>crate_name</code> <a href="attributes.html">attribute</a></em> may be applied at the crate level to specify the
name of the crate with the <a href="attributes.html#grammar-MetaNameValueStr">MetaNameValueStr</a> syntax.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span>#![crate_name = "mycrate"]
<span class="boring">fn main() {
</span><span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-crate.crate_name.restriction"><a class="rule-link" href="crates-and-source-files.html#r-crate.crate_name.restriction" title="crate.crate_name.restriction"><span>[crate<wbr>.crate_name<wbr>.restriction]</span></a>
</div>
<p>The crate name must not be empty, and must only contain <a href="../std/primitive.char.html#method.is_alphanumeric">Unicode alphanumeric</a>
or <code>_</code> (U+005F) characters.</p>
<hr>
<ol class="footnote-definition"><li id="footnote-phase-distinction">
<p>This distinction would also exist in an interpreter.
Static checks like syntactic analysis, type checking, and lints should
happen before the program is executed regardless of when it is executed. <a href="#fr-phase-distinction-1">↩</a></p>
</li>
<li id="footnote-cratesourcefile">
<p>A crate is somewhat analogous to an <em>assembly</em> in the
ECMA-335 CLI model, a <em>library</em> in the SML/NJ Compilation Manager, a <em>unit</em>
in the Owens and Flatt module system, or a <em>configuration</em> in Mesa. <a href="#fr-cratesourcefile-1">↩</a></p>
</li>
</ol><div style="break-before: page; page-break-before: always;"></div><div class="rule" id="r-cfg"><a class="rule-link" href="conditional-compilation.html#r-cfg" title="cfg"><span>[cfg]</span></a>
</div>
<h1 id="conditional-compilation"><a class="header" href="#conditional-compilation">Conditional compilation</a></h1>
<div class="rule" id="r-cfg.syntax"><a class="rule-link" href="conditional-compilation.html#r-cfg.syntax" title="cfg.syntax"><span>[cfg<wbr>.syntax]</span></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ConfigurationPredicate" onclick="show_railroad()"><a href="conditional-compilation.html#railroad-ConfigurationPredicate">ConfigurationPredicate</a></span> → <br />
      <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationOption">ConfigurationOption</a></span> <br />
    | <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationAll">ConfigurationAll</a></span> <br />
    | <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationAny">ConfigurationAny</a></span> <br />
    | <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationNot">ConfigurationNot</a></span> <br />
    | <span class="grammar-literal">true</span> <br />
    | <span class="grammar-literal">false</span></p>
<p><span class="grammar-text grammar-production" id="grammar-ConfigurationOption" onclick="show_railroad()"><a href="conditional-compilation.html#railroad-ConfigurationOption">ConfigurationOption</a></span> → <br />
    <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> ( <span class="grammar-literal">=</span> ( <span class="grammar-text"><a href="tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-RAW_STRING_LITERAL">RAW_STRING_LITERAL</a></span> ) )<sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-ConfigurationAll" onclick="show_railroad()"><a href="conditional-compilation.html#railroad-ConfigurationAll">ConfigurationAll</a></span> → <br />
    <span class="grammar-literal">all</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationPredicateList">ConfigurationPredicateList</a></span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-ConfigurationAny" onclick="show_railroad()"><a href="conditional-compilation.html#railroad-ConfigurationAny">ConfigurationAny</a></span> → <br />
    <span class="grammar-literal">any</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationPredicateList">ConfigurationPredicateList</a></span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-ConfigurationNot" onclick="show_railroad()"><a href="conditional-compilation.html#railroad-ConfigurationNot">ConfigurationNot</a></span> → <br />
    <span class="grammar-literal">not</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationPredicate">ConfigurationPredicate</a></span> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-ConfigurationPredicateList" onclick="show_railroad()"><a href="conditional-compilation.html#railroad-ConfigurationPredicateList">ConfigurationPredicateList</a></span> → <br />
    <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationPredicate">ConfigurationPredicate</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="conditional-compilation.html#grammar-ConfigurationPredicate">ConfigurationPredicate</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 290px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ConfigurationPredicate"><svg class="railroad" viewBox="0 0 290 239" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="conditional-compilation.html#grammar-ConfigurationPredicate">
<text class="comment" x="95" y="25">
ConfigurationPredicate</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 172 0 h 24"/>
<g class="sequence">
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationOption">
<g class="nonterminal">
<rect height="22" width="172" x="59" y="42"/>
<text x="145" y="58">
ConfigurationOption</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 196 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 33 m 196 0 v -33"/>
<path d=" M 47 107 v 33 m 196 0 v -33"/>
<path d=" M 47 140 v 33 m 196 0 v -33"/>
<path d=" M 47 173 v 33 m 196 0 v -33"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 148 0 h 24 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationAll">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="75"/>
<text x="133" y="91">
ConfigurationAll</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 148 0 h 24 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationAny">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="108"/>
<text x="133" y="124">
ConfigurationAny</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 148 0 h 24 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationNot">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="141"/>
<text x="133" y="157">
ConfigurationNot</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 52 0 h 120 m -57 0 l -5 -5 m 0 10 l 5 -5 m 57 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="174"/>
<text x="85" y="190">
true</text>
</g>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 60 0 h 112 m -53 0 l -5 -5 m 0 10 l 5 -5 m 53 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="207"/>
<text x="89" y="223">
false</text>
</g>
</g>
<path d=" M 265 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 255 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 478px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ConfigurationOption"><svg class="railroad" viewBox="0 0 478 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="conditional-compilation.html#grammar-ConfigurationOption">
<text class="comment" x="81" y="25">
ConfigurationOption</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="35" y="55"/>
<text x="85" y="71">
IDENTIFIER</text>
</g>
</a>
<g class="optional">
<path d=" M 145 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 250 m -122 0 l -5 -5 m 0 10 l 5 -5 m 122 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="55"/>
<text x="183" y="71">
=</text>
</g>
<g class="choice">
<path d=" M 207 66 h 24 m 132 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0"/>
<a class="link" xlink:href="tokens.html#railroad-STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="132" x="231" y="55"/>
<text x="297" y="71">
STRING_LITERAL</text>
</g>
</a>
<path d=" M 207 66 a 12 12 0 0 1 12 12 v 9 m 188 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 219 87 v 0 a 12 12 0 0 0 12 12 m 164 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="tokens.html#railroad-RAW_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="164" x="231" y="88"/>
<text x="313" y="104">
RAW_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 197 66 h 10"/>
</g>
</g>
<path d=" M 135 66 h 10"/>
</g>
<path d=" M 453 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 443 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 484px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ConfigurationAll"><svg class="railroad" viewBox="0 0 484 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="conditional-compilation.html#grammar-ConfigurationAll">
<text class="comment" x="71" y="25">
ConfigurationAll</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="55"/>
<text x="57" y="71">
all</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="89" y="55"/>
<text x="103" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 127 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 236 m -115 0 l -5 -5 m 0 10 l 5 -5 m 115 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationPredicateList">
<g class="nonterminal">
<rect height="22" width="236" x="151" y="55"/>
<text x="269" y="71">
ConfigurationPredicateList</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="421" y="55"/>
<text x="435" y="71">
)</text>
</g>
<path d=" M 79 66 h 10"/>
<path d=" M 117 66 h 10"/>
<path d=" M 411 66 h 10"/>
</g>
<path d=" M 459 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 449 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 484px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ConfigurationAny"><svg class="railroad" viewBox="0 0 484 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="conditional-compilation.html#grammar-ConfigurationAny">
<text class="comment" x="71" y="25">
ConfigurationAny</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="55"/>
<text x="57" y="71">
any</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="89" y="55"/>
<text x="103" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 127 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 236 m -115 0 l -5 -5 m 0 10 l 5 -5 m 115 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationPredicateList">
<g class="nonterminal">
<rect height="22" width="236" x="151" y="55"/>
<text x="269" y="71">
ConfigurationPredicateList</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="421" y="55"/>
<text x="435" y="71">
)</text>
</g>
<path d=" M 79 66 h 10"/>
<path d=" M 117 66 h 10"/>
<path d=" M 411 66 h 10"/>
</g>
<path d=" M 459 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 449 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 404px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ConfigurationNot"><svg class="railroad" viewBox="0 0 404 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="conditional-compilation.html#grammar-ConfigurationNot">
<text class="comment" x="71" y="25">
ConfigurationNot</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42"/>
<text x="57" y="58">
not</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="89" y="42"/>
<text x="103" y="58">
(</text>
</g>
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationPredicate">
<g class="nonterminal">
<rect height="22" width="204" x="127" y="42"/>
<text x="229" y="58">
ConfigurationPredicate</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="341" y="42"/>
<text x="355" y="58">
)</text>
</g>
<path d=" M 79 53 h 10"/>
<path d=" M 117 53 h 10"/>
<path d=" M 331 53 h 10"/>
</g>
<path d=" M 379 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 369 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 684px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ConfigurationPredicateList"><svg class="railroad" viewBox="0 0 684 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="conditional-compilation.html#grammar-ConfigurationPredicateList">
<text class="comment" x="109" y="25">
ConfigurationPredicateList</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationPredicate">
<g class="nonterminal">
<rect height="22" width="204" x="35" y="55"/>
<text x="137" y="71">
ConfigurationPredicate</text>
</g>
</a>
<g class="optional">
<path d=" M 249 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 266 m -130 0 l -5 -5 m 0 10 l 5 -5 m 130 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 273 66 h 12 m 242 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -242 m 124 0 l 5 -5 m 0 10 l -5 -5 m -124 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="285" y="55"/>
<text x="299" y="71">
,</text>
</g>
<a class="link" xlink:href="conditional-compilation.html#railroad-ConfigurationPredicate">
<g class="nonterminal">
<rect height="22" width="204" x="323" y="55"/>
<text x="425" y="71">
ConfigurationPredicate</text>
</g>
</a>
<path d=" M 313 66 h 10"/>
</g>
</g>
</g>
<g class="optional">
<path d=" M 573 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="597" y="55"/>
<text x="611" y="71">
,</text>
</g>
</g>
<path d=" M 239 66 h 10"/>
<path d=" M 563 66 h 10"/>
</g>
<path d=" M 659 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 649 66 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-cfg.general"><a class="rule-link" href="conditional-compilation.html#r-cfg.general" title="cfg.general"><span>[cfg<wbr>.general]</span></a>
</div>
<p><em>Conditionally compiled source code</em> is source code that is compiled only under certain conditions.</p>
<div class="rule" id="r-cfg.attributes-macro"><a class="rule-link" href="conditional-compilation.html#r-cfg.attributes-macro" title="cfg.attributes-macro"><span>[cfg<wbr>.attributes-macro]</span></a>
</div>
<p>Source code can be made conditionally compiled using the <a href="conditional-compilation.html#the-cfg-attribute"><code>cfg</code></a> and <a href="conditional-compilation.html#the-cfg_attr-attribute"><code>cfg_attr</code></a> <a href="attributes.html">attributes</a> and the built-in <a href="conditional-compilation.html#the-cfg-macro"><code>cfg</code> macro</a>.</p>
<div class="rule" id="r-cfg.conditional"><a class="rule-link" href="conditional-compilation.html#r-cfg.conditional" title="cfg.conditional"><span>[cfg<wbr>.conditional]</span></a>
</div>
<p>Whether to compile can depend on the target architecture of the compiled crate, arbitrary values passed to the compiler, and other things further described below.</p>
<div class="rule" id="r-cfg.predicate"><a class="rule-link" href="conditional-compilation.html#r-cfg.predicate" title="cfg.predicate"><span>[cfg<wbr>.predicate]</span></a>
</div>
<p>Each form of conditional compilation takes a <em>configuration predicate</em> that
evaluates to true or false. The predicate is one of the following:</p>
<div class="rule" id="r-cfg.predicate.option"><a class="rule-link" href="conditional-compilation.html#r-cfg.predicate.option" title="cfg.predicate.option"><span>[cfg<wbr>.predicate<wbr>.option]</span></a>
</div>
<ul>
<li>A configuration option. The predicate is true if the option is set, and false if it is unset.</li>
</ul>
<div class="rule" id="r-cfg.predicate.all"><a class="rule-link" href="conditional-compilation.html#r-cfg.predicate.all" title="cfg.predicate.all"><span>[cfg<wbr>.predicate<wbr>.all]</span></a>
</div>
<ul>
<li><code>all()</code> with a comma-separated list of configuration predicates. It is true if all of the given predicates are true, or if the list is empty.</li>
</ul>
<div class="rule" id="r-cfg.predicate.any"><a class="rule-link" href="conditional-compilation.html#r-cfg.predicate.any" title="cfg.predicate.any"><span>[cfg<wbr>.predicate<wbr>.any]</span></a>
</div>
<ul>
<li><code>any()</code> with a comma-separated list of configuration predicates. It is true if at least one of the given predicates is true. If there are no predicates, it is false.</li>
</ul>
<div class="rule" id="r-cfg.predicate.not"><a class="rule-link" href="conditional-compilation.html#r-cfg.predicate.not" title="cfg.predicate.not"><span>[cfg<wbr>.predicate<wbr>.not]</span></a>
</div>
<ul>
<li><code>not()</code> with a configuration predicate. It is true if its predicate is false and false if its predicate is true.</li>
</ul>
<div class="rule" id="r-cfg.predicate.literal"><a class="rule-link" href="conditional-compilation.html#r-cfg.predicate.literal" title="cfg.predicate.literal"><span>[cfg<wbr>.predicate<wbr>.literal]</span></a>
</div>
<ul>
<li><code>true</code> or <code>false</code> literals, which are always true or false respectively.</li>
</ul>
<div class="rule" id="r-cfg.option-spec"><a class="rule-link" href="conditional-compilation.html#r-cfg.option-spec" title="cfg.option-spec"><span>[cfg<wbr>.option-spec]</span></a>
</div>
<p><em>Configuration options</em> are either names or key-value pairs, and are either set or unset.</p>
<div class="rule" id="r-cfg.option-name"><a class="rule-link" href="conditional-compilation.html#r-cfg.option-name" title="cfg.option-name"><span>[cfg<wbr>.option-name]</span></a>
</div>
<p>Names are written as a single identifier, such as <code>unix</code>.</p>
<div class="rule" id="r-cfg.option-key-value"><a class="rule-link" href="conditional-compilation.html#r-cfg.option-key-value" title="cfg.option-key-value"><span>[cfg<wbr>.option-key-value]</span></a>
</div>
<p>Key-value pairs are written as an identifier, <code>=</code>, and then a string, such as <code>target_arch = "x86_64"</code>.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>Whitespace around the <code>=</code> is ignored, so <code>foo="bar"</code> and <code>foo = "bar"</code> are equivalent.</p>
</blockquote>
</div>
<div class="rule" id="r-cfg.option-key-uniqueness"><a class="rule-link" href="conditional-compilation.html#r-cfg.option-key-uniqueness" title="cfg.option-key-uniqueness"><span>[cfg<wbr>.option-key-uniqueness]</span></a>
</div>
<p>Keys do not need to be unique. For example, both <code>feature = "std"</code> and <code>feature = "serde"</code> can be set at the same time.</p>
<div class="rule" id="r-cfg.options.set"><a class="rule-link" href="conditional-compilation.html#r-cfg.options.set" title="cfg.options.set"><span>[cfg<wbr>.options<wbr>.set]</span></a>
</div>
<h2 id="set-configuration-options"><a class="header" href="#set-configuration-options">Set configuration options</a></h2>
<div class="rule" id="r-cfg.options.general"><a class="rule-link" href="conditional-compilation.html#r-cfg.options.general" title="cfg.options.general"><span>[cfg<wbr>.options<wbr>.general]</span></a>
</div>
<p>Which configuration options are set is determined statically during the
compilation of the crate.</p>
<div class="rule" id="r-cfg.options.target"><a class="rule-link" href="conditional-compilation.html#r-cfg.options.target" title="cfg.options.target"><span>[cfg<wbr>.options<wbr>.target]</span></a>
</div>
<p>Some options are <em>compiler-set</em> based on data about the compilation.</p>
<div class="rule" id="r-cfg.options.other"><a class="rule-link" href="conditional-compilation.html#r-cfg.options.other" title="cfg.options.other"><span>[cfg<wbr>.options<wbr>.other]</span></a>
</div>
<p>Other options are <em>arbitrarily-set</em> based on input passed to the compiler outside of the code.</p>
<div class="rule" id="r-cfg.options.crate"><a class="rule-link" href="conditional-compilation.html#r-cfg.options.crate" title="cfg.options.crate"><span>[cfg<wbr>.options<wbr>.crate]</span></a>
</div>
<p>It is not possible to set a
configuration option from within the source code of the crate being compiled.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>For <code>rustc</code>, arbitrary-set configuration options are set using the <a href="../rustc/command-line-arguments.html#--cfg-configure-the-compilation-environment"><code>--cfg</code></a> flag. Configuration values for a specified target can be displayed with <code>rustc --print cfg --target $TARGET</code>.</p>
</blockquote>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>Configuration options with the key <code>feature</code> are a convention used by <a href="../cargo/reference/features.html">Cargo</a> for specifying compile-time options and optional dependencies.</p>
</blockquote>
</div>
<div class="rule" id="r-cfg.target_arch"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_arch" title="cfg.target_arch"><span>[cfg<wbr>.target_arch]</span></a>
</div>
<h3 id="target_arch"><a class="header" href="#target_arch"><code>target_arch</code></a></h3>
<div class="rule" id="r-cfg.target_arch.gen"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_arch.gen" title="cfg.target_arch.gen"><span>[cfg<wbr>.target_arch<wbr>.gen]</span></a>
</div>
<p>Key-value option set once with the target’s CPU architecture. The value is
similar to the first element of the platform’s target triple, but not
identical.</p>
<div class="rule" id="r-cfg.target_arch.values"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_arch.values" title="cfg.target_arch.values"><span>[cfg<wbr>.target_arch<wbr>.values]</span></a>
</div>
<p>Example values:</p>
<ul>
<li><code>"x86"</code></li>
<li><code>"x86_64"</code></li>
<li><code>"mips"</code></li>
<li><code>"powerpc"</code></li>
<li><code>"powerpc64"</code></li>
<li><code>"arm"</code></li>
<li><code>"aarch64"</code></li>
</ul>
<div class="rule" id="r-cfg.target_feature"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_feature" title="cfg.target_feature"><span>[cfg<wbr>.target_feature]</span></a>
</div>
<h3 id="target_feature"><a class="header" href="#target_feature"><code>target_feature</code></a></h3>
<div class="rule" id="r-cfg.target_feature.general"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_feature.general" title="cfg.target_feature.general"><span>[cfg<wbr>.target_feature<wbr>.general]</span></a>
</div>
<p>Key-value option set for each platform feature available for the current
compilation target.</p>
<div class="rule" id="r-cfg.target_feature.values"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_feature.values" title="cfg.target_feature.values"><span>[cfg<wbr>.target_feature<wbr>.values]</span></a>
</div>
<p>Example values:</p>
<ul>
<li><code>"avx"</code></li>
<li><code>"avx2"</code></li>
<li><code>"crt-static"</code></li>
<li><code>"rdrand"</code></li>
<li><code>"sse"</code></li>
<li><code>"sse2"</code></li>
<li><code>"sse4.1"</code></li>
</ul>
<p>See the <a href="attributes/codegen.html#the-target_feature-attribute"><code>target_feature</code> attribute</a> for more details on the available
features.</p>
<div class="rule" id="r-cfg.target_feature.crt_static"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_feature.crt_static" title="cfg.target_feature.crt_static"><span>[cfg<wbr>.target_feature<wbr>.crt_static]</span></a>
</div>
<p>An additional feature of <code>crt-static</code> is available to the
<code>target_feature</code> option to indicate that a <a href="linkage.html#static-and-dynamic-c-runtimes">static C runtime</a> is available.</p>
<div class="rule" id="r-cfg.target_os"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_os" title="cfg.target_os"><span>[cfg<wbr>.target_os]</span></a>
</div>
<h3 id="target_os"><a class="header" href="#target_os"><code>target_os</code></a></h3>
<div class="rule" id="r-cfg.target_os.general"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_os.general" title="cfg.target_os.general"><span>[cfg<wbr>.target_os<wbr>.general]</span></a>
</div>
<p>Key-value option set once with the target’s operating system. This value is
similar to the second and third element of the platform’s target triple.</p>
<div class="rule" id="r-cfg.target_os.values"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_os.values" title="cfg.target_os.values"><span>[cfg<wbr>.target_os<wbr>.values]</span></a>
</div>
<p>Example values:</p>
<ul>
<li><code>"windows"</code></li>
<li><code>"macos"</code></li>
<li><code>"ios"</code></li>
<li><code>"linux"</code></li>
<li><code>"android"</code></li>
<li><code>"freebsd"</code></li>
<li><code>"dragonfly"</code></li>
<li><code>"openbsd"</code></li>
<li><code>"netbsd"</code></li>
<li><code>"none"</code> (typical for embedded targets)</li>
</ul>
<div class="rule" id="r-cfg.target_family"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_family" title="cfg.target_family"><span>[cfg<wbr>.target_family]</span></a>
</div>
<h3 id="target_family"><a class="header" href="#target_family"><code>target_family</code></a></h3>
<div class="rule" id="r-cfg.target_family.general"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_family.general" title="cfg.target_family.general"><span>[cfg<wbr>.target_family<wbr>.general]</span></a>
</div>
<p>Key-value option providing a more generic description of a target, such as the family of the
operating systems or architectures that the target generally falls into. Any number of
<code>target_family</code> key-value pairs can be set.</p>
<div class="rule" id="r-cfg.target_family.values"><a class="rule-link" href="conditional-compilation.html#r-cfg.target_family.values" title="cfg.target_family.values"><span>[cfg<wbr>.target_family<wbr>.values]</span></a>
</div>
<p>Example values:</p>
<ul>
<li><code>"unix"</code></li>
<li><code>"windows"</code></li>
<li><code>"wasm"</code></li>
<li>Both <code>"unix"</code> and <code>"wasm"</code></li>
</ul>
<div class="rule" id="r-cfg.target_fam